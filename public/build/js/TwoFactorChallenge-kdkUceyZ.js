import{_ as v}from"./InputError.vue_vue_type_script_setup_true_lang-C_h_UtUM.js";import{_ as y}from"./app-Be-_g2rP.js";import{_ as $}from"./Input.vue_vue_type_script_setup_true_lang-CmkizqKw.js";import{_ as T,a as V,b as B}from"./PinInputSlot.vue_vue_type_script_setup_true_lang-BXvlP1yN.js";import{_ as E}from"./AuthLayout.vue_vue_type_script_setup_true_lang-CxRMJsdE.js";import{y as F,a as g,r as x,I as p,J as c,K as n,Q as o,ae as t,H as a,at as j,bL as b,Z as N,F as R,_ as A,aa as h,ab as C}from"./vendor-core-CH6ggemF.js";import"./vendor-CToOQyou.js";import"./vendor-ui-B9jtnHz4.js";import"./vendor-editor-zpcSff2F.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DjPrsa6Z.js";const I={class:"space-y-6"},L=["value"],q={class:"flex flex-col items-center justify-center space-y-3 text-center"},D={class:"flex w-full items-center justify-center"},H={class:"text-center text-sm text-muted-foreground"},J=["onClick"],K={class:"text-center text-sm text-muted-foreground"},M=["onClick"],ee=F({__name:"TwoFactorChallenge",setup(P){const l=g(()=>r.value?{title:"Recovery Code",description:"Please confirm access to your account by entering one of your emergency recovery codes.",toggleText:"login using an authentication code"}:{title:"Authentication Code",description:"Enter the authentication code provided by your authenticator application.",toggleText:"login using a recovery code"}),r=x(!1),_=i=>{r.value=!r.value,i(),s.value=[]},s=x([]),k=g(()=>s.value.join(""));return(i,e)=>(c(),p(E,{title:l.value.title,description:l.value.description},{default:n(()=>[o(a(j),{title:"Two-Factor Authentication"}),t("div",I,[r.value?(c(),p(a(b),{key:1,action:i.route("two-factor.login.store"),method:"post",class:"space-y-4","reset-on-error":""},{default:n(({errors:u,processing:d,clearErrors:f})=>[o(a($),{name:"recovery_code",type:"text",placeholder:"Enter recovery code",autofocus:r.value,required:""},null,8,["autofocus"]),o(v,{message:u.recovery_code},null,8,["message"]),o(a(y),{type:"submit",class:"w-full",disabled:d},{default:n(()=>[...e[4]||(e[4]=[h("Continue",-1)])]),_:1},8,["disabled"]),t("div",K,[e[5]||(e[5]=t("span",null,"or you can ",-1)),t("button",{type:"button",class:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500",onClick:()=>_(f)},C(l.value.toggleText),9,M)])]),_:1},8,["action"])):(c(),p(a(b),{key:0,action:i.route("two-factor.login.store"),method:"post",class:"space-y-4","reset-on-error":"",onError:e[1]||(e[1]=u=>s.value=[])},{default:n(({errors:u,processing:d,clearErrors:f})=>[t("input",{type:"hidden",name:"code",value:k.value},null,8,L),t("div",q,[t("div",D,[o(a(T),{id:"otp",placeholder:"â—‹",modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=m=>s.value=m),type:"number",otp:""},{default:n(()=>[o(a(V),null,{default:n(()=>[(c(),N(R,null,A(6,(m,w)=>o(a(B),{key:m,index:w,disabled:d,autofocus:""},null,8,["index","disabled"])),64))]),_:2},1024)]),_:2},1032,["modelValue"])]),o(v,{message:u.code},null,8,["message"])]),o(a(y),{type:"submit",class:"w-full",disabled:d},{default:n(()=>[...e[2]||(e[2]=[h("Continue",-1)])]),_:1},8,["disabled"]),t("div",H,[e[3]||(e[3]=t("span",null,"or you can ",-1)),t("button",{type:"button",class:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500",onClick:()=>_(f)},C(l.value.toggleText),9,J)])]),_:1},8,["action"]))])]),_:1},8,["title","description"]))}});export{ee as default};
