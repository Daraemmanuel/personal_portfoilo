import{_ as j}from"./AppLayout.vue_vue_type_script_setup_true_lang-BUIDpkiI.js";import{y as L,a as p,I as v,J as i,K as y,Q as l,ae as t,H as a,at as T,Z as d,R as m,az as h,ab as r,aj as k,a1 as P,aA as f,aB as M,aC as N,aD as S,aa as u,aE as B,F as x,_ as b,O as w,ai as $,aF as F,aG as J}from"./vendor-core-CH6ggemF.js";import"./app-6YmsHEpk.js";import"./vendor-CToOQyou.js";import"./vendor-ui-B9jtnHz4.js";import"./vendor-editor-zpcSff2F.js";import"./SheetContent.vue_vue_type_script_setup_true_lang-CymPfEEt.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DjPrsa6Z.js";const O={class:"min-h-[calc(100vh-64px)] bg-background p-4 sm:p-6 lg:p-10"},z={class:"mx-auto max-w-7xl"},E={class:"mb-8 grid grid-cols-1 gap-4 sm:mb-12 sm:grid-cols-2 sm:gap-6 lg:grid-cols-4"},H={class:"rounded-2xl border border-border bg-card p-4 shadow-sm transition-colors sm:p-6"},I={class:"mb-3 flex items-center justify-between sm:mb-4"},R={class:"rounded-full bg-primary/10 p-1.5 text-primary sm:p-2"},U={class:"text-2xl font-bold text-foreground sm:text-3xl"},q={class:"rounded-2xl border border-border bg-card p-4 shadow-sm transition-colors sm:p-6"},G={class:"mb-3 flex items-center justify-between sm:mb-4"},K={class:"rounded-full bg-blue-500/10 p-1.5 text-blue-500 sm:p-2"},Q={class:"text-2xl font-bold text-foreground sm:text-3xl"},Z={class:"rounded-2xl border border-border bg-card p-4 shadow-sm transition-colors sm:p-6"},W={class:"mb-3 flex items-center justify-between sm:mb-4"},X={class:"rounded-full bg-emerald-500/10 p-1.5 text-emerald-500 sm:p-2"},Y={class:"text-2xl font-bold text-foreground sm:text-3xl"},tt={class:"rounded-2xl border border-border bg-card p-4 shadow-sm transition-colors sm:p-6"},et={class:"mb-3 flex items-center justify-between sm:mb-4"},st={class:"rounded-full bg-amber-500/10 p-1.5 text-amber-500 sm:p-2"},ot={class:"text-2xl font-bold text-foreground sm:text-3xl"},rt={class:"mb-8 sm:mb-12"},it={class:"relative overflow-hidden rounded-2xl border border-border bg-card shadow-sm transition-colors"},at={class:"border-b border-border bg-muted/50 p-4 sm:p-6"},dt={class:"flex items-center gap-2 text-lg font-bold text-foreground"},lt={class:"p-4 sm:p-6"},nt={key:0,class:"flex items-end justify-between gap-2",style:{"min-height":"200px"}},ct=["title"],mt={key:0,class:"text-xs text-muted-foreground"},ut={key:1,class:"py-12 text-center text-sm text-muted-foreground"},xt={class:"mb-8 sm:mb-12"},bt={class:"relative overflow-hidden rounded-2xl border border-border bg-card shadow-sm transition-colors"},gt={class:"border-b border-border bg-muted/50 p-4 sm:p-6"},_t={class:"flex items-center gap-2 text-lg font-bold text-foreground"},ht={class:"p-4 sm:p-6"},ft={key:0,class:"space-y-4"},pt={class:"w-24 text-sm font-medium text-foreground"},vt={class:"flex-1"},wt={class:"mb-1 flex items-center justify-between text-xs"},yt={class:"text-muted-foreground"},kt={class:"text-muted-foreground"},Pt={class:"h-2 w-full overflow-hidden rounded-full bg-muted"},Mt={key:1,class:"py-12 text-center text-sm text-muted-foreground"},St={class:"mb-8 grid grid-cols-1 gap-8 lg:grid-cols-2"},Bt={class:"relative overflow-hidden rounded-2xl border border-border bg-card shadow-sm transition-colors"},Ct={class:"border-b border-border bg-muted/50 p-4 sm:p-6"},Dt={class:"flex items-center gap-2 text-lg font-bold text-foreground"},Vt={class:"p-4 sm:p-6"},At={class:"space-y-4"},jt={class:"flex min-w-0 items-center gap-4"},Lt={class:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-amber-500/10 text-sm font-black text-amber-500"},Tt={class:"min-w-0"},Nt={class:"truncate text-sm font-bold text-foreground sm:text-base"},$t={class:"mt-1 flex items-center gap-2 text-xs text-muted-foreground"},Ft={key:0,class:"relative overflow-hidden rounded-2xl border border-border bg-card shadow-sm transition-colors"},Jt={class:"border-b border-border bg-muted/50 p-4 sm:p-6"},Ot={class:"flex items-center gap-2 text-lg font-bold text-foreground"},zt={class:"p-4 sm:p-6"},Et={class:"space-y-4"},Ht={class:"mb-2 flex items-center justify-between"},It={class:"text-sm font-bold text-foreground sm:text-base"},Rt={class:"flex items-center gap-2 text-xs font-bold text-muted-foreground sm:text-sm"},Ut={class:"mb-2 h-2 w-full overflow-hidden rounded-full bg-muted"},qt={class:"text-xs text-muted-foreground"},Gt={key:0,class:"mb-8 sm:mb-12"},Kt={class:"relative overflow-hidden rounded-2xl border border-border bg-card shadow-sm transition-colors"},Qt={class:"border-b border-border bg-muted/50 p-4 sm:p-6"},Zt={class:"flex items-center gap-2 text-lg font-bold text-foreground"},Wt={class:"p-4 sm:p-6"},Xt={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},Yt={class:"mb-2 flex items-center justify-between"},te={class:"font-bold text-foreground"},ee={class:"flex h-10 w-10 items-center justify-center rounded-full bg-indigo-500/10 text-sm font-bold text-indigo-500"},se={class:"flex items-center gap-2 text-xs text-muted-foreground"},me=L({__name:"Index",props:{stats:{},articleViews:{},viewsByMonth:{},popularArticles:{},viewsByCategory:{},articlePerformance:{},seriesStats:{},topPerformingArticles:{}},setup(C){const o=C,D=p(()=>Math.max(...o.articleViews?.map(n=>n.total_views)||[0],1)),V=n=>`${n/D.value*100}%`,A=n=>["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n-1]||"",g=p(()=>{if(!o.articlePerformance)return null;const n=o.articlePerformance.views_this_month,e=o.articlePerformance.views_last_month;if(e===0)return null;const s=(n-e)/e*100;return{value:Math.abs(s).toFixed(1),isPositive:s>0}}),_=p(()=>{if(!o.articlePerformance)return null;const n=o.articlePerformance.articles_this_month,e=o.articlePerformance.articles_last_month;if(e===0)return null;const s=(n-e)/e*100;return{value:Math.abs(s).toFixed(1),isPositive:s>0}});return(n,e)=>(i(),v(j,{breadcrumbs:[{title:"Dashboard",href:n.route("dashboard")},{title:"Analytics",href:n.route("admin.analytics.index")}]},{default:y(()=>[l(a(T),{title:"Analytics"}),t("div",O,[t("div",z,[e[14]||(e[14]=t("div",{class:"mb-8 sm:mb-12"},[t("h2",{class:"bg-gradient-to-r from-foreground to-foreground/50 bg-clip-text text-2xl font-bold tracking-tight text-transparent sm:text-3xl lg:text-4xl"}," Detailed Analytics "),t("p",{class:"mt-1 text-sm text-muted-foreground sm:mt-2 sm:text-base"}," Deep dive into your portfolio performance, trends, and engagement metrics. ")],-1)),t("div",E,[t("div",H,[t("div",I,[e[0]||(e[0]=t("h3",{class:"text-xs font-bold tracking-widest text-muted-foreground uppercase"}," Total Views ",-1)),t("div",R,[l(a(h),{class:"h-4 w-4 sm:h-5 sm:w-5"})])]),t("p",U,r(o.articlePerformance.total_views.toLocaleString()),1),g.value?(i(),d("div",{key:0,class:k(["mt-2 flex items-center gap-1 text-xs",g.value.isPositive?"text-emerald-500":"text-red-500"])},[(i(),v(P(g.value.isPositive?a(f):a(M)),{class:"h-3 w-3"})),t("span",null,r(g.value.value)+"% vs last month ",1)],2)):m("",!0)]),t("div",q,[t("div",G,[e[1]||(e[1]=t("h3",{class:"text-xs font-bold tracking-widest text-muted-foreground uppercase"}," Avg Views ",-1)),t("div",K,[l(a(f),{class:"h-4 w-4 sm:h-5 sm:w-5"})])]),t("p",Q,r(Math.round(o.articlePerformance.avg_views_per_article).toLocaleString()),1),e[2]||(e[2]=t("p",{class:"mt-1.5 text-xs font-medium text-muted-foreground sm:mt-2"}," Per published article ",-1))]),t("div",Z,[t("div",W,[e[3]||(e[3]=t("h3",{class:"text-xs font-bold tracking-widest text-muted-foreground uppercase"}," Articles This Month ",-1)),t("div",X,[l(a(N),{class:"h-4 w-4 sm:h-5 sm:w-5"})])]),t("p",Y,r(o.articlePerformance.articles_this_month),1),_.value?(i(),d("div",{key:0,class:k(["mt-2 flex items-center gap-1 text-xs",_.value.isPositive?"text-emerald-500":"text-red-500"])},[(i(),v(P(_.value.isPositive?a(f):a(M)),{class:"h-3 w-3"})),t("span",null,r(_.value.value)+"% vs last month ",1)],2)):m("",!0)]),t("div",tt,[t("div",et,[e[4]||(e[4]=t("h3",{class:"text-xs font-bold tracking-widest text-muted-foreground uppercase"}," Max Views ",-1)),t("div",st,[l(a(S),{class:"h-4 w-4 sm:h-5 sm:w-5"})])]),t("p",ot,r(o.articlePerformance.max_views.toLocaleString()),1),e[5]||(e[5]=t("p",{class:"mt-1.5 text-xs font-medium text-muted-foreground sm:mt-2"}," Best performing article ",-1))])]),t("div",rt,[t("div",it,[t("div",at,[t("h3",dt,[l(a(B),{class:"h-5 w-5 text-primary"}),e[6]||(e[6]=u(" Views Over Time (Last 90 Days) ",-1))]),e[7]||(e[7]=t("p",{class:"mt-2 text-sm text-muted-foreground"}," Daily view count and article creation ",-1))]),t("div",lt,[o.articleViews&&o.articleViews.length>0?(i(),d("div",nt,[(i(!0),d(x,null,b(o.articleViews,(s,c)=>(i(),d("div",{key:c,class:"flex flex-1 flex-col items-center gap-2"},[t("div",{class:"relative w-full rounded-t bg-primary/20 transition-all hover:bg-primary/30",style:w({height:V(s.total_views),minHeight:"4px"}),title:`${s.total_views} views on ${new Date(s.date).toLocaleDateString()}`},null,12,ct),c%7===0?(i(),d("span",mt,r(new Date(s.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),1)):m("",!0)]))),128))])):(i(),d("div",ut," No view data available "))])])]),t("div",xt,[t("div",bt,[t("div",gt,[t("h3",_t,[l(a(f),{class:"h-5 w-5 text-primary"}),e[8]||(e[8]=u(" Monthly Trends (Last 12 Months) ",-1))])]),t("div",ht,[o.viewsByMonth&&o.viewsByMonth.length>0?(i(),d("div",ft,[(i(!0),d(x,null,b(o.viewsByMonth,s=>(i(),d("div",{key:`${s.year}-${s.month}`,class:"flex items-center gap-4"},[t("div",pt,r(A(s.month))+" "+r(s.year),1),t("div",vt,[t("div",wt,[t("span",yt,r(s.total_views.toLocaleString())+" views ",1),t("span",kt,r(s.article_count)+" articles ",1)]),t("div",Pt,[t("div",{class:"h-full bg-primary transition-all",style:w({width:`${s.total_views/Math.max(...o.viewsByMonth.map(c=>c.total_views),1)*100}%`})},null,4)])])]))),128))])):(i(),d("div",Mt," No monthly data available "))])])]),t("div",St,[t("div",Bt,[t("div",Ct,[t("h3",Dt,[l(a(S),{class:"h-5 w-5 text-amber-500"}),e[9]||(e[9]=u(" Top Performing Articles ",-1))]),e[10]||(e[10]=t("p",{class:"mt-2 text-sm text-muted-foreground"}," Ranked by views + engagement ",-1))]),t("div",Vt,[t("div",At,[(i(!0),d(x,null,b(o.topPerformingArticles,(s,c)=>(i(),d("div",{key:s.id,class:"flex items-center justify-between rounded-xl border border-border bg-muted/30 p-3 transition-colors hover:bg-muted/50 sm:p-4"},[t("div",jt,[t("div",Lt,r(c+1),1),t("div",Tt,[l(a($),{href:n.route("admin.articles.edit",s.id),class:"block"},{default:y(()=>[t("p",Nt,r(s.title),1),t("div",$t,[l(a(h),{class:"h-3 w-3"}),t("span",null,r(s.views.toLocaleString()),1),l(a(F),{class:"ml-2 h-3 w-3"}),t("span",null,r(s.comments_count||0),1)])]),_:2},1032,["href"])])])]))),128))])])]),o.viewsByCategory&&o.viewsByCategory.length>0?(i(),d("div",Ft,[t("div",Jt,[t("h3",Ot,[l(a(B),{class:"h-5 w-5 text-primary"}),e[11]||(e[11]=u(" Performance by Category ",-1))])]),t("div",zt,[t("div",Et,[(i(!0),d(x,null,b(o.viewsByCategory,s=>(i(),d("div",{key:s.category,class:"rounded-xl border border-border bg-muted/30 p-4 transition-colors hover:bg-muted/50"},[t("div",Ht,[t("p",It,r(s.category),1),t("div",Rt,[l(a(h),{class:"h-4 w-4"}),t("span",null,r(s.total_views.toLocaleString()),1)])]),t("div",Ut,[t("div",{class:"h-full bg-primary transition-all",style:w({width:`${s.total_views/Math.max(...o.viewsByCategory.map(c=>c.total_views),1)*100}%`})},null,4)]),t("p",qt,r(s.article_count)+" article"+r(s.article_count!==1?"s":""),1)]))),128))])])])):m("",!0)]),o.seriesStats&&o.seriesStats.length>0?(i(),d("div",Gt,[t("div",Kt,[t("div",Qt,[t("h3",Zt,[l(a(J),{class:"h-5 w-5 text-indigo-500"}),e[12]||(e[12]=u(" Article Series Performance ",-1))])]),t("div",Wt,[t("div",Xt,[(i(!0),d(x,null,b(o.seriesStats,s=>(i(),d("div",{key:s.series,class:"rounded-xl border border-border bg-muted/30 p-4 transition-colors hover:bg-muted/50"},[t("div",Yt,[t("p",te,r(s.series),1),t("div",ee,r(s.article_count),1)]),t("div",se,[l(a(h),{class:"h-3 w-3"}),t("span",null,r(s.total_views.toLocaleString()),1),e[13]||(e[13]=t("span",{class:"text-border"},"â€¢",-1)),t("span",null,r(Math.round(s.total_views/s.article_count))+" avg views",1)])]))),128))])])])])):m("",!0)])])]),_:1},8,["breadcrumbs"]))}});export{me as default};
