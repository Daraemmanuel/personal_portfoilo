var Td=typeof global=="object"&&global&&global.Object===Object&&global,Vm=typeof self=="object"&&self&&self.Object===Object&&self,Ct=Td||Vm||Function("return this")(),Ot=Ct.Symbol,Rd=Object.prototype,Um=Rd.hasOwnProperty,qm=Rd.toString,gr=Ot?Ot.toStringTag:void 0;function Hm(n){var e=Um.call(n,gr),t=n[gr];try{n[gr]=void 0;var r=!0}catch{}var i=qm.call(n);return r&&(e?n[gr]=t:delete n[gr]),i}var Wm=Object.prototype,Km=Wm.toString;function Jm(n){return Km.call(n)}var Gm="[object Null]",Qm="[object Undefined]",Ec=Ot?Ot.toStringTag:void 0;function or(n){return n==null?n===void 0?Qm:Gm:Ec&&Ec in Object(n)?Hm(n):Jm(n)}function sn(n){return n!=null&&typeof n=="object"}var Xm="[object Symbol]";function Oa(n){return typeof n=="symbol"||sn(n)&&or(n)==Xm}function Ym(n,e){for(var t=-1,r=n==null?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}var $t=Array.isArray,Ac=Ot?Ot.prototype:void 0,Cc=Ac?Ac.toString:void 0;function Nd(n){if(typeof n=="string")return n;if($t(n))return Ym(n,Nd)+"";if(Oa(n))return Cc?Cc.call(n):"";var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function Xn(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var Zm="[object AsyncFunction]",eg="[object Function]",tg="[object GeneratorFunction]",ng="[object Proxy]";function Md(n){if(!Xn(n))return!1;var e=or(n);return e==eg||e==tg||e==Zm||e==ng}var rs=Ct["__core-js_shared__"],kc=(function(){var n=/[^.]+$/.exec(rs&&rs.keys&&rs.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function rg(n){return!!kc&&kc in n}var ig=Function.prototype,og=ig.toString;function Pn(n){if(n!=null){try{return og.call(n)}catch{}try{return n+""}catch{}}return""}var sg=/[\\^$.*+?()[\]{}|]/g,lg=/^\[object .+?Constructor\]$/,ag=Function.prototype,cg=Object.prototype,fg=ag.toString,ug=cg.hasOwnProperty,dg=RegExp("^"+fg.call(ug).replace(sg,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hg(n){if(!Xn(n)||rg(n))return!1;var e=Md(n)?dg:lg;return e.test(Pn(n))}function pg(n,e){return n?.[e]}function In(n,e){var t=pg(n,e);return hg(t)?t:void 0}var Pl=In(Ct,"WeakMap"),Tc=Object.create,mg=(function(){function n(){}return function(e){if(!Xn(e))return{};if(Tc)return Tc(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}})(),Rc=(function(){try{var n=In(Object,"defineProperty");return n({},"",{}),n}catch{}})();function gg(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var yg=9007199254740991,bg=/^(?:0|[1-9]\d*)$/;function va(n,e){var t=typeof n;return e=e??yg,!!e&&(t=="number"||t!="symbol"&&bg.test(n))&&n>-1&&n%1==0&&n<e}function wg(n,e,t){e=="__proto__"&&Rc?Rc(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function Ea(n,e){return n===e||n!==n&&e!==e}var xg=Object.prototype,Sg=xg.hasOwnProperty;function Dd(n,e,t){var r=n[e];(!(Sg.call(n,e)&&Ea(r,t))||t===void 0&&!(e in n))&&wg(n,e,t)}var Og=9007199254740991;function Aa(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Og}function vg(n){return n!=null&&Aa(n.length)&&!Md(n)}var Eg=Object.prototype;function Pd(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||Eg;return n===t}function Ag(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var Cg="[object Arguments]";function Nc(n){return sn(n)&&or(n)==Cg}var Id=Object.prototype,kg=Id.hasOwnProperty,Tg=Id.propertyIsEnumerable,Ld=Nc((function(){return arguments})())?Nc:function(n){return sn(n)&&kg.call(n,"callee")&&!Tg.call(n,"callee")};function Rg(){return!1}var Fd=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Mc=Fd&&typeof module=="object"&&module&&!module.nodeType&&module,Ng=Mc&&Mc.exports===Fd,Dc=Ng?Ct.Buffer:void 0,Mg=Dc?Dc.isBuffer:void 0,Ii=Mg||Rg,Dg="[object Arguments]",Pg="[object Array]",Ig="[object Boolean]",Lg="[object Date]",Fg="[object Error]",$g="[object Function]",Bg="[object Map]",zg="[object Number]",_g="[object Object]",jg="[object RegExp]",Vg="[object Set]",Ug="[object String]",qg="[object WeakMap]",Hg="[object ArrayBuffer]",Wg="[object DataView]",Kg="[object Float32Array]",Jg="[object Float64Array]",Gg="[object Int8Array]",Qg="[object Int16Array]",Xg="[object Int32Array]",Yg="[object Uint8Array]",Zg="[object Uint8ClampedArray]",ey="[object Uint16Array]",ty="[object Uint32Array]",ae={};ae[Kg]=ae[Jg]=ae[Gg]=ae[Qg]=ae[Xg]=ae[Yg]=ae[Zg]=ae[ey]=ae[ty]=!0;ae[Dg]=ae[Pg]=ae[Hg]=ae[Ig]=ae[Wg]=ae[Lg]=ae[Fg]=ae[$g]=ae[Bg]=ae[zg]=ae[_g]=ae[jg]=ae[Vg]=ae[Ug]=ae[qg]=!1;function ny(n){return sn(n)&&Aa(n.length)&&!!ae[or(n)]}function Ca(n){return function(e){return n(e)}}var $d=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Cr=$d&&typeof module=="object"&&module&&!module.nodeType&&module,ry=Cr&&Cr.exports===$d,is=ry&&Td.process,Yn=(function(){try{var n=Cr&&Cr.require&&Cr.require("util").types;return n||is&&is.binding&&is.binding("util")}catch{}})(),Pc=Yn&&Yn.isTypedArray,Bd=Pc?Ca(Pc):ny,iy=Object.prototype,oy=iy.hasOwnProperty;function sy(n,e){var t=$t(n),r=!t&&Ld(n),i=!t&&!r&&Ii(n),o=!t&&!r&&!i&&Bd(n),s=t||r||i||o,l=s?Ag(n.length,String):[],a=l.length;for(var c in n)oy.call(n,c)&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||va(c,a)))&&l.push(c);return l}function zd(n,e){return function(t){return n(e(t))}}var ly=zd(Object.keys,Object),ay=Object.prototype,cy=ay.hasOwnProperty;function fy(n){if(!Pd(n))return ly(n);var e=[];for(var t in Object(n))cy.call(n,t)&&t!="constructor"&&e.push(t);return e}function uy(n){return vg(n)?sy(n):fy(n)}var dy=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hy=/^\w*$/;function py(n,e){if($t(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||Oa(n)?!0:hy.test(n)||!dy.test(n)||e!=null&&n in Object(e)}var Br=In(Object,"create");function my(){this.__data__=Br?Br(null):{},this.size=0}function gy(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var yy="__lodash_hash_undefined__",by=Object.prototype,wy=by.hasOwnProperty;function xy(n){var e=this.__data__;if(Br){var t=e[n];return t===yy?void 0:t}return wy.call(e,n)?e[n]:void 0}var Sy=Object.prototype,Oy=Sy.hasOwnProperty;function vy(n){var e=this.__data__;return Br?e[n]!==void 0:Oy.call(e,n)}var Ey="__lodash_hash_undefined__";function Ay(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Br&&e===void 0?Ey:e,this}function Cn(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Cn.prototype.clear=my;Cn.prototype.delete=gy;Cn.prototype.get=xy;Cn.prototype.has=vy;Cn.prototype.set=Ay;function Cy(){this.__data__=[],this.size=0}function ko(n,e){for(var t=n.length;t--;)if(Ea(n[t][0],e))return t;return-1}var ky=Array.prototype,Ty=ky.splice;function Ry(n){var e=this.__data__,t=ko(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():Ty.call(e,t,1),--this.size,!0}function Ny(n){var e=this.__data__,t=ko(e,n);return t<0?void 0:e[t][1]}function My(n){return ko(this.__data__,n)>-1}function Dy(n,e){var t=this.__data__,r=ko(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function _t(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}_t.prototype.clear=Cy;_t.prototype.delete=Ry;_t.prototype.get=Ny;_t.prototype.has=My;_t.prototype.set=Dy;var zr=In(Ct,"Map");function Py(){this.size=0,this.__data__={hash:new Cn,map:new(zr||_t),string:new Cn}}function Iy(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function To(n,e){var t=n.__data__;return Iy(e)?t[typeof e=="string"?"string":"hash"]:t.map}function Ly(n){var e=To(this,n).delete(n);return this.size-=e?1:0,e}function Fy(n){return To(this,n).get(n)}function $y(n){return To(this,n).has(n)}function By(n,e){var t=To(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function jt(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}jt.prototype.clear=Py;jt.prototype.delete=Ly;jt.prototype.get=Fy;jt.prototype.has=$y;jt.prototype.set=By;var zy="Expected a function";function ka(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(zy);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=t.cache;if(o.has(i))return o.get(i);var s=n.apply(this,r);return t.cache=o.set(i,s)||o,s};return t.cache=new(ka.Cache||jt),t}ka.Cache=jt;var _y=500;function jy(n){var e=ka(n,function(r){return t.size===_y&&t.clear(),r}),t=e.cache;return e}var Vy=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Uy=/\\(\\)?/g,qy=jy(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(Vy,function(t,r,i,o){e.push(i?o.replace(Uy,"$1"):r||t)}),e});function _d(n){return n==null?"":Nd(n)}function Ta(n,e){return $t(n)?n:py(n,e)?[n]:qy(_d(n))}function Ra(n){if(typeof n=="string"||Oa(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function Hy(n,e){e=Ta(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[Ra(e[t++])];return t&&t==r?n:void 0}function QA(n,e,t){var r=n==null?void 0:Hy(n,e);return r===void 0?t:r}function Wy(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var Ky=zd(Object.getPrototypeOf,Object);function Jy(n){return function(e){return n?.[e]}}function Gy(){this.__data__=new _t,this.size=0}function Qy(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function Xy(n){return this.__data__.get(n)}function Yy(n){return this.__data__.has(n)}var Zy=200;function eb(n,e){var t=this.__data__;if(t instanceof _t){var r=t.__data__;if(!zr||r.length<Zy-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new jt(r)}return t.set(n,e),this.size=t.size,this}function Lt(n){var e=this.__data__=new _t(n);this.size=e.size}Lt.prototype.clear=Gy;Lt.prototype.delete=Qy;Lt.prototype.get=Xy;Lt.prototype.has=Yy;Lt.prototype.set=eb;var jd=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ic=jd&&typeof module=="object"&&module&&!module.nodeType&&module,tb=Ic&&Ic.exports===jd,Lc=tb?Ct.Buffer:void 0;Lc&&Lc.allocUnsafe;function nb(n,e){return n.slice()}function rb(n,e){for(var t=-1,r=n==null?0:n.length,i=0,o=[];++t<r;){var s=n[t];e(s,t,n)&&(o[i++]=s)}return o}function ib(){return[]}var ob=Object.prototype,sb=ob.propertyIsEnumerable,Fc=Object.getOwnPropertySymbols,lb=Fc?function(n){return n==null?[]:(n=Object(n),rb(Fc(n),function(e){return sb.call(n,e)}))}:ib;function ab(n,e,t){var r=e(n);return $t(n)?r:Wy(r,t(n))}function Il(n){return ab(n,uy,lb)}var Ll=In(Ct,"DataView"),Fl=In(Ct,"Promise"),$l=In(Ct,"Set"),$c="[object Map]",cb="[object Object]",Bc="[object Promise]",zc="[object Set]",_c="[object WeakMap]",jc="[object DataView]",fb=Pn(Ll),ub=Pn(zr),db=Pn(Fl),hb=Pn($l),pb=Pn(Pl),at=or;(Ll&&at(new Ll(new ArrayBuffer(1)))!=jc||zr&&at(new zr)!=$c||Fl&&at(Fl.resolve())!=Bc||$l&&at(new $l)!=zc||Pl&&at(new Pl)!=_c)&&(at=function(n){var e=or(n),t=e==cb?n.constructor:void 0,r=t?Pn(t):"";if(r)switch(r){case fb:return jc;case ub:return $c;case db:return Bc;case hb:return zc;case pb:return _c}return e});var mb=Object.prototype,gb=mb.hasOwnProperty;function yb(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&gb.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var Li=Ct.Uint8Array;function Na(n){var e=new n.constructor(n.byteLength);return new Li(e).set(new Li(n)),e}function bb(n,e){var t=Na(n.buffer);return new n.constructor(t,n.byteOffset,n.byteLength)}var wb=/\w*$/;function xb(n){var e=new n.constructor(n.source,wb.exec(n));return e.lastIndex=n.lastIndex,e}var Vc=Ot?Ot.prototype:void 0,Uc=Vc?Vc.valueOf:void 0;function Sb(n){return Uc?Object(Uc.call(n)):{}}function Ob(n,e){var t=Na(n.buffer);return new n.constructor(t,n.byteOffset,n.length)}var vb="[object Boolean]",Eb="[object Date]",Ab="[object Map]",Cb="[object Number]",kb="[object RegExp]",Tb="[object Set]",Rb="[object String]",Nb="[object Symbol]",Mb="[object ArrayBuffer]",Db="[object DataView]",Pb="[object Float32Array]",Ib="[object Float64Array]",Lb="[object Int8Array]",Fb="[object Int16Array]",$b="[object Int32Array]",Bb="[object Uint8Array]",zb="[object Uint8ClampedArray]",_b="[object Uint16Array]",jb="[object Uint32Array]";function Vb(n,e,t){var r=n.constructor;switch(e){case Mb:return Na(n);case vb:case Eb:return new r(+n);case Db:return bb(n);case Pb:case Ib:case Lb:case Fb:case $b:case Bb:case zb:case _b:case jb:return Ob(n);case Ab:return new r;case Cb:case Rb:return new r(n);case kb:return xb(n);case Tb:return new r;case Nb:return Sb(n)}}function Ub(n){return typeof n.constructor=="function"&&!Pd(n)?mg(Ky(n)):{}}var qb="[object Map]";function Hb(n){return sn(n)&&at(n)==qb}var qc=Yn&&Yn.isMap,Wb=qc?Ca(qc):Hb,Kb="[object Set]";function Jb(n){return sn(n)&&at(n)==Kb}var Hc=Yn&&Yn.isSet,Gb=Hc?Ca(Hc):Jb,Vd="[object Arguments]",Qb="[object Array]",Xb="[object Boolean]",Yb="[object Date]",Zb="[object Error]",Ud="[object Function]",e0="[object GeneratorFunction]",t0="[object Map]",n0="[object Number]",qd="[object Object]",r0="[object RegExp]",i0="[object Set]",o0="[object String]",s0="[object Symbol]",l0="[object WeakMap]",a0="[object ArrayBuffer]",c0="[object DataView]",f0="[object Float32Array]",u0="[object Float64Array]",d0="[object Int8Array]",h0="[object Int16Array]",p0="[object Int32Array]",m0="[object Uint8Array]",g0="[object Uint8ClampedArray]",y0="[object Uint16Array]",b0="[object Uint32Array]",oe={};oe[Vd]=oe[Qb]=oe[a0]=oe[c0]=oe[Xb]=oe[Yb]=oe[f0]=oe[u0]=oe[d0]=oe[h0]=oe[p0]=oe[t0]=oe[n0]=oe[qd]=oe[r0]=oe[i0]=oe[o0]=oe[s0]=oe[m0]=oe[g0]=oe[y0]=oe[b0]=!0;oe[Zb]=oe[Ud]=oe[l0]=!1;function Ai(n,e,t,r,i,o){var s;if(s!==void 0)return s;if(!Xn(n))return n;var l=$t(n);if(l)s=yb(n);else{var a=at(n),c=a==Ud||a==e0;if(Ii(n))return nb(n);if(a==qd||a==Vd||c&&!i)s=c?{}:Ub(n);else{if(!oe[a])return i?n:{};s=Vb(n,a)}}o||(o=new Lt);var f=o.get(n);if(f)return f;o.set(n,s),Gb(n)?n.forEach(function(p){s.add(Ai(p,e,t,p,n,o))}):Wb(n)&&n.forEach(function(p,d){s.set(d,Ai(p,e,t,d,n,o))});var u=Il,h=l?void 0:u(n);return gg(h||n,function(p,d){h&&(d=p,p=n[d]),Dd(s,d,Ai(p,e,t,d,n,o))}),s}var w0=1,x0=4;function XA(n){return Ai(n,w0|x0)}var S0="__lodash_hash_undefined__";function O0(n){return this.__data__.set(n,S0),this}function v0(n){return this.__data__.has(n)}function Fi(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new jt;++e<t;)this.add(n[e])}Fi.prototype.add=Fi.prototype.push=O0;Fi.prototype.has=v0;function E0(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function A0(n,e){return n.has(e)}var C0=1,k0=2;function Hd(n,e,t,r,i,o){var s=t&C0,l=n.length,a=e.length;if(l!=a&&!(s&&a>l))return!1;var c=o.get(n),f=o.get(e);if(c&&f)return c==e&&f==n;var u=-1,h=!0,p=t&k0?new Fi:void 0;for(o.set(n,e),o.set(e,n);++u<l;){var d=n[u],g=e[u];if(r)var m=s?r(g,d,u,e,n,o):r(d,g,u,n,e,o);if(m!==void 0){if(m)continue;h=!1;break}if(p){if(!E0(e,function(y,b){if(!A0(p,b)&&(d===y||i(d,y,t,r,o)))return p.push(b)})){h=!1;break}}else if(!(d===g||i(d,g,t,r,o))){h=!1;break}}return o.delete(n),o.delete(e),h}function T0(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}function R0(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var N0=1,M0=2,D0="[object Boolean]",P0="[object Date]",I0="[object Error]",L0="[object Map]",F0="[object Number]",$0="[object RegExp]",B0="[object Set]",z0="[object String]",_0="[object Symbol]",j0="[object ArrayBuffer]",V0="[object DataView]",Wc=Ot?Ot.prototype:void 0,ss=Wc?Wc.valueOf:void 0;function U0(n,e,t,r,i,o,s){switch(t){case V0:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case j0:return!(n.byteLength!=e.byteLength||!o(new Li(n),new Li(e)));case D0:case P0:case F0:return Ea(+n,+e);case I0:return n.name==e.name&&n.message==e.message;case $0:case z0:return n==e+"";case L0:var l=T0;case B0:var a=r&N0;if(l||(l=R0),n.size!=e.size&&!a)return!1;var c=s.get(n);if(c)return c==e;r|=M0,s.set(n,e);var f=Hd(l(n),l(e),r,i,o,s);return s.delete(n),f;case _0:if(ss)return ss.call(n)==ss.call(e)}return!1}var q0=1,H0=Object.prototype,W0=H0.hasOwnProperty;function K0(n,e,t,r,i,o){var s=t&q0,l=Il(n),a=l.length,c=Il(e),f=c.length;if(a!=f&&!s)return!1;for(var u=a;u--;){var h=l[u];if(!(s?h in e:W0.call(e,h)))return!1}var p=o.get(n),d=o.get(e);if(p&&d)return p==e&&d==n;var g=!0;o.set(n,e),o.set(e,n);for(var m=s;++u<a;){h=l[u];var y=n[h],b=e[h];if(r)var w=s?r(b,y,h,e,n,o):r(y,b,h,n,e,o);if(!(w===void 0?y===b||i(y,b,t,r,o):w)){g=!1;break}m||(m=h=="constructor")}if(g&&!m){var S=n.constructor,E=e.constructor;S!=E&&"constructor"in n&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof E=="function"&&E instanceof E)&&(g=!1)}return o.delete(n),o.delete(e),g}var J0=1,Kc="[object Arguments]",Jc="[object Array]",ui="[object Object]",G0=Object.prototype,Gc=G0.hasOwnProperty;function Q0(n,e,t,r,i,o){var s=$t(n),l=$t(e),a=s?Jc:at(n),c=l?Jc:at(e);a=a==Kc?ui:a,c=c==Kc?ui:c;var f=a==ui,u=c==ui,h=a==c;if(h&&Ii(n)){if(!Ii(e))return!1;s=!0,f=!1}if(h&&!f)return o||(o=new Lt),s||Bd(n)?Hd(n,e,t,r,i,o):U0(n,e,a,t,r,i,o);if(!(t&J0)){var p=f&&Gc.call(n,"__wrapped__"),d=u&&Gc.call(e,"__wrapped__");if(p||d){var g=p?n.value():n,m=d?e.value():e;return o||(o=new Lt),i(g,m,t,r,o)}}return h?(o||(o=new Lt),K0(n,e,t,r,i,o)):!1}function Wd(n,e,t,r,i){return n===e?!0:n==null||e==null||!sn(n)&&!sn(e)?n!==n&&e!==e:Q0(n,e,t,r,Wd,i)}function X0(n,e,t){e=Ta(e,n);for(var r=-1,i=e.length,o=!1;++r<i;){var s=Ra(e[r]);if(!(o=n!=null&&t(n,s)))break;n=n[s]}return o||++r!=i?o:(i=n==null?0:n.length,!!i&&Aa(i)&&va(s,i)&&($t(n)||Ld(n)))}var Y0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Z0=Jy(Y0),Kd=/[&<>"']/g,e1=RegExp(Kd.source);function YA(n){return n=_d(n),n&&e1.test(n)?n.replace(Kd,Z0):n}var t1=Object.prototype,n1=t1.hasOwnProperty;function r1(n,e){return n!=null&&n1.call(n,e)}function ZA(n,e){return n!=null&&X0(n,e,r1)}function eC(n,e){return Wd(n,e)}function i1(n,e,t,r){if(!Xn(n))return n;e=Ta(e,n);for(var i=-1,o=e.length,s=o-1,l=n;l!=null&&++i<o;){var a=Ra(e[i]),c=t;if(a==="__proto__"||a==="constructor"||a==="prototype")return n;if(i!=s){var f=l[a];c=void 0,c===void 0&&(c=Xn(f)?f:va(e[i+1])?[]:{})}Dd(l,a,c),l=l[a]}return n}function tC(n,e,t){return n==null?n:i1(n,e,t)}var Qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function o1(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var ls,Xc;function sr(){return Xc||(Xc=1,ls=TypeError),ls}const s1={},l1=Object.freeze(Object.defineProperty({__proto__:null,default:s1},Symbol.toStringTag,{value:"Module"})),a1=o1(l1);var as,Yc;function Ro(){if(Yc)return as;Yc=1;var n=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=n&&e&&typeof e.get=="function"?e.get:null,r=n&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,o=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,s=i&&o&&typeof o.get=="function"?o.get:null,l=i&&Set.prototype.forEach,a=typeof WeakMap=="function"&&WeakMap.prototype,c=a?WeakMap.prototype.has:null,f=typeof WeakSet=="function"&&WeakSet.prototype,u=f?WeakSet.prototype.has:null,h=typeof WeakRef=="function"&&WeakRef.prototype,p=h?WeakRef.prototype.deref:null,d=Boolean.prototype.valueOf,g=Object.prototype.toString,m=Function.prototype.toString,y=String.prototype.match,b=String.prototype.slice,w=String.prototype.replace,S=String.prototype.toUpperCase,E=String.prototype.toLowerCase,T=RegExp.prototype.test,A=Array.prototype.concat,C=Array.prototype.join,D=Array.prototype.slice,P=Math.floor,$=typeof BigInt=="function"?BigInt.prototype.valueOf:null,M=Object.getOwnPropertySymbols,V=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,B=typeof Symbol=="function"&&typeof Symbol.iterator=="object",W=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===B||!0)?Symbol.toStringTag:null,z=Object.prototype.propertyIsEnumerable,K=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(x){return x.__proto__}:null);function k(x,v){if(x===1/0||x===-1/0||x!==x||x&&x>-1e3&&x<1e3||T.call(/e/,v))return v;var X=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof x=="number"){var ie=x<0?-P(-x):P(x);if(ie!==x){var le=String(ie),q=b.call(v,le.length+1);return w.call(le,X,"$&_")+"."+w.call(w.call(q,/([0-9]{3})/g,"$&_"),/_$/,"")}}return w.call(v,X,"$&_")}var ee=a1,Ne=ee.custom,me=Me(Ne)?Ne:null,ge={__proto__:null,double:'"',single:"'"},te={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};as=function x(v,X,ie,le){var q=X||{};if(ze(q,"quoteStyle")&&!ze(ge,q.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ze(q,"maxStringLength")&&(typeof q.maxStringLength=="number"?q.maxStringLength<0&&q.maxStringLength!==1/0:q.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Ut=ze(q,"customInspect")?q.customInspect:!0;if(typeof Ut!="boolean"&&Ut!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ze(q,"indent")&&q.indent!==null&&q.indent!=="	"&&!(parseInt(q.indent,10)===q.indent&&q.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ze(q,"numericSeparator")&&typeof q.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var un=q.numericSeparator;if(typeof v>"u")return"undefined";if(v===null)return"null";if(typeof v=="boolean")return v?"true":"false";if(typeof v=="string")return pc(v,q);if(typeof v=="number"){if(v===0)return 1/0/v>0?"0":"-0";var qe=String(v);return un?k(v,qe):qe}if(typeof v=="bigint"){var qt=String(v)+"n";return un?k(v,qt):qt}var Qo=typeof q.depth>"u"?5:q.depth;if(typeof ie>"u"&&(ie=0),ie>=Qo&&Qo>0&&typeof v=="object")return re(v)?"[Array]":"[Object]";var zn=zm(q,ie);if(typeof le>"u")le=[];else if(Vt(le,v)>=0)return"[Circular]";function lt(_n,fi,jm){if(fi&&(le=D.call(le),le.push(fi)),jm){var vc={depth:q.depth};return ze(q,"quoteStyle")&&(vc.quoteStyle=q.quoteStyle),x(_n,vc,ie+1,le)}return x(_n,q,ie+1,le)}if(typeof v=="function"&&!fe(v)){var gc=Ln(v),yc=ai(v,lt);return"[Function"+(gc?": "+gc:" (anonymous)")+"]"+(yc.length>0?" { "+C.call(yc,", ")+" }":"")}if(Me(v)){var bc=B?w.call(String(v),/^(Symbol\(.*\))_[^)]*$/,"$1"):V.call(v);return typeof v=="object"&&!B?pr(bc):bc}if(Fm(v)){for(var mr="<"+E.call(String(v.nodeName)),Xo=v.attributes||[],ci=0;ci<Xo.length;ci++)mr+=" "+Xo[ci].name+"="+ne(ve(Xo[ci].value),"double",q);return mr+=">",v.childNodes&&v.childNodes.length&&(mr+="..."),mr+="</"+E.call(String(v.nodeName))+">",mr}if(re(v)){if(v.length===0)return"[]";var Yo=ai(v,lt);return zn&&!Bm(Yo)?"["+Go(Yo,zn)+"]":"[ "+C.call(Yo,", ")+" ]"}if(J(v)){var Zo=ai(v,lt);return!("cause"in Error.prototype)&&"cause"in v&&!z.call(v,"cause")?"{ ["+String(v)+"] "+C.call(A.call("[cause]: "+lt(v.cause),Zo),", ")+" }":Zo.length===0?"["+String(v)+"]":"{ ["+String(v)+"] "+C.call(Zo,", ")+" }"}if(typeof v=="object"&&Ut){if(me&&typeof v[me]=="function"&&ee)return ee(v,{depth:Qo-ie});if(Ut!=="symbol"&&typeof v.inspect=="function")return v.inspect()}if(st(v)){var wc=[];return r&&r.call(v,function(_n,fi){wc.push(lt(fi,v,!0)+" => "+lt(_n,v))}),mc("Map",t.call(v),wc,zn)}if(Bn(v)){var xc=[];return l&&l.call(v,function(_n){xc.push(lt(_n,v))}),mc("Set",s.call(v),xc,zn)}if(Fn(v))return Jo("WeakMap");if(Lm(v))return Jo("WeakSet");if($n(v))return Jo("WeakRef");if(Q(v))return pr(lt(Number(v)));if(Ge(v))return pr(lt($.call(v)));if(ye(v))return pr(d.call(v));if(se(v))return pr(lt(String(v)));if(typeof window<"u"&&v===window)return"{ [object Window] }";if(typeof globalThis<"u"&&v===globalThis||typeof Qc<"u"&&v===Qc)return"{ [object globalThis] }";if(!ot(v)&&!fe(v)){var es=ai(v,lt),Sc=K?K(v)===Object.prototype:v instanceof Object||v.constructor===Object,ts=v instanceof Object?"":"null prototype",Oc=!Sc&&W&&Object(v)===v&&W in v?b.call(Qe(v),8,-1):ts?"Object":"",_m=Sc||typeof v.constructor!="function"?"":v.constructor.name?v.constructor.name+" ":"",ns=_m+(Oc||ts?"["+C.call(A.call([],Oc||[],ts||[]),": ")+"] ":"");return es.length===0?ns+"{}":zn?ns+"{"+Go(es,zn)+"}":ns+"{ "+C.call(es,", ")+" }"}return String(v)};function ne(x,v,X){var ie=X.quoteStyle||v,le=ge[ie];return le+x+le}function ve(x){return w.call(String(x),/"/g,"&quot;")}function Fe(x){return!W||!(typeof x=="object"&&(W in x||typeof x[W]<"u"))}function re(x){return Qe(x)==="[object Array]"&&Fe(x)}function ot(x){return Qe(x)==="[object Date]"&&Fe(x)}function fe(x){return Qe(x)==="[object RegExp]"&&Fe(x)}function J(x){return Qe(x)==="[object Error]"&&Fe(x)}function se(x){return Qe(x)==="[object String]"&&Fe(x)}function Q(x){return Qe(x)==="[object Number]"&&Fe(x)}function ye(x){return Qe(x)==="[object Boolean]"&&Fe(x)}function Me(x){if(B)return x&&typeof x=="object"&&x instanceof Symbol;if(typeof x=="symbol")return!0;if(!x||typeof x!="object"||!V)return!1;try{return V.call(x),!0}catch{}return!1}function Ge(x){if(!x||typeof x!="object"||!$)return!1;try{return $.call(x),!0}catch{}return!1}var De=Object.prototype.hasOwnProperty||function(x){return x in this};function ze(x,v){return De.call(x,v)}function Qe(x){return g.call(x)}function Ln(x){if(x.name)return x.name;var v=y.call(m.call(x),/^function\s*([\w$]+)/);return v?v[1]:null}function Vt(x,v){if(x.indexOf)return x.indexOf(v);for(var X=0,ie=x.length;X<ie;X++)if(x[X]===v)return X;return-1}function st(x){if(!t||!x||typeof x!="object")return!1;try{t.call(x);try{s.call(x)}catch{return!0}return x instanceof Map}catch{}return!1}function Fn(x){if(!c||!x||typeof x!="object")return!1;try{c.call(x,c);try{u.call(x,u)}catch{return!0}return x instanceof WeakMap}catch{}return!1}function $n(x){if(!p||!x||typeof x!="object")return!1;try{return p.call(x),!0}catch{}return!1}function Bn(x){if(!s||!x||typeof x!="object")return!1;try{s.call(x);try{t.call(x)}catch{return!0}return x instanceof Set}catch{}return!1}function Lm(x){if(!u||!x||typeof x!="object")return!1;try{u.call(x,u);try{c.call(x,c)}catch{return!0}return x instanceof WeakSet}catch{}return!1}function Fm(x){return!x||typeof x!="object"?!1:typeof HTMLElement<"u"&&x instanceof HTMLElement?!0:typeof x.nodeName=="string"&&typeof x.getAttribute=="function"}function pc(x,v){if(x.length>v.maxStringLength){var X=x.length-v.maxStringLength,ie="... "+X+" more character"+(X>1?"s":"");return pc(b.call(x,0,v.maxStringLength),v)+ie}var le=te[v.quoteStyle||"single"];le.lastIndex=0;var q=w.call(w.call(x,le,"\\$1"),/[\x00-\x1f]/g,$m);return ne(q,"single",v)}function $m(x){var v=x.charCodeAt(0),X={8:"b",9:"t",10:"n",12:"f",13:"r"}[v];return X?"\\"+X:"\\x"+(v<16?"0":"")+S.call(v.toString(16))}function pr(x){return"Object("+x+")"}function Jo(x){return x+" { ? }"}function mc(x,v,X,ie){var le=ie?Go(X,ie):C.call(X,", ");return x+" ("+v+") {"+le+"}"}function Bm(x){for(var v=0;v<x.length;v++)if(Vt(x[v],`
`)>=0)return!1;return!0}function zm(x,v){var X;if(x.indent==="	")X="	";else if(typeof x.indent=="number"&&x.indent>0)X=C.call(Array(x.indent+1)," ");else return null;return{base:X,prev:C.call(Array(v+1),X)}}function Go(x,v){if(x.length===0)return"";var X=`
`+v.prev+v.base;return X+C.call(x,","+X)+`
`+v.prev}function ai(x,v){var X=re(x),ie=[];if(X){ie.length=x.length;for(var le=0;le<x.length;le++)ie[le]=ze(x,le)?v(x[le],x):""}var q=typeof M=="function"?M(x):[],Ut;if(B){Ut={};for(var un=0;un<q.length;un++)Ut["$"+q[un]]=q[un]}for(var qe in x)ze(x,qe)&&(X&&String(Number(qe))===qe&&qe<x.length||B&&Ut["$"+qe]instanceof Symbol||(T.call(/[^\w$]/,qe)?ie.push(v(qe,x)+": "+v(x[qe],x)):ie.push(qe+": "+v(x[qe],x))));if(typeof M=="function")for(var qt=0;qt<q.length;qt++)z.call(x,q[qt])&&ie.push("["+v(q[qt])+"]: "+v(x[q[qt]],x));return ie}return as}var cs,Zc;function c1(){if(Zc)return cs;Zc=1;var n=Ro(),e=sr(),t=function(l,a,c){for(var f=l,u;(u=f.next)!=null;f=u)if(u.key===a)return f.next=u.next,c||(u.next=l.next,l.next=u),u},r=function(l,a){if(l){var c=t(l,a);return c&&c.value}},i=function(l,a,c){var f=t(l,a);f?f.value=c:l.next={key:a,next:l.next,value:c}},o=function(l,a){return l?!!t(l,a):!1},s=function(l,a){if(l)return t(l,a,!0)};return cs=function(){var a,c={assert:function(f){if(!c.has(f))throw new e("Side channel does not contain "+n(f))},delete:function(f){var u=a&&a.next,h=s(a,f);return h&&u&&u===h&&(a=void 0),!!h},get:function(f){return r(a,f)},has:function(f){return o(a,f)},set:function(f,u){a||(a={next:void 0}),i(a,f,u)}};return c},cs}var fs,ef;function Jd(){return ef||(ef=1,fs=Object),fs}var us,tf;function f1(){return tf||(tf=1,us=Error),us}var ds,nf;function u1(){return nf||(nf=1,ds=EvalError),ds}var hs,rf;function d1(){return rf||(rf=1,hs=RangeError),hs}var ps,of;function h1(){return of||(of=1,ps=ReferenceError),ps}var ms,sf;function p1(){return sf||(sf=1,ms=SyntaxError),ms}var gs,lf;function m1(){return lf||(lf=1,gs=URIError),gs}var ys,af;function g1(){return af||(af=1,ys=Math.abs),ys}var bs,cf;function y1(){return cf||(cf=1,bs=Math.floor),bs}var ws,ff;function b1(){return ff||(ff=1,ws=Math.max),ws}var xs,uf;function w1(){return uf||(uf=1,xs=Math.min),xs}var Ss,df;function x1(){return df||(df=1,Ss=Math.pow),Ss}var Os,hf;function S1(){return hf||(hf=1,Os=Math.round),Os}var vs,pf;function O1(){return pf||(pf=1,vs=Number.isNaN||function(e){return e!==e}),vs}var Es,mf;function v1(){if(mf)return Es;mf=1;var n=O1();return Es=function(t){return n(t)||t===0?t:t<0?-1:1},Es}var As,gf;function E1(){return gf||(gf=1,As=Object.getOwnPropertyDescriptor),As}var Cs,yf;function Gd(){if(yf)return Cs;yf=1;var n=E1();if(n)try{n([],"length")}catch{n=null}return Cs=n,Cs}var ks,bf;function A1(){if(bf)return ks;bf=1;var n=Object.defineProperty||!1;if(n)try{n({},"a",{value:1})}catch{n=!1}return ks=n,ks}var Ts,wf;function C1(){return wf||(wf=1,Ts=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,t);if(l.value!==i||l.enumerable!==!0)return!1}return!0}),Ts}var Rs,xf;function k1(){if(xf)return Rs;xf=1;var n=typeof Symbol<"u"&&Symbol,e=C1();return Rs=function(){return typeof n!="function"||typeof Symbol!="function"||typeof n("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Rs}var Ns,Sf;function Qd(){return Sf||(Sf=1,Ns=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Ns}var Ms,Of;function Xd(){if(Of)return Ms;Of=1;var n=Jd();return Ms=n.getPrototypeOf||null,Ms}var Ds,vf;function T1(){if(vf)return Ds;vf=1;var n="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,r="[object Function]",i=function(a,c){for(var f=[],u=0;u<a.length;u+=1)f[u]=a[u];for(var h=0;h<c.length;h+=1)f[h+a.length]=c[h];return f},o=function(a,c){for(var f=[],u=c,h=0;u<a.length;u+=1,h+=1)f[h]=a[u];return f},s=function(l,a){for(var c="",f=0;f<l.length;f+=1)c+=l[f],f+1<l.length&&(c+=a);return c};return Ds=function(a){var c=this;if(typeof c!="function"||e.apply(c)!==r)throw new TypeError(n+c);for(var f=o(arguments,1),u,h=function(){if(this instanceof u){var y=c.apply(this,i(f,arguments));return Object(y)===y?y:this}return c.apply(a,i(f,arguments))},p=t(0,c.length-f.length),d=[],g=0;g<p;g++)d[g]="$"+g;if(u=Function("binder","return function ("+s(d,",")+"){ return binder.apply(this,arguments); }")(h),c.prototype){var m=function(){};m.prototype=c.prototype,u.prototype=new m,m.prototype=null}return u},Ds}var Ps,Ef;function No(){if(Ef)return Ps;Ef=1;var n=T1();return Ps=Function.prototype.bind||n,Ps}var Is,Af;function Ma(){return Af||(Af=1,Is=Function.prototype.call),Is}var Ls,Cf;function Yd(){return Cf||(Cf=1,Ls=Function.prototype.apply),Ls}var Fs,kf;function R1(){return kf||(kf=1,Fs=typeof Reflect<"u"&&Reflect&&Reflect.apply),Fs}var $s,Tf;function N1(){if(Tf)return $s;Tf=1;var n=No(),e=Yd(),t=Ma(),r=R1();return $s=r||n.call(t,e),$s}var Bs,Rf;function Zd(){if(Rf)return Bs;Rf=1;var n=No(),e=sr(),t=Ma(),r=N1();return Bs=function(o){if(o.length<1||typeof o[0]!="function")throw new e("a function is required");return r(n,t,o)},Bs}var zs,Nf;function M1(){if(Nf)return zs;Nf=1;var n=Zd(),e=Gd(),t;try{t=[].__proto__===Array.prototype}catch(s){if(!s||typeof s!="object"||!("code"in s)||s.code!=="ERR_PROTO_ACCESS")throw s}var r=!!t&&e&&e(Object.prototype,"__proto__"),i=Object,o=i.getPrototypeOf;return zs=r&&typeof r.get=="function"?n([r.get]):typeof o=="function"?function(l){return o(l==null?l:i(l))}:!1,zs}var _s,Mf;function D1(){if(Mf)return _s;Mf=1;var n=Qd(),e=Xd(),t=M1();return _s=n?function(i){return n(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:t?function(i){return t(i)}:null,_s}var js,Df;function P1(){if(Df)return js;Df=1;var n=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=No();return js=t.call(n,e),js}var Vs,Pf;function Da(){if(Pf)return Vs;Pf=1;var n,e=Jd(),t=f1(),r=u1(),i=d1(),o=h1(),s=p1(),l=sr(),a=m1(),c=g1(),f=y1(),u=b1(),h=w1(),p=x1(),d=S1(),g=v1(),m=Function,y=function(fe){try{return m('"use strict"; return ('+fe+").constructor;")()}catch{}},b=Gd(),w=A1(),S=function(){throw new l},E=b?(function(){try{return arguments.callee,S}catch{try{return b(arguments,"callee").get}catch{return S}}})():S,T=k1()(),A=D1(),C=Xd(),D=Qd(),P=Yd(),$=Ma(),M={},V=typeof Uint8Array>"u"||!A?n:A(Uint8Array),B={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?n:ArrayBuffer,"%ArrayIteratorPrototype%":T&&A?A([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":M,"%AsyncGenerator%":M,"%AsyncGeneratorFunction%":M,"%AsyncIteratorPrototype%":M,"%Atomics%":typeof Atomics>"u"?n:Atomics,"%BigInt%":typeof BigInt>"u"?n:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?n:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":r,"%Float16Array%":typeof Float16Array>"u"?n:Float16Array,"%Float32Array%":typeof Float32Array>"u"?n:Float32Array,"%Float64Array%":typeof Float64Array>"u"?n:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?n:FinalizationRegistry,"%Function%":m,"%GeneratorFunction%":M,"%Int8Array%":typeof Int8Array>"u"?n:Int8Array,"%Int16Array%":typeof Int16Array>"u"?n:Int16Array,"%Int32Array%":typeof Int32Array>"u"?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":T&&A?A(A([][Symbol.iterator]())):n,"%JSON%":typeof JSON=="object"?JSON:n,"%Map%":typeof Map>"u"?n:Map,"%MapIteratorPrototype%":typeof Map>"u"||!T||!A?n:A(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":b,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?n:Promise,"%Proxy%":typeof Proxy>"u"?n:Proxy,"%RangeError%":i,"%ReferenceError%":o,"%Reflect%":typeof Reflect>"u"?n:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?n:Set,"%SetIteratorPrototype%":typeof Set>"u"||!T||!A?n:A(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":T&&A?A(""[Symbol.iterator]()):n,"%Symbol%":T?Symbol:n,"%SyntaxError%":s,"%ThrowTypeError%":E,"%TypedArray%":V,"%TypeError%":l,"%Uint8Array%":typeof Uint8Array>"u"?n:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?n:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?n:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?n:Uint32Array,"%URIError%":a,"%WeakMap%":typeof WeakMap>"u"?n:WeakMap,"%WeakRef%":typeof WeakRef>"u"?n:WeakRef,"%WeakSet%":typeof WeakSet>"u"?n:WeakSet,"%Function.prototype.call%":$,"%Function.prototype.apply%":P,"%Object.defineProperty%":w,"%Object.getPrototypeOf%":C,"%Math.abs%":c,"%Math.floor%":f,"%Math.max%":u,"%Math.min%":h,"%Math.pow%":p,"%Math.round%":d,"%Math.sign%":g,"%Reflect.getPrototypeOf%":D};if(A)try{null.error}catch(fe){var W=A(A(fe));B["%Error.prototype%"]=W}var z=function fe(J){var se;if(J==="%AsyncFunction%")se=y("async function () {}");else if(J==="%GeneratorFunction%")se=y("function* () {}");else if(J==="%AsyncGeneratorFunction%")se=y("async function* () {}");else if(J==="%AsyncGenerator%"){var Q=fe("%AsyncGeneratorFunction%");Q&&(se=Q.prototype)}else if(J==="%AsyncIteratorPrototype%"){var ye=fe("%AsyncGenerator%");ye&&A&&(se=A(ye.prototype))}return B[J]=se,se},K={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},k=No(),ee=P1(),Ne=k.call($,Array.prototype.concat),me=k.call(P,Array.prototype.splice),ge=k.call($,String.prototype.replace),te=k.call($,String.prototype.slice),ne=k.call($,RegExp.prototype.exec),ve=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Fe=/\\(\\)?/g,re=function(J){var se=te(J,0,1),Q=te(J,-1);if(se==="%"&&Q!=="%")throw new s("invalid intrinsic syntax, expected closing `%`");if(Q==="%"&&se!=="%")throw new s("invalid intrinsic syntax, expected opening `%`");var ye=[];return ge(J,ve,function(Me,Ge,De,ze){ye[ye.length]=De?ge(ze,Fe,"$1"):Ge||Me}),ye},ot=function(J,se){var Q=J,ye;if(ee(K,Q)&&(ye=K[Q],Q="%"+ye[0]+"%"),ee(B,Q)){var Me=B[Q];if(Me===M&&(Me=z(Q)),typeof Me>"u"&&!se)throw new l("intrinsic "+J+" exists, but is not available. Please file an issue!");return{alias:ye,name:Q,value:Me}}throw new s("intrinsic "+J+" does not exist!")};return Vs=function(J,se){if(typeof J!="string"||J.length===0)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof se!="boolean")throw new l('"allowMissing" argument must be a boolean');if(ne(/^%?[^%]*%?$/,J)===null)throw new s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Q=re(J),ye=Q.length>0?Q[0]:"",Me=ot("%"+ye+"%",se),Ge=Me.name,De=Me.value,ze=!1,Qe=Me.alias;Qe&&(ye=Qe[0],me(Q,Ne([0,1],Qe)));for(var Ln=1,Vt=!0;Ln<Q.length;Ln+=1){var st=Q[Ln],Fn=te(st,0,1),$n=te(st,-1);if((Fn==='"'||Fn==="'"||Fn==="`"||$n==='"'||$n==="'"||$n==="`")&&Fn!==$n)throw new s("property names with quotes must have matching quotes");if((st==="constructor"||!Vt)&&(ze=!0),ye+="."+st,Ge="%"+ye+"%",ee(B,Ge))De=B[Ge];else if(De!=null){if(!(st in De)){if(!se)throw new l("base intrinsic for "+J+" exists, but the property is not available.");return}if(b&&Ln+1>=Q.length){var Bn=b(De,st);Vt=!!Bn,Vt&&"get"in Bn&&!("originalValue"in Bn.get)?De=Bn.get:De=De[st]}else Vt=ee(De,st),De=De[st];Vt&&!ze&&(B[Ge]=De)}}return De},Vs}var Us,If;function eh(){if(If)return Us;If=1;var n=Da(),e=Zd(),t=e([n("%String.prototype.indexOf%")]);return Us=function(i,o){var s=n(i,!!o);return typeof s=="function"&&t(i,".prototype.")>-1?e([s]):s},Us}var qs,Lf;function th(){if(Lf)return qs;Lf=1;var n=Da(),e=eh(),t=Ro(),r=sr(),i=n("%Map%",!0),o=e("Map.prototype.get",!0),s=e("Map.prototype.set",!0),l=e("Map.prototype.has",!0),a=e("Map.prototype.delete",!0),c=e("Map.prototype.size",!0);return qs=!!i&&function(){var u,h={assert:function(p){if(!h.has(p))throw new r("Side channel does not contain "+t(p))},delete:function(p){if(u){var d=a(u,p);return c(u)===0&&(u=void 0),d}return!1},get:function(p){if(u)return o(u,p)},has:function(p){return u?l(u,p):!1},set:function(p,d){u||(u=new i),s(u,p,d)}};return h},qs}var Hs,Ff;function I1(){if(Ff)return Hs;Ff=1;var n=Da(),e=eh(),t=Ro(),r=th(),i=sr(),o=n("%WeakMap%",!0),s=e("WeakMap.prototype.get",!0),l=e("WeakMap.prototype.set",!0),a=e("WeakMap.prototype.has",!0),c=e("WeakMap.prototype.delete",!0);return Hs=o?function(){var u,h,p={assert:function(d){if(!p.has(d))throw new i("Side channel does not contain "+t(d))},delete:function(d){if(o&&d&&(typeof d=="object"||typeof d=="function")){if(u)return c(u,d)}else if(r&&h)return h.delete(d);return!1},get:function(d){return o&&d&&(typeof d=="object"||typeof d=="function")&&u?s(u,d):h&&h.get(d)},has:function(d){return o&&d&&(typeof d=="object"||typeof d=="function")&&u?a(u,d):!!h&&h.has(d)},set:function(d,g){o&&d&&(typeof d=="object"||typeof d=="function")?(u||(u=new o),l(u,d,g)):r&&(h||(h=r()),h.set(d,g))}};return p}:r,Hs}var Ws,$f;function L1(){if($f)return Ws;$f=1;var n=sr(),e=Ro(),t=c1(),r=th(),i=I1(),o=i||r||t;return Ws=function(){var l,a={assert:function(c){if(!a.has(c))throw new n("Side channel does not contain "+e(c))},delete:function(c){return!!l&&l.delete(c)},get:function(c){return l&&l.get(c)},has:function(c){return!!l&&l.has(c)},set:function(c,f){l||(l=o()),l.set(c,f)}};return a},Ws}var Ks,Bf;function Pa(){if(Bf)return Ks;Bf=1;var n=String.prototype.replace,e=/%20/g,t={RFC1738:"RFC1738",RFC3986:"RFC3986"};return Ks={default:t.RFC3986,formatters:{RFC1738:function(r){return n.call(r,e,"+")},RFC3986:function(r){return String(r)}},RFC1738:t.RFC1738,RFC3986:t.RFC3986},Ks}var Js,zf;function nh(){if(zf)return Js;zf=1;var n=Pa(),e=Object.prototype.hasOwnProperty,t=Array.isArray,r=(function(){for(var m=[],y=0;y<256;++y)m.push("%"+((y<16?"0":"")+y.toString(16)).toUpperCase());return m})(),i=function(y){for(;y.length>1;){var b=y.pop(),w=b.obj[b.prop];if(t(w)){for(var S=[],E=0;E<w.length;++E)typeof w[E]<"u"&&S.push(w[E]);b.obj[b.prop]=S}}},o=function(y,b){for(var w=b&&b.plainObjects?{__proto__:null}:{},S=0;S<y.length;++S)typeof y[S]<"u"&&(w[S]=y[S]);return w},s=function m(y,b,w){if(!b)return y;if(typeof b!="object"&&typeof b!="function"){if(t(y))y.push(b);else if(y&&typeof y=="object")(w&&(w.plainObjects||w.allowPrototypes)||!e.call(Object.prototype,b))&&(y[b]=!0);else return[y,b];return y}if(!y||typeof y!="object")return[y].concat(b);var S=y;return t(y)&&!t(b)&&(S=o(y,w)),t(y)&&t(b)?(b.forEach(function(E,T){if(e.call(y,T)){var A=y[T];A&&typeof A=="object"&&E&&typeof E=="object"?y[T]=m(A,E,w):y.push(E)}else y[T]=E}),y):Object.keys(b).reduce(function(E,T){var A=b[T];return e.call(E,T)?E[T]=m(E[T],A,w):E[T]=A,E},S)},l=function(y,b){return Object.keys(b).reduce(function(w,S){return w[S]=b[S],w},y)},a=function(m,y,b){var w=m.replace(/\+/g," ");if(b==="iso-8859-1")return w.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(w)}catch{return w}},c=1024,f=function(y,b,w,S,E){if(y.length===0)return y;var T=y;if(typeof y=="symbol"?T=Symbol.prototype.toString.call(y):typeof y!="string"&&(T=String(y)),w==="iso-8859-1")return escape(T).replace(/%u[0-9a-f]{4}/gi,function(V){return"%26%23"+parseInt(V.slice(2),16)+"%3B"});for(var A="",C=0;C<T.length;C+=c){for(var D=T.length>=c?T.slice(C,C+c):T,P=[],$=0;$<D.length;++$){var M=D.charCodeAt($);if(M===45||M===46||M===95||M===126||M>=48&&M<=57||M>=65&&M<=90||M>=97&&M<=122||E===n.RFC1738&&(M===40||M===41)){P[P.length]=D.charAt($);continue}if(M<128){P[P.length]=r[M];continue}if(M<2048){P[P.length]=r[192|M>>6]+r[128|M&63];continue}if(M<55296||M>=57344){P[P.length]=r[224|M>>12]+r[128|M>>6&63]+r[128|M&63];continue}$+=1,M=65536+((M&1023)<<10|D.charCodeAt($)&1023),P[P.length]=r[240|M>>18]+r[128|M>>12&63]+r[128|M>>6&63]+r[128|M&63]}A+=P.join("")}return A},u=function(y){for(var b=[{obj:{o:y},prop:"o"}],w=[],S=0;S<b.length;++S)for(var E=b[S],T=E.obj[E.prop],A=Object.keys(T),C=0;C<A.length;++C){var D=A[C],P=T[D];typeof P=="object"&&P!==null&&w.indexOf(P)===-1&&(b.push({obj:T,prop:D}),w.push(P))}return i(b),y},h=function(y){return Object.prototype.toString.call(y)==="[object RegExp]"},p=function(y){return!y||typeof y!="object"?!1:!!(y.constructor&&y.constructor.isBuffer&&y.constructor.isBuffer(y))},d=function(y,b){return[].concat(y,b)},g=function(y,b){if(t(y)){for(var w=[],S=0;S<y.length;S+=1)w.push(b(y[S]));return w}return b(y)};return Js={arrayToObject:o,assign:l,combine:d,compact:u,decode:a,encode:f,isBuffer:p,isRegExp:h,maybeMap:g,merge:s},Js}var Gs,_f;function F1(){if(_f)return Gs;_f=1;var n=L1(),e=nh(),t=Pa(),r=Object.prototype.hasOwnProperty,i={brackets:function(m){return m+"[]"},comma:"comma",indices:function(m,y){return m+"["+y+"]"},repeat:function(m){return m}},o=Array.isArray,s=Array.prototype.push,l=function(g,m){s.apply(g,o(m)?m:[m])},a=Date.prototype.toISOString,c=t.default,f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,filter:void 0,format:c,formatter:t.formatters[c],indices:!1,serializeDate:function(m){return a.call(m)},skipNulls:!1,strictNullHandling:!1},u=function(m){return typeof m=="string"||typeof m=="number"||typeof m=="boolean"||typeof m=="symbol"||typeof m=="bigint"},h={},p=function g(m,y,b,w,S,E,T,A,C,D,P,$,M,V,B,W,z,K){for(var k=m,ee=K,Ne=0,me=!1;(ee=ee.get(h))!==void 0&&!me;){var ge=ee.get(m);if(Ne+=1,typeof ge<"u"){if(ge===Ne)throw new RangeError("Cyclic object value");me=!0}typeof ee.get(h)>"u"&&(Ne=0)}if(typeof D=="function"?k=D(y,k):k instanceof Date?k=M(k):b==="comma"&&o(k)&&(k=e.maybeMap(k,function(Ge){return Ge instanceof Date?M(Ge):Ge})),k===null){if(E)return C&&!W?C(y,f.encoder,z,"key",V):y;k=""}if(u(k)||e.isBuffer(k)){if(C){var te=W?y:C(y,f.encoder,z,"key",V);return[B(te)+"="+B(C(k,f.encoder,z,"value",V))]}return[B(y)+"="+B(String(k))]}var ne=[];if(typeof k>"u")return ne;var ve;if(b==="comma"&&o(k))W&&C&&(k=e.maybeMap(k,C)),ve=[{value:k.length>0?k.join(",")||null:void 0}];else if(o(D))ve=D;else{var Fe=Object.keys(k);ve=P?Fe.sort(P):Fe}var re=A?String(y).replace(/\./g,"%2E"):String(y),ot=w&&o(k)&&k.length===1?re+"[]":re;if(S&&o(k)&&k.length===0)return ot+"[]";for(var fe=0;fe<ve.length;++fe){var J=ve[fe],se=typeof J=="object"&&J&&typeof J.value<"u"?J.value:k[J];if(!(T&&se===null)){var Q=$&&A?String(J).replace(/\./g,"%2E"):String(J),ye=o(k)?typeof b=="function"?b(ot,Q):ot:ot+($?"."+Q:"["+Q+"]");K.set(m,Ne);var Me=n();Me.set(h,K),l(ne,g(se,ye,b,w,S,E,T,A,b==="comma"&&W&&o(k)?null:C,D,P,$,M,V,B,W,z,Me))}}return ne},d=function(m){if(!m)return f;if(typeof m.allowEmptyArrays<"u"&&typeof m.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof m.encodeDotInKeys<"u"&&typeof m.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(m.encoder!==null&&typeof m.encoder<"u"&&typeof m.encoder!="function")throw new TypeError("Encoder has to be a function.");var y=m.charset||f.charset;if(typeof m.charset<"u"&&m.charset!=="utf-8"&&m.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var b=t.default;if(typeof m.format<"u"){if(!r.call(t.formatters,m.format))throw new TypeError("Unknown format option provided.");b=m.format}var w=t.formatters[b],S=f.filter;(typeof m.filter=="function"||o(m.filter))&&(S=m.filter);var E;if(m.arrayFormat in i?E=m.arrayFormat:"indices"in m?E=m.indices?"indices":"repeat":E=f.arrayFormat,"commaRoundTrip"in m&&typeof m.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var T=typeof m.allowDots>"u"?m.encodeDotInKeys===!0?!0:f.allowDots:!!m.allowDots;return{addQueryPrefix:typeof m.addQueryPrefix=="boolean"?m.addQueryPrefix:f.addQueryPrefix,allowDots:T,allowEmptyArrays:typeof m.allowEmptyArrays=="boolean"?!!m.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:E,charset:y,charsetSentinel:typeof m.charsetSentinel=="boolean"?m.charsetSentinel:f.charsetSentinel,commaRoundTrip:!!m.commaRoundTrip,delimiter:typeof m.delimiter>"u"?f.delimiter:m.delimiter,encode:typeof m.encode=="boolean"?m.encode:f.encode,encodeDotInKeys:typeof m.encodeDotInKeys=="boolean"?m.encodeDotInKeys:f.encodeDotInKeys,encoder:typeof m.encoder=="function"?m.encoder:f.encoder,encodeValuesOnly:typeof m.encodeValuesOnly=="boolean"?m.encodeValuesOnly:f.encodeValuesOnly,filter:S,format:b,formatter:w,serializeDate:typeof m.serializeDate=="function"?m.serializeDate:f.serializeDate,skipNulls:typeof m.skipNulls=="boolean"?m.skipNulls:f.skipNulls,sort:typeof m.sort=="function"?m.sort:null,strictNullHandling:typeof m.strictNullHandling=="boolean"?m.strictNullHandling:f.strictNullHandling}};return Gs=function(g,m){var y=g,b=d(m),w,S;typeof b.filter=="function"?(S=b.filter,y=S("",y)):o(b.filter)&&(S=b.filter,w=S);var E=[];if(typeof y!="object"||y===null)return"";var T=i[b.arrayFormat],A=T==="comma"&&b.commaRoundTrip;w||(w=Object.keys(y)),b.sort&&w.sort(b.sort);for(var C=n(),D=0;D<w.length;++D){var P=w[D],$=y[P];b.skipNulls&&$===null||l(E,p($,P,T,A,b.allowEmptyArrays,b.strictNullHandling,b.skipNulls,b.encodeDotInKeys,b.encode?b.encoder:null,b.filter,b.sort,b.allowDots,b.serializeDate,b.format,b.formatter,b.encodeValuesOnly,b.charset,C))}var M=E.join(b.delimiter),V=b.addQueryPrefix===!0?"?":"";return b.charsetSentinel&&(b.charset==="iso-8859-1"?V+="utf8=%26%2310003%3B&":V+="utf8=%E2%9C%93&"),M.length>0?V+M:""},Gs}var Qs,jf;function $1(){if(jf)return Qs;jf=1;var n=nh(),e=Object.prototype.hasOwnProperty,t=Array.isArray,r={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:n.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},i=function(h){return h.replace(/&#(\d+);/g,function(p,d){return String.fromCharCode(parseInt(d,10))})},o=function(h,p,d){if(h&&typeof h=="string"&&p.comma&&h.indexOf(",")>-1)return h.split(",");if(p.throwOnLimitExceeded&&d>=p.arrayLimit)throw new RangeError("Array limit exceeded. Only "+p.arrayLimit+" element"+(p.arrayLimit===1?"":"s")+" allowed in an array.");return h},s="utf8=%26%2310003%3B",l="utf8=%E2%9C%93",a=function(p,d){var g={__proto__:null},m=d.ignoreQueryPrefix?p.replace(/^\?/,""):p;m=m.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var y=d.parameterLimit===1/0?void 0:d.parameterLimit,b=m.split(d.delimiter,d.throwOnLimitExceeded?y+1:y);if(d.throwOnLimitExceeded&&b.length>y)throw new RangeError("Parameter limit exceeded. Only "+y+" parameter"+(y===1?"":"s")+" allowed.");var w=-1,S,E=d.charset;if(d.charsetSentinel)for(S=0;S<b.length;++S)b[S].indexOf("utf8=")===0&&(b[S]===l?E="utf-8":b[S]===s&&(E="iso-8859-1"),w=S,S=b.length);for(S=0;S<b.length;++S)if(S!==w){var T=b[S],A=T.indexOf("]="),C=A===-1?T.indexOf("="):A+1,D,P;C===-1?(D=d.decoder(T,r.decoder,E,"key"),P=d.strictNullHandling?null:""):(D=d.decoder(T.slice(0,C),r.decoder,E,"key"),P=n.maybeMap(o(T.slice(C+1),d,t(g[D])?g[D].length:0),function(M){return d.decoder(M,r.decoder,E,"value")})),P&&d.interpretNumericEntities&&E==="iso-8859-1"&&(P=i(String(P))),T.indexOf("[]=")>-1&&(P=t(P)?[P]:P);var $=e.call(g,D);$&&d.duplicates==="combine"?g[D]=n.combine(g[D],P):(!$||d.duplicates==="last")&&(g[D]=P)}return g},c=function(h,p,d,g){var m=0;if(h.length>0&&h[h.length-1]==="[]"){var y=h.slice(0,-1).join("");m=Array.isArray(p)&&p[y]?p[y].length:0}for(var b=g?p:o(p,d,m),w=h.length-1;w>=0;--w){var S,E=h[w];if(E==="[]"&&d.parseArrays)S=d.allowEmptyArrays&&(b===""||d.strictNullHandling&&b===null)?[]:n.combine([],b);else{S=d.plainObjects?{__proto__:null}:{};var T=E.charAt(0)==="["&&E.charAt(E.length-1)==="]"?E.slice(1,-1):E,A=d.decodeDotInKeys?T.replace(/%2E/g,"."):T,C=parseInt(A,10);!d.parseArrays&&A===""?S={0:b}:!isNaN(C)&&E!==A&&String(C)===A&&C>=0&&d.parseArrays&&C<=d.arrayLimit?(S=[],S[C]=b):A!=="__proto__"&&(S[A]=b)}b=S}return b},f=function(p,d,g,m){if(p){var y=g.allowDots?p.replace(/\.([^.[]+)/g,"[$1]"):p,b=/(\[[^[\]]*])/,w=/(\[[^[\]]*])/g,S=g.depth>0&&b.exec(y),E=S?y.slice(0,S.index):y,T=[];if(E){if(!g.plainObjects&&e.call(Object.prototype,E)&&!g.allowPrototypes)return;T.push(E)}for(var A=0;g.depth>0&&(S=w.exec(y))!==null&&A<g.depth;){if(A+=1,!g.plainObjects&&e.call(Object.prototype,S[1].slice(1,-1))&&!g.allowPrototypes)return;T.push(S[1])}if(S){if(g.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+g.depth+" and strictDepth is true");T.push("["+y.slice(S.index)+"]")}return c(T,d,g,m)}},u=function(p){if(!p)return r;if(typeof p.allowEmptyArrays<"u"&&typeof p.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof p.decodeDotInKeys<"u"&&typeof p.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(p.decoder!==null&&typeof p.decoder<"u"&&typeof p.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof p.charset<"u"&&p.charset!=="utf-8"&&p.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof p.throwOnLimitExceeded<"u"&&typeof p.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var d=typeof p.charset>"u"?r.charset:p.charset,g=typeof p.duplicates>"u"?r.duplicates:p.duplicates;if(g!=="combine"&&g!=="first"&&g!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var m=typeof p.allowDots>"u"?p.decodeDotInKeys===!0?!0:r.allowDots:!!p.allowDots;return{allowDots:m,allowEmptyArrays:typeof p.allowEmptyArrays=="boolean"?!!p.allowEmptyArrays:r.allowEmptyArrays,allowPrototypes:typeof p.allowPrototypes=="boolean"?p.allowPrototypes:r.allowPrototypes,allowSparse:typeof p.allowSparse=="boolean"?p.allowSparse:r.allowSparse,arrayLimit:typeof p.arrayLimit=="number"?p.arrayLimit:r.arrayLimit,charset:d,charsetSentinel:typeof p.charsetSentinel=="boolean"?p.charsetSentinel:r.charsetSentinel,comma:typeof p.comma=="boolean"?p.comma:r.comma,decodeDotInKeys:typeof p.decodeDotInKeys=="boolean"?p.decodeDotInKeys:r.decodeDotInKeys,decoder:typeof p.decoder=="function"?p.decoder:r.decoder,delimiter:typeof p.delimiter=="string"||n.isRegExp(p.delimiter)?p.delimiter:r.delimiter,depth:typeof p.depth=="number"||p.depth===!1?+p.depth:r.depth,duplicates:g,ignoreQueryPrefix:p.ignoreQueryPrefix===!0,interpretNumericEntities:typeof p.interpretNumericEntities=="boolean"?p.interpretNumericEntities:r.interpretNumericEntities,parameterLimit:typeof p.parameterLimit=="number"?p.parameterLimit:r.parameterLimit,parseArrays:p.parseArrays!==!1,plainObjects:typeof p.plainObjects=="boolean"?p.plainObjects:r.plainObjects,strictDepth:typeof p.strictDepth=="boolean"?!!p.strictDepth:r.strictDepth,strictNullHandling:typeof p.strictNullHandling=="boolean"?p.strictNullHandling:r.strictNullHandling,throwOnLimitExceeded:typeof p.throwOnLimitExceeded=="boolean"?p.throwOnLimitExceeded:!1}};return Qs=function(h,p){var d=u(p);if(h===""||h===null||typeof h>"u")return d.plainObjects?{__proto__:null}:{};for(var g=typeof h=="string"?a(h,d):h,m=d.plainObjects?{__proto__:null}:{},y=Object.keys(g),b=0;b<y.length;++b){var w=y[b],S=f(w,g[w],d,typeof h=="string");m=n.merge(m,S,d)}return d.allowSparse===!0?m:n.compact(m)},Qs}var Xs,Vf;function B1(){if(Vf)return Xs;Vf=1;var n=F1(),e=$1(),t=Pa();return Xs={formats:t,parse:e,stringify:n},Xs}var nC=B1();function rh(n,e){return function(){return n.apply(e,arguments)}}const{toString:z1}=Object.prototype,{getPrototypeOf:Ia}=Object,{iterator:Mo,toStringTag:ih}=Symbol,Do=(n=>e=>{const t=z1.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),dt=n=>(n=n.toLowerCase(),e=>Do(e)===n),Po=n=>e=>typeof e===n,{isArray:lr}=Array,Zn=Po("undefined");function Yr(n){return n!==null&&!Zn(n)&&n.constructor!==null&&!Zn(n.constructor)&&je(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const oh=dt("ArrayBuffer");function _1(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&oh(n.buffer),e}const j1=Po("string"),je=Po("function"),sh=Po("number"),Zr=n=>n!==null&&typeof n=="object",V1=n=>n===!0||n===!1,Ci=n=>{if(Do(n)!=="object")return!1;const e=Ia(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(ih in n)&&!(Mo in n)},U1=n=>{if(!Zr(n)||Yr(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},q1=dt("Date"),H1=dt("File"),W1=dt("Blob"),K1=dt("FileList"),J1=n=>Zr(n)&&je(n.pipe),G1=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||je(n.append)&&((e=Do(n))==="formdata"||e==="object"&&je(n.toString)&&n.toString()==="[object FormData]"))},Q1=dt("URLSearchParams"),[X1,Y1,Z1,ew]=["ReadableStream","Request","Response","Headers"].map(dt),tw=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ei(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),lr(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{if(Yr(n))return;const o=t?Object.getOwnPropertyNames(n):Object.keys(n),s=o.length;let l;for(r=0;r<s;r++)l=o[r],e.call(null,n[l],l,n)}}function lh(n,e){if(Yr(n))return null;e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const mn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ah=n=>!Zn(n)&&n!==mn;function Bl(){const{caseless:n,skipUndefined:e}=ah(this)&&this||{},t={},r=(i,o)=>{const s=n&&lh(t,o)||o;Ci(t[s])&&Ci(i)?t[s]=Bl(t[s],i):Ci(i)?t[s]=Bl({},i):lr(i)?t[s]=i.slice():(!e||!Zn(i))&&(t[s]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&ei(arguments[i],r);return t}const nw=(n,e,t,{allOwnKeys:r}={})=>(ei(e,(i,o)=>{t&&je(i)?n[o]=rh(i,t):n[o]=i},{allOwnKeys:r}),n),rw=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),iw=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},ow=(n,e,t,r)=>{let i,o,s;const l={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)s=i[o],(!r||r(s,n,e))&&!l[s]&&(e[s]=n[s],l[s]=!0);n=t!==!1&&Ia(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},sw=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},lw=n=>{if(!n)return null;if(lr(n))return n;let e=n.length;if(!sh(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},aw=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Ia(Uint8Array)),cw=(n,e)=>{const r=(n&&n[Mo]).call(n);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(n,o[0],o[1])}},fw=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},uw=dt("HTMLFormElement"),dw=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),Uf=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),hw=dt("RegExp"),ch=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};ei(t,(i,o)=>{let s;(s=e(i,o,n))!==!1&&(r[o]=s||i)}),Object.defineProperties(n,r)},pw=n=>{ch(n,(e,t)=>{if(je(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(je(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},mw=(n,e)=>{const t={},r=i=>{i.forEach(o=>{t[o]=!0})};return lr(n)?r(n):r(String(n).split(e)),t},gw=()=>{},yw=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function bw(n){return!!(n&&je(n.append)&&n[ih]==="FormData"&&n[Mo])}const ww=n=>{const e=new Array(10),t=(r,i)=>{if(Zr(r)){if(e.indexOf(r)>=0)return;if(Yr(r))return r;if(!("toJSON"in r)){e[i]=r;const o=lr(r)?[]:{};return ei(r,(s,l)=>{const a=t(s,i+1);!Zn(a)&&(o[l]=a)}),e[i]=void 0,o}}return r};return t(n,0)},xw=dt("AsyncFunction"),Sw=n=>n&&(Zr(n)||je(n))&&je(n.then)&&je(n.catch),fh=((n,e)=>n?setImmediate:e?((t,r)=>(mn.addEventListener("message",({source:i,data:o})=>{i===mn&&o===t&&r.length&&r.shift()()},!1),i=>{r.push(i),mn.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",je(mn.postMessage)),Ow=typeof queueMicrotask<"u"?queueMicrotask.bind(mn):typeof process<"u"&&process.nextTick||fh,vw=n=>n!=null&&je(n[Mo]),O={isArray:lr,isArrayBuffer:oh,isBuffer:Yr,isFormData:G1,isArrayBufferView:_1,isString:j1,isNumber:sh,isBoolean:V1,isObject:Zr,isPlainObject:Ci,isEmptyObject:U1,isReadableStream:X1,isRequest:Y1,isResponse:Z1,isHeaders:ew,isUndefined:Zn,isDate:q1,isFile:H1,isBlob:W1,isRegExp:hw,isFunction:je,isStream:J1,isURLSearchParams:Q1,isTypedArray:aw,isFileList:K1,forEach:ei,merge:Bl,extend:nw,trim:tw,stripBOM:rw,inherits:iw,toFlatObject:ow,kindOf:Do,kindOfTest:dt,endsWith:sw,toArray:lw,forEachEntry:cw,matchAll:fw,isHTMLForm:uw,hasOwnProperty:Uf,hasOwnProp:Uf,reduceDescriptors:ch,freezeMethods:pw,toObjectSet:mw,toCamelCase:dw,noop:gw,toFiniteNumber:yw,findKey:lh,global:mn,isContextDefined:ah,isSpecCompliantForm:bw,toJSONObject:ww,isAsyncFn:xw,isThenable:Sw,setImmediate:fh,asap:Ow,isIterable:vw};function j(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}O.inherits(j,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.status}}});const uh=j.prototype,dh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{dh[n]={value:n}});Object.defineProperties(j,dh);Object.defineProperty(uh,"isAxiosError",{value:!0});j.from=(n,e,t,r,i,o)=>{const s=Object.create(uh);O.toFlatObject(n,s,function(f){return f!==Error.prototype},c=>c!=="isAxiosError");const l=n&&n.message?n.message:"Error",a=e==null&&n?n.code:e;return j.call(s,l,a,t,r,i),n&&s.cause==null&&Object.defineProperty(s,"cause",{value:n,configurable:!0}),s.name=n&&n.name||"Error",o&&Object.assign(s,o),s};const Ew=null;function zl(n){return O.isPlainObject(n)||O.isArray(n)}function hh(n){return O.endsWith(n,"[]")?n.slice(0,-2):n}function qf(n,e,t){return n?n.concat(e).map(function(i,o){return i=hh(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function Aw(n){return O.isArray(n)&&!n.some(zl)}const Cw=O.toFlatObject(O,{},null,function(e){return/^is[A-Z]/.test(e)});function Io(n,e,t){if(!O.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=O.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,m){return!O.isUndefined(m[g])});const r=t.metaTokens,i=t.visitor||f,o=t.dots,s=t.indexes,a=(t.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(e);if(!O.isFunction(i))throw new TypeError("visitor must be a function");function c(d){if(d===null)return"";if(O.isDate(d))return d.toISOString();if(O.isBoolean(d))return d.toString();if(!a&&O.isBlob(d))throw new j("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(d)||O.isTypedArray(d)?a&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function f(d,g,m){let y=d;if(d&&!m&&typeof d=="object"){if(O.endsWith(g,"{}"))g=r?g:g.slice(0,-2),d=JSON.stringify(d);else if(O.isArray(d)&&Aw(d)||(O.isFileList(d)||O.endsWith(g,"[]"))&&(y=O.toArray(d)))return g=hh(g),y.forEach(function(w,S){!(O.isUndefined(w)||w===null)&&e.append(s===!0?qf([g],S,o):s===null?g:g+"[]",c(w))}),!1}return zl(d)?!0:(e.append(qf(m,g,o),c(d)),!1)}const u=[],h=Object.assign(Cw,{defaultVisitor:f,convertValue:c,isVisitable:zl});function p(d,g){if(!O.isUndefined(d)){if(u.indexOf(d)!==-1)throw Error("Circular reference detected in "+g.join("."));u.push(d),O.forEach(d,function(y,b){(!(O.isUndefined(y)||y===null)&&i.call(e,y,O.isString(b)?b.trim():b,g,h))===!0&&p(y,g?g.concat(b):[b])}),u.pop()}}if(!O.isObject(n))throw new TypeError("data must be an object");return p(n),e}function Hf(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function La(n,e){this._pairs=[],n&&Io(n,this,e)}const ph=La.prototype;ph.append=function(e,t){this._pairs.push([e,t])};ph.toString=function(e){const t=e?function(r){return e.call(this,r,Hf)}:Hf;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function kw(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function mh(n,e,t){if(!e)return n;const r=t&&t.encode||kw;O.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=O.isURLSearchParams(e)?e.toString():new La(e,t).toString(r),o){const s=n.indexOf("#");s!==-1&&(n=n.slice(0,s)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class Wf{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){O.forEach(this.handlers,function(r){r!==null&&e(r)})}}const gh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Tw=typeof URLSearchParams<"u"?URLSearchParams:La,Rw=typeof FormData<"u"?FormData:null,Nw=typeof Blob<"u"?Blob:null,Mw={isBrowser:!0,classes:{URLSearchParams:Tw,FormData:Rw,Blob:Nw},protocols:["http","https","file","blob","url","data"]},Fa=typeof window<"u"&&typeof document<"u",_l=typeof navigator=="object"&&navigator||void 0,Dw=Fa&&(!_l||["ReactNative","NativeScript","NS"].indexOf(_l.product)<0),Pw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Iw=Fa&&window.location.href||"http://localhost",Lw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Fa,hasStandardBrowserEnv:Dw,hasStandardBrowserWebWorkerEnv:Pw,navigator:_l,origin:Iw},Symbol.toStringTag,{value:"Module"})),Ie={...Lw,...Mw};function Fw(n,e){return Io(n,new Ie.classes.URLSearchParams,{visitor:function(t,r,i,o){return Ie.isNode&&O.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function $w(n){return O.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Bw(n){const e={},t=Object.keys(n);let r;const i=t.length;let o;for(r=0;r<i;r++)o=t[r],e[o]=n[o];return e}function yh(n){function e(t,r,i,o){let s=t[o++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),a=o>=t.length;return s=!s&&O.isArray(i)?i.length:s,a?(O.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!l):((!i[s]||!O.isObject(i[s]))&&(i[s]=[]),e(t,r,i[s],o)&&O.isArray(i[s])&&(i[s]=Bw(i[s])),!l)}if(O.isFormData(n)&&O.isFunction(n.entries)){const t={};return O.forEachEntry(n,(r,i)=>{e($w(r),i,t,0)}),t}return null}function zw(n,e,t){if(O.isString(n))try{return(e||JSON.parse)(n),O.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const ti={transitional:gh,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=O.isObject(e);if(o&&O.isHTMLForm(e)&&(e=new FormData(e)),O.isFormData(e))return i?JSON.stringify(yh(e)):e;if(O.isArrayBuffer(e)||O.isBuffer(e)||O.isStream(e)||O.isFile(e)||O.isBlob(e)||O.isReadableStream(e))return e;if(O.isArrayBufferView(e))return e.buffer;if(O.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Fw(e,this.formSerializer).toString();if((l=O.isFileList(e))||r.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return Io(l?{"files[]":e}:e,a&&new a,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),zw(e)):e}],transformResponse:[function(e){const t=this.transitional||ti.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(O.isResponse(e)||O.isReadableStream(e))return e;if(e&&O.isString(e)&&(r&&!this.responseType||i)){const s=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(l){if(s)throw l.name==="SyntaxError"?j.from(l,j.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ie.classes.FormData,Blob:Ie.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],n=>{ti.headers[n]={}});const _w=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jw=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(s){i=s.indexOf(":"),t=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!t||e[t]&&_w[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},Kf=Symbol("internals");function yr(n){return n&&String(n).trim().toLowerCase()}function ki(n){return n===!1||n==null?n:O.isArray(n)?n.map(ki):String(n)}function Vw(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const Uw=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Ys(n,e,t,r,i){if(O.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!O.isString(e)){if(O.isString(r))return e.indexOf(r)!==-1;if(O.isRegExp(r))return r.test(e)}}function qw(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function Hw(n,e){const t=O.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}let Ve=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function o(l,a,c){const f=yr(a);if(!f)throw new Error("header name must be a non-empty string");const u=O.findKey(i,f);(!u||i[u]===void 0||c===!0||c===void 0&&i[u]!==!1)&&(i[u||a]=ki(l))}const s=(l,a)=>O.forEach(l,(c,f)=>o(c,f,a));if(O.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(O.isString(e)&&(e=e.trim())&&!Uw(e))s(jw(e),t);else if(O.isObject(e)&&O.isIterable(e)){let l={},a,c;for(const f of e){if(!O.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[c=f[0]]=(a=l[c])?O.isArray(a)?[...a,f[1]]:[a,f[1]]:f[1]}s(l,t)}else e!=null&&o(t,e,r);return this}get(e,t){if(e=yr(e),e){const r=O.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return Vw(i);if(O.isFunction(t))return t.call(this,i,r);if(O.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=yr(e),e){const r=O.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||Ys(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function o(s){if(s=yr(s),s){const l=O.findKey(r,s);l&&(!t||Ys(r,r[l],l,t))&&(delete r[l],i=!0)}}return O.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const o=t[r];(!e||Ys(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,r={};return O.forEach(this,(i,o)=>{const s=O.findKey(r,o);if(s){t[s]=ki(i),delete t[o];return}const l=e?qw(o):String(o).trim();l!==o&&delete t[o],t[l]=ki(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return O.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&O.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Kf]=this[Kf]={accessors:{}}).accessors,i=this.prototype;function o(s){const l=yr(s);r[l]||(Hw(i,s),r[l]=!0)}return O.isArray(e)?e.forEach(o):o(e),this}};Ve.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(Ve.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});O.freezeMethods(Ve);function Zs(n,e){const t=this||ti,r=e||t,i=Ve.from(r.headers);let o=r.data;return O.forEach(n,function(l){o=l.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function bh(n){return!!(n&&n.__CANCEL__)}function ar(n,e,t){j.call(this,n??"canceled",j.ERR_CANCELED,e,t),this.name="CanceledError"}O.inherits(ar,j,{__CANCEL__:!0});function wh(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new j("Request failed with status code "+t.status,[j.ERR_BAD_REQUEST,j.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Ww(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Kw(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(a){const c=Date.now(),f=r[o];s||(s=c),t[i]=a,r[i]=c;let u=o,h=0;for(;u!==i;)h+=t[u++],u=u%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),c-s<e)return;const p=f&&c-f;return p?Math.round(h*1e3/p):void 0}}function Jw(n,e){let t=0,r=1e3/e,i,o;const s=(c,f=Date.now())=>{t=f,i=null,o&&(clearTimeout(o),o=null),n(...c)};return[(...c)=>{const f=Date.now(),u=f-t;u>=r?s(c,f):(i=c,o||(o=setTimeout(()=>{o=null,s(i)},r-u)))},()=>i&&s(i)]}const $i=(n,e,t=3)=>{let r=0;const i=Kw(50,250);return Jw(o=>{const s=o.loaded,l=o.lengthComputable?o.total:void 0,a=s-r,c=i(a),f=s<=l;r=s;const u={loaded:s,total:l,progress:l?s/l:void 0,bytes:a,rate:c||void 0,estimated:c&&l&&f?(l-s)/c:void 0,event:o,lengthComputable:l!=null,[e?"download":"upload"]:!0};n(u)},t)},Jf=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},Gf=n=>(...e)=>O.asap(()=>n(...e)),Gw=Ie.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Ie.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Ie.origin),Ie.navigator&&/(msie|trident)/i.test(Ie.navigator.userAgent)):()=>!0,Qw=Ie.hasStandardBrowserEnv?{write(n,e,t,r,i,o){const s=[n+"="+encodeURIComponent(e)];O.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),O.isString(r)&&s.push("path="+r),O.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Xw(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Yw(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function xh(n,e,t){let r=!Xw(e);return n&&(r||t==!1)?Yw(n,e):e}const Qf=n=>n instanceof Ve?{...n}:n;function kn(n,e){e=e||{};const t={};function r(c,f,u,h){return O.isPlainObject(c)&&O.isPlainObject(f)?O.merge.call({caseless:h},c,f):O.isPlainObject(f)?O.merge({},f):O.isArray(f)?f.slice():f}function i(c,f,u,h){if(O.isUndefined(f)){if(!O.isUndefined(c))return r(void 0,c,u,h)}else return r(c,f,u,h)}function o(c,f){if(!O.isUndefined(f))return r(void 0,f)}function s(c,f){if(O.isUndefined(f)){if(!O.isUndefined(c))return r(void 0,c)}else return r(void 0,f)}function l(c,f,u){if(u in e)return r(c,f);if(u in n)return r(void 0,c)}const a={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(c,f,u)=>i(Qf(c),Qf(f),u,!0)};return O.forEach(Object.keys({...n,...e}),function(f){const u=a[f]||i,h=u(n[f],e[f],f);O.isUndefined(h)&&u!==l||(t[f]=h)}),t}const Sh=n=>{const e=kn({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:l}=e;if(e.headers=s=Ve.from(s),e.url=mh(xh(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),O.isFormData(t)){if(Ie.hasStandardBrowserEnv||Ie.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(O.isFunction(t.getHeaders)){const a=t.getHeaders(),c=["content-type","content-length"];Object.entries(a).forEach(([f,u])=>{c.includes(f.toLowerCase())&&s.set(f,u)})}}if(Ie.hasStandardBrowserEnv&&(r&&O.isFunction(r)&&(r=r(e)),r||r!==!1&&Gw(e.url))){const a=i&&o&&Qw.read(o);a&&s.set(i,a)}return e},Zw=typeof XMLHttpRequest<"u",ex=Zw&&function(n){return new Promise(function(t,r){const i=Sh(n);let o=i.data;const s=Ve.from(i.headers).normalize();let{responseType:l,onUploadProgress:a,onDownloadProgress:c}=i,f,u,h,p,d;function g(){p&&p(),d&&d(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let m=new XMLHttpRequest;m.open(i.method.toUpperCase(),i.url,!0),m.timeout=i.timeout;function y(){if(!m)return;const w=Ve.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:w,config:n,request:m};wh(function(A){t(A),g()},function(A){r(A),g()},E),m=null}"onloadend"in m?m.onloadend=y:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(y)},m.onabort=function(){m&&(r(new j("Request aborted",j.ECONNABORTED,n,m)),m=null)},m.onerror=function(S){const E=S&&S.message?S.message:"Network Error",T=new j(E,j.ERR_NETWORK,n,m);T.event=S||null,r(T),m=null},m.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||gh;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),r(new j(S,E.clarifyTimeoutError?j.ETIMEDOUT:j.ECONNABORTED,n,m)),m=null},o===void 0&&s.setContentType(null),"setRequestHeader"in m&&O.forEach(s.toJSON(),function(S,E){m.setRequestHeader(E,S)}),O.isUndefined(i.withCredentials)||(m.withCredentials=!!i.withCredentials),l&&l!=="json"&&(m.responseType=i.responseType),c&&([h,d]=$i(c,!0),m.addEventListener("progress",h)),a&&m.upload&&([u,p]=$i(a),m.upload.addEventListener("progress",u),m.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(f=w=>{m&&(r(!w||w.type?new ar(null,n,m):w),m.abort(),m=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const b=Ww(i.url);if(b&&Ie.protocols.indexOf(b)===-1){r(new j("Unsupported protocol "+b+":",j.ERR_BAD_REQUEST,n));return}m.send(o||null)})},tx=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const o=function(c){if(!i){i=!0,l();const f=c instanceof Error?c:this.reason;r.abort(f instanceof j?f:new ar(f instanceof Error?f.message:f))}};let s=e&&setTimeout(()=>{s=null,o(new j(`timeout ${e} of ms exceeded`,j.ETIMEDOUT))},e);const l=()=>{n&&(s&&clearTimeout(s),s=null,n.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),n=null)};n.forEach(c=>c.addEventListener("abort",o));const{signal:a}=r;return a.unsubscribe=()=>O.asap(l),a}},nx=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},rx=async function*(n,e){for await(const t of ix(n))yield*nx(t,e)},ix=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},Xf=(n,e,t,r)=>{const i=rx(n,e);let o=0,s,l=a=>{s||(s=!0,r&&r(a))};return new ReadableStream({async pull(a){try{const{done:c,value:f}=await i.next();if(c){l(),a.close();return}let u=f.byteLength;if(t){let h=o+=u;t(h)}a.enqueue(new Uint8Array(f))}catch(c){throw l(c),c}},cancel(a){return l(a),i.return()}},{highWaterMark:2})},Yf=64*1024,{isFunction:di}=O,ox=(({Request:n,Response:e})=>({Request:n,Response:e}))(O.global),{ReadableStream:Zf,TextEncoder:eu}=O.global,tu=(n,...e)=>{try{return!!n(...e)}catch{return!1}},sx=n=>{n=O.merge.call({skipUndefined:!0},ox,n);const{fetch:e,Request:t,Response:r}=n,i=e?di(e):typeof fetch=="function",o=di(t),s=di(r);if(!i)return!1;const l=i&&di(Zf),a=i&&(typeof eu=="function"?(d=>g=>d.encode(g))(new eu):async d=>new Uint8Array(await new t(d).arrayBuffer())),c=o&&l&&tu(()=>{let d=!1;const g=new t(Ie.origin,{body:new Zf,method:"POST",get duplex(){return d=!0,"half"}}).headers.has("Content-Type");return d&&!g}),f=s&&l&&tu(()=>O.isReadableStream(new r("").body)),u={stream:f&&(d=>d.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(d=>{!u[d]&&(u[d]=(g,m)=>{let y=g&&g[d];if(y)return y.call(g);throw new j(`Response type '${d}' is not supported`,j.ERR_NOT_SUPPORT,m)})});const h=async d=>{if(d==null)return 0;if(O.isBlob(d))return d.size;if(O.isSpecCompliantForm(d))return(await new t(Ie.origin,{method:"POST",body:d}).arrayBuffer()).byteLength;if(O.isArrayBufferView(d)||O.isArrayBuffer(d))return d.byteLength;if(O.isURLSearchParams(d)&&(d=d+""),O.isString(d))return(await a(d)).byteLength},p=async(d,g)=>{const m=O.toFiniteNumber(d.getContentLength());return m??h(g)};return async d=>{let{url:g,method:m,data:y,signal:b,cancelToken:w,timeout:S,onDownloadProgress:E,onUploadProgress:T,responseType:A,headers:C,withCredentials:D="same-origin",fetchOptions:P}=Sh(d),$=e||fetch;A=A?(A+"").toLowerCase():"text";let M=tx([b,w&&w.toAbortSignal()],S),V=null;const B=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let W;try{if(T&&c&&m!=="get"&&m!=="head"&&(W=await p(C,y))!==0){let me=new t(g,{method:"POST",body:y,duplex:"half"}),ge;if(O.isFormData(y)&&(ge=me.headers.get("content-type"))&&C.setContentType(ge),me.body){const[te,ne]=Jf(W,$i(Gf(T)));y=Xf(me.body,Yf,te,ne)}}O.isString(D)||(D=D?"include":"omit");const z=o&&"credentials"in t.prototype,K={...P,signal:M,method:m.toUpperCase(),headers:C.normalize().toJSON(),body:y,duplex:"half",credentials:z?D:void 0};V=o&&new t(g,K);let k=await(o?$(V,P):$(g,K));const ee=f&&(A==="stream"||A==="response");if(f&&(E||ee&&B)){const me={};["status","statusText","headers"].forEach(ve=>{me[ve]=k[ve]});const ge=O.toFiniteNumber(k.headers.get("content-length")),[te,ne]=E&&Jf(ge,$i(Gf(E),!0))||[];k=new r(Xf(k.body,Yf,te,()=>{ne&&ne(),B&&B()}),me)}A=A||"text";let Ne=await u[O.findKey(u,A)||"text"](k,d);return!ee&&B&&B(),await new Promise((me,ge)=>{wh(me,ge,{data:Ne,headers:Ve.from(k.headers),status:k.status,statusText:k.statusText,config:d,request:V})})}catch(z){throw B&&B(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new j("Network Error",j.ERR_NETWORK,d,V),{cause:z.cause||z}):j.from(z,z&&z.code,d,V)}}},lx=new Map,Oh=n=>{let e=n?n.env:{};const{fetch:t,Request:r,Response:i}=e,o=[r,i,t];let s=o.length,l=s,a,c,f=lx;for(;l--;)a=o[l],c=f.get(a),c===void 0&&f.set(a,c=l?new Map:sx(e)),f=c;return c};Oh();const jl={http:Ew,xhr:ex,fetch:{get:Oh}};O.forEach(jl,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const nu=n=>`- ${n}`,ax=n=>O.isFunction(n)||n===null||n===!1,vh={getAdapter:(n,e)=>{n=O.isArray(n)?n:[n];const{length:t}=n;let r,i;const o={};for(let s=0;s<t;s++){r=n[s];let l;if(i=r,!ax(r)&&(i=jl[(l=String(r)).toLowerCase()],i===void 0))throw new j(`Unknown adapter '${l}'`);if(i&&(O.isFunction(i)||(i=i.get(e))))break;o[l||"#"+s]=i}if(!i){const s=Object.entries(o).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=t?s.length>1?`since :
`+s.map(nu).join(`
`):" "+nu(s[0]):"as no adapter specified";throw new j("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i},adapters:jl};function el(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new ar(null,n)}function ru(n){return el(n),n.headers=Ve.from(n.headers),n.data=Zs.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),vh.getAdapter(n.adapter||ti.adapter,n)(n).then(function(r){return el(n),r.data=Zs.call(n,n.transformResponse,r),r.headers=Ve.from(r.headers),r},function(r){return bh(r)||(el(n),r&&r.response&&(r.response.data=Zs.call(n,n.transformResponse,r.response),r.response.headers=Ve.from(r.response.headers))),Promise.reject(r)})}const Eh="1.12.2",Lo={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Lo[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const iu={};Lo.transitional=function(e,t,r){function i(o,s){return"[Axios v"+Eh+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,l)=>{if(e===!1)throw new j(i(s," has been removed"+(t?" in "+t:"")),j.ERR_DEPRECATED);return t&&!iu[s]&&(iu[s]=!0,console.warn(i(s," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,s,l):!0}};Lo.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function cx(n,e,t){if(typeof n!="object")throw new j("options must be an object",j.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const l=n[o],a=l===void 0||s(l,o,n);if(a!==!0)throw new j("option "+o+" must be "+a,j.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new j("Unknown option "+o,j.ERR_BAD_OPTION)}}const Ti={assertOptions:cx,validators:Lo},ht=Ti.validators;let wn=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Wf,response:new Wf}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=kn(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&Ti.assertOptions(r,{silentJSONParsing:ht.transitional(ht.boolean),forcedJSONParsing:ht.transitional(ht.boolean),clarifyTimeoutError:ht.transitional(ht.boolean)},!1),i!=null&&(O.isFunction(i)?t.paramsSerializer={serialize:i}:Ti.assertOptions(i,{encode:ht.function,serialize:ht.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Ti.assertOptions(t,{baseUrl:ht.spelling("baseURL"),withXsrfToken:ht.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=o&&O.merge(o.common,o[t.method]);o&&O.forEach(["delete","get","head","post","put","patch","common"],d=>{delete o[d]}),t.headers=Ve.concat(s,o);const l=[];let a=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(t)===!1||(a=a&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let f,u=0,h;if(!a){const d=[ru.bind(this),void 0];for(d.unshift(...l),d.push(...c),h=d.length,f=Promise.resolve(t);u<h;)f=f.then(d[u++],d[u++]);return f}h=l.length;let p=t;for(;u<h;){const d=l[u++],g=l[u++];try{p=d(p)}catch(m){g.call(this,m);break}}try{f=ru.call(this,p)}catch(d){return Promise.reject(d)}for(u=0,h=c.length;u<h;)f=f.then(c[u++],c[u++]);return f}getUri(e){e=kn(this.defaults,e);const t=xh(e.baseURL,e.url,e.allowAbsoluteUrls);return mh(t,e.params,e.paramsSerializer)}};O.forEach(["delete","get","head","options"],function(e){wn.prototype[e]=function(t,r){return this.request(kn(r||{},{method:e,url:t,data:(r||{}).data}))}});O.forEach(["post","put","patch"],function(e){function t(r){return function(o,s,l){return this.request(kn(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}wn.prototype[e]=t(),wn.prototype[e+"Form"]=t(!0)});let fx=class Ah{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(l=>{r.subscribe(l),o=l}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,l){r.reason||(r.reason=new ar(o,s,l),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Ah(function(i){e=i}),cancel:e}}};function ux(n){return function(t){return n.apply(null,t)}}function dx(n){return O.isObject(n)&&n.isAxiosError===!0}const Vl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Vl).forEach(([n,e])=>{Vl[e]=n});function Ch(n){const e=new wn(n),t=rh(wn.prototype.request,e);return O.extend(t,wn.prototype,e,{allOwnKeys:!0}),O.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return Ch(kn(n,i))},t}const pe=Ch(ti);pe.Axios=wn;pe.CanceledError=ar;pe.CancelToken=fx;pe.isCancel=bh;pe.VERSION=Eh;pe.toFormData=Io;pe.AxiosError=j;pe.Cancel=pe.CanceledError;pe.all=function(e){return Promise.all(e)};pe.spread=ux;pe.isAxiosError=dx;pe.mergeConfig=kn;pe.AxiosHeaders=Ve;pe.formToJSON=n=>yh(O.isHTMLForm(n)?new FormData(n):n);pe.getAdapter=vh.getAdapter;pe.HttpStatusCode=Vl;pe.default=pe;const{Axios:oC,AxiosError:sC,CanceledError:lC,isCancel:aC,CancelToken:cC,VERSION:fC,all:uC,Cancel:dC,isAxiosError:hC,spread:pC,toFormData:mC,AxiosHeaders:gC,HttpStatusCode:yC,formToJSON:bC,getAdapter:wC,mergeConfig:xC}=pe;async function SC(n,e){for(const t of Array.isArray(n)?n:[n]){const r=e[t];if(!(typeof r>"u"))return typeof r=="function"?r():r}throw new Error(`Page not found: ${n}`)}const hx=String.prototype.replace,px=/%20/g,kh={RFC1738:"RFC1738",RFC3986:"RFC3986"},Ul={RFC1738:function(n){return hx.call(n,px,"+")},RFC3986:function(n){return String(n)}},mx=kh.RFC1738,Th=kh.RFC3986,tl=Object.prototype.hasOwnProperty,hn=Array.isArray,pt=(function(){const n=[];for(let e=0;e<256;++e)n.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return n})(),gx=function(e){for(;e.length>1;){const t=e.pop(),r=t.obj[t.prop];if(hn(r)){const i=[];for(let o=0;o<r.length;++o)typeof r[o]<"u"&&i.push(r[o]);t.obj[t.prop]=i}}},yx=function(e,t){const r=t&&t.plainObjects?Object.create(null):{};for(let i=0;i<e.length;++i)typeof e[i]<"u"&&(r[i]=e[i]);return r},bx=function n(e,t,r){if(!t)return e;if(typeof t!="object"){if(hn(e))e.push(t);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!tl.call(Object.prototype,t))&&(e[t]=!0);else return[e,t];return e}if(!e||typeof e!="object")return[e].concat(t);let i=e;return hn(e)&&!hn(t)&&(i=yx(e,r)),hn(e)&&hn(t)?(t.forEach(function(o,s){if(tl.call(e,s)){const l=e[s];l&&typeof l=="object"&&o&&typeof o=="object"?e[s]=n(l,o,r):e.push(o)}else e[s]=o}),e):Object.keys(t).reduce(function(o,s){const l=t[s];return tl.call(o,s)?o[s]=n(o[s],l,r):o[s]=l,o},i)},wx=function(n,e,t){const r=n.replace(/\+/g," ");if(t==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},nl=1024,xx=function(e,t,r,i,o){if(e.length===0)return e;let s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),r==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(a){return"%26%23"+parseInt(a.slice(2),16)+"%3B"});let l="";for(let a=0;a<s.length;a+=nl){const c=s.length>=nl?s.slice(a,a+nl):s,f=[];for(let u=0;u<c.length;++u){let h=c.charCodeAt(u);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||o===mx&&(h===40||h===41)){f[f.length]=c.charAt(u);continue}if(h<128){f[f.length]=pt[h];continue}if(h<2048){f[f.length]=pt[192|h>>6]+pt[128|h&63];continue}if(h<55296||h>=57344){f[f.length]=pt[224|h>>12]+pt[128|h>>6&63]+pt[128|h&63];continue}u+=1,h=65536+((h&1023)<<10|c.charCodeAt(u)&1023),f[f.length]=pt[240|h>>18]+pt[128|h>>12&63]+pt[128|h>>6&63]+pt[128|h&63]}l+=f.join("")}return l},Sx=function(e){const t=[{obj:{o:e},prop:"o"}],r=[];for(let i=0;i<t.length;++i){const o=t[i],s=o.obj[o.prop],l=Object.keys(s);for(let a=0;a<l.length;++a){const c=l[a],f=s[c];typeof f=="object"&&f!==null&&r.indexOf(f)===-1&&(t.push({obj:s,prop:c}),r.push(f))}}return gx(t),e},Ox=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},vx=function(e,t){return[].concat(e,t)},ql=function(e,t){if(hn(e)){const r=[];for(let i=0;i<e.length;i+=1)r.push(t(e[i]));return r}return t(e)},Ex=Object.prototype.hasOwnProperty,Rh={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},bt=Array.isArray,Ax=Array.prototype.push,Nh=function(n,e){Ax.apply(n,bt(e)?e:[e])},Cx=Date.prototype.toISOString,ou=Th,we={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:xx,encodeValuesOnly:!1,format:ou,formatter:Ul[ou],indices:!1,serializeDate:function(e){return Cx.call(e)},skipNulls:!1,strictNullHandling:!1},kx=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},rl={},Mh=function(e,t,r,i,o,s,l,a,c,f,u,h,p,d,g,m,y,b){let w=e,S=b,E=0,T=!1;for(;(S=S.get(rl))!==void 0&&!T;){const $=S.get(e);if(E+=1,typeof $<"u"){if($===E)throw new RangeError("Cyclic object value");T=!0}typeof S.get(rl)>"u"&&(E=0)}if(typeof f=="function"?w=f(t,w):w instanceof Date?w=p(w):r==="comma"&&bt(w)&&(w=ql(w,function($){return $ instanceof Date?p($):$})),w===null){if(s)return c&&!m?c(t,we.encoder,y,"key",d):t;w=""}if(kx(w)||Ox(w)){if(c){const $=m?t:c(t,we.encoder,y,"key",d);return[g($)+"="+g(c(w,we.encoder,y,"value",d))]}return[g(t)+"="+g(String(w))]}const A=[];if(typeof w>"u")return A;let C;if(r==="comma"&&bt(w))m&&c&&(w=ql(w,c)),C=[{value:w.length>0?w.join(",")||null:void 0}];else if(bt(f))C=f;else{const $=Object.keys(w);C=u?$.sort(u):$}const D=a?t.replace(/\./g,"%2E"):t,P=i&&bt(w)&&w.length===1?D+"[]":D;if(o&&bt(w)&&w.length===0)return P+"[]";for(let $=0;$<C.length;++$){const M=C[$],V=typeof M=="object"&&typeof M.value<"u"?M.value:w[M];if(l&&V===null)continue;const B=h&&a?M.replace(/\./g,"%2E"):M,W=bt(w)?typeof r=="function"?r(P,B):P:P+(h?"."+B:"["+B+"]");b.set(e,E);const z=new WeakMap;z.set(rl,b),Nh(A,Mh(V,W,r,i,o,s,l,a,r==="comma"&&m&&bt(w)?null:c,f,u,h,p,d,g,m,y,z))}return A},Tx=function(e){if(!e)return we;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||we.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let r=Th;if(typeof e.format<"u"){if(!Ex.call(Ul,e.format))throw new TypeError("Unknown format option provided.");r=e.format}const i=Ul[r];let o=we.filter;(typeof e.filter=="function"||bt(e.filter))&&(o=e.filter);let s;if(e.arrayFormat in Rh?s=e.arrayFormat:"indices"in e?s=e.indices?"indices":"repeat":s=we.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const l=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:we.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:we.addQueryPrefix,allowDots:l,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:we.allowEmptyArrays,arrayFormat:s,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:we.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?we.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:we.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:we.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:we.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:we.encodeValuesOnly,filter:o,format:r,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:we.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:we.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:we.strictNullHandling}};function Rx(n,e){let t=n;const r=Tx(e);let i,o;typeof r.filter=="function"?(o=r.filter,t=o("",t)):bt(r.filter)&&(o=r.filter,i=o);const s=[];if(typeof t!="object"||t===null)return"";const l=Rh[r.arrayFormat],a=l==="comma"&&r.commaRoundTrip;i||(i=Object.keys(t)),r.sort&&i.sort(r.sort);const c=new WeakMap;for(let h=0;h<i.length;++h){const p=i[h];r.skipNulls&&t[p]===null||Nh(s,Mh(t[p],p,l,a,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}const f=s.join(r.delimiter);let u=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?u+="utf8=%26%2310003%3B&":u+="utf8=%E2%9C%93&"),f.length>0?u+f:""}const Hl=Object.prototype.hasOwnProperty,Nx=Array.isArray,Ri={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:wx,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Mx=function(n){return n.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},Dh=function(n,e){return n&&typeof n=="string"&&e.comma&&n.indexOf(",")>-1?n.split(","):n},Dx="utf8=%26%2310003%3B",Px="utf8=%E2%9C%93",Ix=function(e,t){const r={__proto__:null},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,s=i.split(t.delimiter,o);let l=-1,a,c=t.charset;if(t.charsetSentinel)for(a=0;a<s.length;++a)s[a].indexOf("utf8=")===0&&(s[a]===Px?c="utf-8":s[a]===Dx&&(c="iso-8859-1"),l=a,a=s.length);for(a=0;a<s.length;++a){if(a===l)continue;const f=s[a],u=f.indexOf("]="),h=u===-1?f.indexOf("="):u+1;let p,d;h===-1?(p=t.decoder(f,Ri.decoder,c,"key"),d=t.strictNullHandling?null:""):(p=t.decoder(f.slice(0,h),Ri.decoder,c,"key"),d=ql(Dh(f.slice(h+1),t),function(m){return t.decoder(m,Ri.decoder,c,"value")})),d&&t.interpretNumericEntities&&c==="iso-8859-1"&&(d=Mx(d)),f.indexOf("[]=")>-1&&(d=Nx(d)?[d]:d);const g=Hl.call(r,p);g&&t.duplicates==="combine"?r[p]=vx(r[p],d):(!g||t.duplicates==="last")&&(r[p]=d)}return r},Lx=function(n,e,t,r){let i=r?e:Dh(e,t);for(let o=n.length-1;o>=0;--o){let s;const l=n[o];if(l==="[]"&&t.parseArrays)s=t.allowEmptyArrays&&i===""?[]:[].concat(i);else{s=t.plainObjects?Object.create(null):{};const a=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,c=t.decodeDotInKeys?a.replace(/%2E/g,"."):a,f=parseInt(c,10);!t.parseArrays&&c===""?s={0:i}:!isNaN(f)&&l!==c&&String(f)===c&&f>=0&&t.parseArrays&&f<=t.arrayLimit?(s=[],s[f]=i):c!=="__proto__"&&(s[c]=i)}i=s}return i},Fx=function(e,t,r,i){if(!e)return;const o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g;let a=r.depth>0&&s.exec(o);const c=a?o.slice(0,a.index):o,f=[];if(c){if(!r.plainObjects&&Hl.call(Object.prototype,c)&&!r.allowPrototypes)return;f.push(c)}let u=0;for(;r.depth>0&&(a=l.exec(o))!==null&&u<r.depth;){if(u+=1,!r.plainObjects&&Hl.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;f.push(a[1])}return a&&f.push("["+o.slice(a.index)+"]"),Lx(f,t,r,i)},$x=function(e){return Ri};function Bx(n,e){const t=$x();if(n===""||n===null||typeof n>"u")return t.plainObjects?Object.create(null):{};const r=typeof n=="string"?Ix(n,t):n;let i=t.plainObjects?Object.create(null):{};const o=Object.keys(r);for(let s=0;s<o.length;++s){const l=o[s],a=Fx(l,r[l],t,typeof n=="string");i=bx(i,a,t)}return t.allowSparse===!0?i:Sx(i)}function He(){return He=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},He.apply(null,arguments)}class il{constructor(e,t,r){var i,o;this.name=e,this.definition=t,this.bindings=(i=t.bindings)!=null?i:{},this.wheres=(o=t.wheres)!=null?o:{},this.config=r}get template(){const e=`${this.origin}/${this.definition.uri}`.replace(/\/+$/,"");return e===""?"/":e}get origin(){return this.config.absolute?this.definition.domain?`${this.config.url.match(/^\w+:\/\//)[0]}${this.definition.domain}${this.config.port?`:${this.config.port}`:""}`:this.config.url:""}get parameterSegments(){var e,t;return(e=(t=this.template.match(/{[^}?]+\??}/g))==null?void 0:t.map(r=>({name:r.replace(/{|\??}/g,""),required:!/\?}$/.test(r)})))!=null?e:[]}matchesUrl(e){var t;if(!this.definition.methods.includes("GET"))return!1;const r=this.template.replace(/[.*+$()[\]]/g,"\\$&").replace(/(\/?){([^}?]*)(\??)}/g,(l,a,c,f)=>{var u;const h=`(?<${c}>${((u=this.wheres[c])==null?void 0:u.replace(/(^\^)|(\$$)/g,""))||"[^/?]+"})`;return f?`(${a}${h})?`:`${a}${h}`}).replace(/^\w+:\/\//,""),[i,o]=e.replace(/^\w+:\/\//,"").split("?"),s=(t=new RegExp(`^${r}/?$`).exec(i))!=null?t:new RegExp(`^${r}/?$`).exec(decodeURI(i));if(s){for(const l in s.groups)s.groups[l]=typeof s.groups[l]=="string"?decodeURIComponent(s.groups[l]):s.groups[l];return{params:s.groups,query:Bx(o)}}return!1}compile(e){return this.parameterSegments.length?this.template.replace(/{([^}?]+)(\??)}/g,(t,r,i)=>{var o,s;if(!i&&[null,void 0].includes(e[r]))throw new Error(`Ziggy error: '${r}' parameter is required for route '${this.name}'.`);if(this.wheres[r]&&!new RegExp(`^${i?`(${this.wheres[r]})?`:this.wheres[r]}$`).test((s=e[r])!=null?s:""))throw new Error(`Ziggy error: '${r}' parameter '${e[r]}' does not match required format '${this.wheres[r]}' for route '${this.name}'.`);return encodeURI((o=e[r])!=null?o:"").replace(/%7C/g,"|").replace(/%25/g,"%").replace(/\$/g,"%24")}).replace(this.config.absolute?/(\.[^/]+?)(\/\/)/:/(^)(\/\/)/,"$1/").replace(/\/+$/,""):this.template}}let zx=class extends String{constructor(e,t,r=!0,i){if(super(),this.t=i??(typeof Ziggy<"u"?Ziggy:globalThis?.Ziggy),!this.t&&typeof document<"u"&&document.getElementById("ziggy-routes-json")&&(globalThis.Ziggy=JSON.parse(document.getElementById("ziggy-routes-json").textContent),this.t=globalThis.Ziggy),this.t=He({},this.t,{absolute:r}),e){if(!this.t.routes[e])throw new Error(`Ziggy error: route '${e}' is not in the route list.`);this.i=new il(e,this.t.routes[e],this.t),this.o=this.u(t)}}toString(){const e=Object.keys(this.o).filter(t=>!this.i.parameterSegments.some(({name:r})=>r===t)).filter(t=>t!=="_query").reduce((t,r)=>He({},t,{[r]:this.o[r]}),{});return this.i.compile(this.o)+Rx(He({},e,this.o._query),{addQueryPrefix:!0,arrayFormat:"indices",encodeValuesOnly:!0,skipNulls:!0,encoder:(t,r)=>typeof t=="boolean"?Number(t):r(t)})}h(e){e?this.t.absolute&&e.startsWith("/")&&(e=this.l().host+e):e=this.m();let t={};const[r,i]=Object.entries(this.t.routes).find(([o,s])=>t=new il(o,s,this.t).matchesUrl(e))||[void 0,void 0];return He({name:r},t,{route:i})}m(){const{host:e,pathname:t,search:r}=this.l();return(this.t.absolute?e+t:t.replace(this.t.url.replace(/^\w*:\/\/[^/]+/,""),"").replace(/^\/+/,"/"))+r}current(e,t){const{name:r,params:i,query:o,route:s}=this.h();if(!e)return r;const l=new RegExp(`^${e.replace(/\./g,"\\.").replace(/\*/g,".*")}$`).test(r);if([null,void 0].includes(t)||!l)return l;const a=new il(r,s,this.t);t=this.u(t,a);const c=He({},i,o);if(Object.values(t).every(u=>!u)&&!Object.values(c).some(u=>u!==void 0))return!0;const f=(u,h)=>Object.entries(u).every(([p,d])=>Array.isArray(d)&&Array.isArray(h[p])?d.every(g=>h[p].includes(g)||h[p].includes(decodeURIComponent(g))):typeof d=="object"&&typeof h[p]=="object"&&d!==null&&h[p]!==null?f(d,h[p]):h[p]==d||h[p]==decodeURIComponent(d));return f(t,c)}l(){var e,t,r,i,o,s;const{host:l="",pathname:a="",search:c=""}=typeof window<"u"?window.location:{};return{host:(e=(t=this.t.location)==null?void 0:t.host)!=null?e:l,pathname:(r=(i=this.t.location)==null?void 0:i.pathname)!=null?r:a,search:(o=(s=this.t.location)==null?void 0:s.search)!=null?o:c}}get params(){const{params:e,query:t}=this.h();return He({},e,t)}get routeParams(){return this.h().params}get queryParams(){return this.h().query}has(e){return this.t.routes.hasOwnProperty(e)}u(e={},t=this.i){e!=null||(e={}),e=["string","number"].includes(typeof e)?[e]:e;const r=t.parameterSegments.filter(({name:i})=>!this.t.defaults[i]);return Array.isArray(e)?e=e.reduce((i,o,s)=>He({},i,r[s]?{[r[s].name]:o}:typeof o=="object"?o:{[o]:""}),{}):r.length!==1||e[r[0].name]||!e.hasOwnProperty(Object.values(t.bindings)[0])&&!e.hasOwnProperty("id")||(e={[r[0].name]:e}),He({},this.p(t),this.$(e,t))}p(e){return e.parameterSegments.filter(({name:t})=>this.t.defaults[t]).reduce((t,{name:r},i)=>He({},t,{[r]:this.t.defaults[r]}),{})}$(e,{bindings:t,parameterSegments:r}){return Object.entries(e).reduce((i,[o,s])=>{if(!s||typeof s!="object"||Array.isArray(s)||!r.some(({name:l})=>l===o))return He({},i,{[o]:s});if(!s.hasOwnProperty(t[o])){if(!s.hasOwnProperty("id"))throw new Error(`Ziggy error: object passed as '${o}' parameter is missing route model binding key '${t[o]}'.`);t[o]="id"}return He({},i,{[o]:s[t[o]]})},{})}valueOf(){return this.toString()}};function _x(n,e,t,r){const i=new zx(n,e,t,r);return n?i.toString():i}const vC={install(n,e){const t=(r,i,o,s=e)=>_x(r,i,o,s);parseInt(n.version)>2?(n.config.globalProperties.route=t,n.provide("route",t)):n.mixin({methods:{route:t}})}};function Ph(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=Ph(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function jx(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=Ph(n))&&(r&&(r+=" "),r+=e);return r}const su=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,lu=jx,EC=(n,e)=>t=>{var r;if(e?.variants==null)return lu(n,t?.class,t?.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(c=>{const f=t?.[c],u=o?.[c];if(f===null)return null;const h=su(f)||su(u);return i[c][h]}),l=t&&Object.entries(t).reduce((c,f)=>{let[u,h]=f;return h===void 0||(c[u]=h),c},{}),a=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,f)=>{let{class:u,className:h,...p}=f;return Object.entries(p).every(d=>{let[g,m]=d;return Array.isArray(m)?m.includes({...o,...l}[g]):{...o,...l}[g]===m})?[...c,u,h]:c},[]);return lu(n,s,a,t?.class,t?.className)},$a="-",Vx=n=>{const e=qx(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:s=>{const l=s.split($a);return l[0]===""&&l.length!==1&&l.shift(),Ih(l,e)||Ux(s)},getConflictingClassGroupIds:(s,l)=>{const a=t[s]||[];return l&&r[s]?[...a,...r[s]]:a}}},Ih=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?Ih(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=n.join($a);return e.validators.find(({validator:s})=>s(o))?.classGroupId},au=/^\[(.+)\]$/,Ux=n=>{if(au.test(n)){const e=au.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},qx=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const i in t)Wl(t[i],r,i,e);return r},Wl=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const o=i===""?e:cu(e,i);o.classGroupId=t;return}if(typeof i=="function"){if(Hx(i)){Wl(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([o,s])=>{Wl(s,cu(e,o),t,r)})})},cu=(n,e)=>{let t=n;return e.split($a).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},Hx=n=>n.isThemeGetter,Wx=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(o,s)=>{t.set(o,s),e++,e>n&&(e=0,r=t,t=new Map)};return{get(o){let s=t.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){t.has(o)?t.set(o,s):i(o,s)}}},Kl="!",Jl=":",Kx=Jl.length,Jx=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=i=>{const o=[];let s=0,l=0,a=0,c;for(let d=0;d<i.length;d++){let g=i[d];if(s===0&&l===0){if(g===Jl){o.push(i.slice(a,d)),a=d+Kx;continue}if(g==="/"){c=d;continue}}g==="["?s++:g==="]"?s--:g==="("?l++:g===")"&&l--}const f=o.length===0?i:i.substring(a),u=Gx(f),h=u!==f,p=c&&c>a?c-a:void 0;return{modifiers:o,hasImportantModifier:h,baseClassName:u,maybePostfixModifierPosition:p}};if(e){const i=e+Jl,o=r;r=s=>s.startsWith(i)?o(s.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(t){const i=r;r=o=>t({className:o,parseClassName:i})}return r},Gx=n=>n.endsWith(Kl)?n.substring(0,n.length-1):n.startsWith(Kl)?n.substring(1):n,Qx=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let o=[];return r.forEach(s=>{s[0]==="["||e[s]?(i.push(...o.sort(),s),o=[]):o.push(s)}),i.push(...o.sort()),i}},Xx=n=>({cache:Wx(n.cacheSize),parseClassName:Jx(n),sortModifiers:Qx(n),...Vx(n)}),Yx=/\s+/,Zx=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=e,s=[],l=n.trim().split(Yx);let a="";for(let c=l.length-1;c>=0;c-=1){const f=l[c],{isExternal:u,modifiers:h,hasImportantModifier:p,baseClassName:d,maybePostfixModifierPosition:g}=t(f);if(u){a=f+(a.length>0?" "+a:a);continue}let m=!!g,y=r(m?d.substring(0,g):d);if(!y){if(!m){a=f+(a.length>0?" "+a:a);continue}if(y=r(d),!y){a=f+(a.length>0?" "+a:a);continue}m=!1}const b=o(h).join(":"),w=p?b+Kl:b,S=w+y;if(s.includes(S))continue;s.push(S);const E=i(y,m);for(let T=0;T<E.length;++T){const A=E[T];s.push(w+A)}a=f+(a.length>0?" "+a:a)}return a};function eS(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Lh(e))&&(r&&(r+=" "),r+=t);return r}const Lh=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=Lh(n[r]))&&(t&&(t+=" "),t+=e);return t};function tS(n,...e){let t,r,i,o=s;function s(a){const c=e.reduce((f,u)=>u(f),n());return t=Xx(c),r=t.cache.get,i=t.cache.set,o=l,l(a)}function l(a){const c=r(a);if(c)return c;const f=Zx(a,t);return i(a,f),f}return function(){return o(eS.apply(null,arguments))}}const be=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},Fh=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,$h=/^\((?:(\w[\w-]*):)?(.+)\)$/i,nS=/^\d+\/\d+$/,rS=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iS=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oS=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,sS=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lS=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,jn=n=>nS.test(n),H=n=>!!n&&!Number.isNaN(Number(n)),Ht=n=>!!n&&Number.isInteger(Number(n)),ol=n=>n.endsWith("%")&&H(n.slice(0,-1)),Tt=n=>rS.test(n),aS=()=>!0,cS=n=>iS.test(n)&&!oS.test(n),Bh=()=>!1,fS=n=>sS.test(n),uS=n=>lS.test(n),dS=n=>!L(n)&&!F(n),hS=n=>cr(n,jh,Bh),L=n=>Fh.test(n),dn=n=>cr(n,Vh,cS),sl=n=>cr(n,bS,H),fu=n=>cr(n,zh,Bh),pS=n=>cr(n,_h,uS),hi=n=>cr(n,Uh,fS),F=n=>$h.test(n),br=n=>fr(n,Vh),mS=n=>fr(n,wS),uu=n=>fr(n,zh),gS=n=>fr(n,jh),yS=n=>fr(n,_h),pi=n=>fr(n,Uh,!0),cr=(n,e,t)=>{const r=Fh.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},fr=(n,e,t=!1)=>{const r=$h.exec(n);return r?r[1]?e(r[1]):t:!1},zh=n=>n==="position"||n==="percentage",_h=n=>n==="image"||n==="url",jh=n=>n==="length"||n==="size"||n==="bg-size",Vh=n=>n==="length",bS=n=>n==="number",wS=n=>n==="family-name",Uh=n=>n==="shadow",xS=()=>{const n=be("color"),e=be("font"),t=be("text"),r=be("font-weight"),i=be("tracking"),o=be("leading"),s=be("breakpoint"),l=be("container"),a=be("spacing"),c=be("radius"),f=be("shadow"),u=be("inset-shadow"),h=be("text-shadow"),p=be("drop-shadow"),d=be("blur"),g=be("perspective"),m=be("aspect"),y=be("ease"),b=be("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],E=()=>[...S(),F,L],T=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],C=()=>[F,L,a],D=()=>[jn,"full","auto",...C()],P=()=>[Ht,"none","subgrid",F,L],$=()=>["auto",{span:["full",Ht,F,L]},Ht,F,L],M=()=>[Ht,"auto",F,L],V=()=>["auto","min","max","fr",F,L],B=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],W=()=>["start","end","center","stretch","center-safe","end-safe"],z=()=>["auto",...C()],K=()=>[jn,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],k=()=>[n,F,L],ee=()=>[...S(),uu,fu,{position:[F,L]}],Ne=()=>["no-repeat",{repeat:["","x","y","space","round"]}],me=()=>["auto","cover","contain",gS,hS,{size:[F,L]}],ge=()=>[ol,br,dn],te=()=>["","none","full",c,F,L],ne=()=>["",H,br,dn],ve=()=>["solid","dashed","dotted","double"],Fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>[H,ol,uu,fu],ot=()=>["","none",d,F,L],fe=()=>["none",H,F,L],J=()=>["none",H,F,L],se=()=>[H,F,L],Q=()=>[jn,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Tt],breakpoint:[Tt],color:[aS],container:[Tt],"drop-shadow":[Tt],ease:["in","out","in-out"],font:[dS],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Tt],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Tt],shadow:[Tt],spacing:["px",H],text:[Tt],"text-shadow":[Tt],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",jn,L,F,m]}],container:["container"],columns:[{columns:[H,L,F,l]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:E()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[Ht,"auto",F,L]}],basis:[{basis:[jn,"full","auto",l,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[H,jn,"auto","initial","none",L]}],grow:[{grow:["",H,F,L]}],shrink:[{shrink:["",H,F,L]}],order:[{order:[Ht,"first","last","none",F,L]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:$()}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:$()}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...B(),"normal"]}],"justify-items":[{"justify-items":[...W(),"normal"]}],"justify-self":[{"justify-self":["auto",...W()]}],"align-content":[{content:["normal",...B()]}],"align-items":[{items:[...W(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...W(),{baseline:["","last"]}]}],"place-content":[{"place-content":B()}],"place-items":[{"place-items":[...W(),"baseline"]}],"place-self":[{"place-self":["auto",...W()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:K()}],w:[{w:[l,"screen",...K()]}],"min-w":[{"min-w":[l,"screen","none",...K()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[s]},...K()]}],h:[{h:["screen","lh",...K()]}],"min-h":[{"min-h":["screen","lh","none",...K()]}],"max-h":[{"max-h":["screen","lh",...K()]}],"font-size":[{text:["base",t,br,dn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,F,sl]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ol,L]}],"font-family":[{font:[mS,L,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,F,L]}],"line-clamp":[{"line-clamp":[H,"none",F,sl]}],leading:[{leading:[o,...C()]}],"list-image":[{"list-image":["none",F,L]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",F,L]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:k()}],"text-color":[{text:k()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ve(),"wavy"]}],"text-decoration-thickness":[{decoration:[H,"from-font","auto",F,dn]}],"text-decoration-color":[{decoration:k()}],"underline-offset":[{"underline-offset":[H,"auto",F,L]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",F,L]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",F,L]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ee()}],"bg-repeat":[{bg:Ne()}],"bg-size":[{bg:me()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ht,F,L],radial:["",F,L],conic:[Ht,F,L]},yS,pS]}],"bg-color":[{bg:k()}],"gradient-from-pos":[{from:ge()}],"gradient-via-pos":[{via:ge()}],"gradient-to-pos":[{to:ge()}],"gradient-from":[{from:k()}],"gradient-via":[{via:k()}],"gradient-to":[{to:k()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ve(),"hidden","none"]}],"divide-style":[{divide:[...ve(),"hidden","none"]}],"border-color":[{border:k()}],"border-color-x":[{"border-x":k()}],"border-color-y":[{"border-y":k()}],"border-color-s":[{"border-s":k()}],"border-color-e":[{"border-e":k()}],"border-color-t":[{"border-t":k()}],"border-color-r":[{"border-r":k()}],"border-color-b":[{"border-b":k()}],"border-color-l":[{"border-l":k()}],"divide-color":[{divide:k()}],"outline-style":[{outline:[...ve(),"none","hidden"]}],"outline-offset":[{"outline-offset":[H,F,L]}],"outline-w":[{outline:["",H,br,dn]}],"outline-color":[{outline:k()}],shadow:[{shadow:["","none",f,pi,hi]}],"shadow-color":[{shadow:k()}],"inset-shadow":[{"inset-shadow":["none",u,pi,hi]}],"inset-shadow-color":[{"inset-shadow":k()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:k()}],"ring-offset-w":[{"ring-offset":[H,dn]}],"ring-offset-color":[{"ring-offset":k()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":k()}],"text-shadow":[{"text-shadow":["none",h,pi,hi]}],"text-shadow-color":[{"text-shadow":k()}],opacity:[{opacity:[H,F,L]}],"mix-blend":[{"mix-blend":[...Fe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Fe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[H]}],"mask-image-linear-from-pos":[{"mask-linear-from":re()}],"mask-image-linear-to-pos":[{"mask-linear-to":re()}],"mask-image-linear-from-color":[{"mask-linear-from":k()}],"mask-image-linear-to-color":[{"mask-linear-to":k()}],"mask-image-t-from-pos":[{"mask-t-from":re()}],"mask-image-t-to-pos":[{"mask-t-to":re()}],"mask-image-t-from-color":[{"mask-t-from":k()}],"mask-image-t-to-color":[{"mask-t-to":k()}],"mask-image-r-from-pos":[{"mask-r-from":re()}],"mask-image-r-to-pos":[{"mask-r-to":re()}],"mask-image-r-from-color":[{"mask-r-from":k()}],"mask-image-r-to-color":[{"mask-r-to":k()}],"mask-image-b-from-pos":[{"mask-b-from":re()}],"mask-image-b-to-pos":[{"mask-b-to":re()}],"mask-image-b-from-color":[{"mask-b-from":k()}],"mask-image-b-to-color":[{"mask-b-to":k()}],"mask-image-l-from-pos":[{"mask-l-from":re()}],"mask-image-l-to-pos":[{"mask-l-to":re()}],"mask-image-l-from-color":[{"mask-l-from":k()}],"mask-image-l-to-color":[{"mask-l-to":k()}],"mask-image-x-from-pos":[{"mask-x-from":re()}],"mask-image-x-to-pos":[{"mask-x-to":re()}],"mask-image-x-from-color":[{"mask-x-from":k()}],"mask-image-x-to-color":[{"mask-x-to":k()}],"mask-image-y-from-pos":[{"mask-y-from":re()}],"mask-image-y-to-pos":[{"mask-y-to":re()}],"mask-image-y-from-color":[{"mask-y-from":k()}],"mask-image-y-to-color":[{"mask-y-to":k()}],"mask-image-radial":[{"mask-radial":[F,L]}],"mask-image-radial-from-pos":[{"mask-radial-from":re()}],"mask-image-radial-to-pos":[{"mask-radial-to":re()}],"mask-image-radial-from-color":[{"mask-radial-from":k()}],"mask-image-radial-to-color":[{"mask-radial-to":k()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":S()}],"mask-image-conic-pos":[{"mask-conic":[H]}],"mask-image-conic-from-pos":[{"mask-conic-from":re()}],"mask-image-conic-to-pos":[{"mask-conic-to":re()}],"mask-image-conic-from-color":[{"mask-conic-from":k()}],"mask-image-conic-to-color":[{"mask-conic-to":k()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ee()}],"mask-repeat":[{mask:Ne()}],"mask-size":[{mask:me()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",F,L]}],filter:[{filter:["","none",F,L]}],blur:[{blur:ot()}],brightness:[{brightness:[H,F,L]}],contrast:[{contrast:[H,F,L]}],"drop-shadow":[{"drop-shadow":["","none",p,pi,hi]}],"drop-shadow-color":[{"drop-shadow":k()}],grayscale:[{grayscale:["",H,F,L]}],"hue-rotate":[{"hue-rotate":[H,F,L]}],invert:[{invert:["",H,F,L]}],saturate:[{saturate:[H,F,L]}],sepia:[{sepia:["",H,F,L]}],"backdrop-filter":[{"backdrop-filter":["","none",F,L]}],"backdrop-blur":[{"backdrop-blur":ot()}],"backdrop-brightness":[{"backdrop-brightness":[H,F,L]}],"backdrop-contrast":[{"backdrop-contrast":[H,F,L]}],"backdrop-grayscale":[{"backdrop-grayscale":["",H,F,L]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[H,F,L]}],"backdrop-invert":[{"backdrop-invert":["",H,F,L]}],"backdrop-opacity":[{"backdrop-opacity":[H,F,L]}],"backdrop-saturate":[{"backdrop-saturate":[H,F,L]}],"backdrop-sepia":[{"backdrop-sepia":["",H,F,L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",F,L]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[H,"initial",F,L]}],ease:[{ease:["linear","initial",y,F,L]}],delay:[{delay:[H,F,L]}],animate:[{animate:["none",b,F,L]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,F,L]}],"perspective-origin":[{"perspective-origin":E()}],rotate:[{rotate:fe()}],"rotate-x":[{"rotate-x":fe()}],"rotate-y":[{"rotate-y":fe()}],"rotate-z":[{"rotate-z":fe()}],scale:[{scale:J()}],"scale-x":[{"scale-x":J()}],"scale-y":[{"scale-y":J()}],"scale-z":[{"scale-z":J()}],"scale-3d":["scale-3d"],skew:[{skew:se()}],"skew-x":[{"skew-x":se()}],"skew-y":[{"skew-y":se()}],transform:[{transform:[F,L,"","none","gpu","cpu"]}],"transform-origin":[{origin:E()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Q()}],"translate-x":[{"translate-x":Q()}],"translate-y":[{"translate-y":Q()}],"translate-z":[{"translate-z":Q()}],"translate-none":["translate-none"],accent:[{accent:k()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:k()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",F,L]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",F,L]}],fill:[{fill:["none",...k()]}],"stroke-w":[{stroke:[H,br,dn,sl]}],stroke:[{stroke:["none",...k()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},AC=tS(xS);function du(n){return typeof n=="string"?`'${n}'`:new SS().serialize(n)}const SS=(function(){class n{#e=new Map;compare(t,r){const i=typeof t,o=typeof r;return i==="string"&&o==="string"?t.localeCompare(r):i==="number"&&o==="number"?t-r:String.prototype.localeCompare.call(this.serialize(t,!0),this.serialize(r,!0))}serialize(t,r){if(t===null)return"null";switch(typeof t){case"string":return r?t:`'${t}'`;case"bigint":return`${t}n`;case"object":return this.$object(t);case"function":return this.$function(t)}return String(t)}serializeObject(t){const r=Object.prototype.toString.call(t);if(r!=="[object Object]")return this.serializeBuiltInType(r.length<10?`unknown:${r}`:r.slice(8,-1),t);const i=t.constructor,o=i===Object||i===void 0?"":i.name;if(o!==""&&globalThis[o]===i)return this.serializeBuiltInType(o,t);if(typeof t.toJSON=="function"){const s=t.toJSON();return o+(s!==null&&typeof s=="object"?this.$object(s):`(${this.serialize(s)})`)}return this.serializeObjectEntries(o,Object.entries(t))}serializeBuiltInType(t,r){const i=this["$"+t];if(i)return i.call(this,r);if(typeof r?.entries=="function")return this.serializeObjectEntries(t,r.entries());throw new Error(`Cannot serialize ${t}`)}serializeObjectEntries(t,r){const i=Array.from(r).sort((s,l)=>this.compare(s[0],l[0]));let o=`${t}{`;for(let s=0;s<i.length;s++){const[l,a]=i[s];o+=`${this.serialize(l,!0)}:${this.serialize(a)}`,s<i.length-1&&(o+=",")}return o+"}"}$object(t){let r=this.#e.get(t);return r===void 0&&(this.#e.set(t,`#${this.#e.size}`),r=this.serializeObject(t),this.#e.set(t,r)),r}$function(t){const r=Function.prototype.toString.call(t);return r.slice(-15)==="[native code] }"?`${t.name||""}()[native]`:`${t.name}(${t.length})${r.replace(/\s*\n\s*/g,"")}`}$Array(t){let r="[";for(let i=0;i<t.length;i++)r+=this.serialize(t[i]),i<t.length-1&&(r+=",");return r+"]"}$Date(t){try{return`Date(${t.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(t){return`ArrayBuffer[${new Uint8Array(t).join(",")}]`}$Set(t){return`Set${this.$Array(Array.from(t).sort((r,i)=>this.compare(r,i)))}`}$Map(t){return this.serializeObjectEntries("Map",t.entries())}}for(const e of["Error","RegExp","URL"])n.prototype["$"+e]=function(t){return`${e}(${t})`};for(const e of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])n.prototype["$"+e]=function(t){return`${e}[${t.join(",")}]`};for(const e of["BigInt64Array","BigUint64Array"])n.prototype["$"+e]=function(t){return`${e}[${t.join("n,")}${t.length>0?"n":""}]`};return n})();function CC(n,e){return n===e||du(n)===du(e)}function ll(n){if(n===null||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in n?!1:Symbol.toStringTag in n?Object.prototype.toString.call(n)==="[object Module]":!0}function Gl(n,e,t=".",r){if(!ll(e))return Gl(n,{},t,r);const i=Object.assign({},e);for(const o in n){if(o==="__proto__"||o==="constructor")continue;const s=n[o];s!=null&&(r&&r(i,o,s,t)||(Array.isArray(s)&&Array.isArray(i[o])?i[o]=[...s,...i[o]]:ll(s)&&ll(i[o])?i[o]=Gl(s,i[o],(t?`${t}.`:"")+o.toString(),r):i[o]=s))}return i}function OS(n){return(...e)=>e.reduce((t,r)=>Gl(t,r,"",n),{})}const kC=OS();var vS=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Vn=new WeakMap,mi=new WeakMap,gi={},al=0,qh=function(n){return n&&(n.host||qh(n.parentNode))},ES=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=qh(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},AS=function(n,e,t,r){var i=ES(e,Array.isArray(n)?n:[n]);gi[t]||(gi[t]=new WeakMap);var o=gi[t],s=[],l=new Set,a=new Set(i),c=function(u){!u||l.has(u)||(l.add(u),c(u.parentNode))};i.forEach(c);var f=function(u){!u||a.has(u)||Array.prototype.forEach.call(u.children,function(h){if(l.has(h))f(h);else try{var p=h.getAttribute(r),d=p!==null&&p!=="false",g=(Vn.get(h)||0)+1,m=(o.get(h)||0)+1;Vn.set(h,g),o.set(h,m),s.push(h),g===1&&d&&mi.set(h,!0),m===1&&h.setAttribute(t,"true"),d||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return f(e),l.clear(),al++,function(){s.forEach(function(u){var h=Vn.get(u)-1,p=o.get(u)-1;Vn.set(u,h),o.set(u,p),h||(mi.has(u)||u.removeAttribute(r),mi.delete(u)),p||u.removeAttribute(t)}),al--,al||(Vn=new WeakMap,Vn=new WeakMap,mi=new WeakMap,gi={})}},TC=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=vS(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),AS(r,i,t,"aria-hidden")):function(){return null}};const CS=["top","right","bottom","left"],ln=Math.min,We=Math.max,Bi=Math.round,yi=Math.floor,St=n=>({x:n,y:n}),kS={left:"right",right:"left",bottom:"top",top:"bottom"},TS={start:"end",end:"start"};function Ql(n,e,t){return We(n,ln(e,t))}function Bt(n,e){return typeof n=="function"?n(e):n}function zt(n){return n.split("-")[0]}function ur(n){return n.split("-")[1]}function Ba(n){return n==="x"?"y":"x"}function za(n){return n==="y"?"height":"width"}const RS=new Set(["top","bottom"]);function wt(n){return RS.has(zt(n))?"y":"x"}function _a(n){return Ba(wt(n))}function NS(n,e,t){t===void 0&&(t=!1);const r=ur(n),i=_a(n),o=za(i);let s=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=zi(s)),[s,zi(s)]}function MS(n){const e=zi(n);return[Xl(n),e,Xl(e)]}function Xl(n){return n.replace(/start|end/g,e=>TS[e])}const hu=["left","right"],pu=["right","left"],DS=["top","bottom"],PS=["bottom","top"];function IS(n,e,t){switch(n){case"top":case"bottom":return t?e?pu:hu:e?hu:pu;case"left":case"right":return e?DS:PS;default:return[]}}function LS(n,e,t,r){const i=ur(n);let o=IS(zt(n),t==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(Xl)))),o}function zi(n){return n.replace(/left|right|bottom|top/g,e=>kS[e])}function FS(n){return{top:0,right:0,bottom:0,left:0,...n}}function Hh(n){return typeof n!="number"?FS(n):{top:n,right:n,bottom:n,left:n}}function _i(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function mu(n,e,t){let{reference:r,floating:i}=n;const o=wt(e),s=_a(e),l=za(s),a=zt(e),c=o==="y",f=r.x+r.width/2-i.width/2,u=r.y+r.height/2-i.height/2,h=r[l]/2-i[l]/2;let p;switch(a){case"top":p={x:f,y:r.y-i.height};break;case"bottom":p={x:f,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:u};break;case"left":p={x:r.x-i.width,y:u};break;default:p={x:r.x,y:r.y}}switch(ur(e)){case"start":p[s]-=h*(t&&c?-1:1);break;case"end":p[s]+=h*(t&&c?-1:1);break}return p}const $S=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=t,l=o.filter(Boolean),a=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:n,floating:e,strategy:i}),{x:f,y:u}=mu(c,r,a),h=r,p={},d=0;for(let g=0;g<l.length;g++){const{name:m,fn:y}=l[g],{x:b,y:w,data:S,reset:E}=await y({x:f,y:u,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:n,floating:e}});f=b??f,u=w??u,p={...p,[m]:{...p[m],...S}},E&&d<=50&&(d++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(c=E.rects===!0?await s.getElementRects({reference:n,floating:e,strategy:i}):E.rects),{x:f,y:u}=mu(c,h,a)),g=-1)}return{x:f,y:u,placement:h,strategy:i,middlewareData:p}};async function _r(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:l,strategy:a}=n,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:u="floating",altBoundary:h=!1,padding:p=0}=Bt(e,n),d=Hh(p),m=l[h?u==="floating"?"reference":"floating":u],y=_i(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(m)))==null||t?m:m.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:c,rootBoundary:f,strategy:a})),b=u==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),S=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},E=_i(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:a}):b);return{top:(y.top-E.top+d.top)/S.y,bottom:(E.bottom-y.bottom+d.bottom)/S.y,left:(y.left-E.left+d.left)/S.x,right:(E.right-y.right+d.right)/S.x}}const BS=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:o,platform:s,elements:l,middlewareData:a}=e,{element:c,padding:f=0}=Bt(n,e)||{};if(c==null)return{};const u=Hh(f),h={x:t,y:r},p=_a(i),d=za(p),g=await s.getDimensions(c),m=p==="y",y=m?"top":"left",b=m?"bottom":"right",w=m?"clientHeight":"clientWidth",S=o.reference[d]+o.reference[p]-h[p]-o.floating[d],E=h[p]-o.reference[p],T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let A=T?T[w]:0;(!A||!await(s.isElement==null?void 0:s.isElement(T)))&&(A=l.floating[w]||o.floating[d]);const C=S/2-E/2,D=A/2-g[d]/2-1,P=ln(u[y],D),$=ln(u[b],D),M=P,V=A-g[d]-$,B=A/2-g[d]/2+C,W=Ql(M,B,V),z=!a.arrow&&ur(i)!=null&&B!==W&&o.reference[d]/2-(B<M?P:$)-g[d]/2<0,K=z?B<M?B-M:B-V:0;return{[p]:h[p]+K,data:{[p]:W,centerOffset:B-W-K,...z&&{alignmentOffset:K}},reset:z}}}),zS=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:l,platform:a,elements:c}=e,{mainAxis:f=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:d="none",flipAlignment:g=!0,...m}=Bt(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const y=zt(i),b=wt(l),w=zt(l)===l,S=await(a.isRTL==null?void 0:a.isRTL(c.floating)),E=h||(w||!g?[zi(l)]:MS(l)),T=d!=="none";!h&&T&&E.push(...LS(l,g,d,S));const A=[l,...E],C=await _r(e,m),D=[];let P=((r=o.flip)==null?void 0:r.overflows)||[];if(f&&D.push(C[y]),u){const B=NS(i,s,S);D.push(C[B[0]],C[B[1]])}if(P=[...P,{placement:i,overflows:D}],!D.every(B=>B<=0)){var $,M;const B=((($=o.flip)==null?void 0:$.index)||0)+1,W=A[B];if(W&&(!(u==="alignment"?b!==wt(W):!1)||P.every(k=>wt(k.placement)===b?k.overflows[0]>0:!0)))return{data:{index:B,overflows:P},reset:{placement:W}};let z=(M=P.filter(K=>K.overflows[0]<=0).sort((K,k)=>K.overflows[1]-k.overflows[1])[0])==null?void 0:M.placement;if(!z)switch(p){case"bestFit":{var V;const K=(V=P.filter(k=>{if(T){const ee=wt(k.placement);return ee===b||ee==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(ee=>ee>0).reduce((ee,Ne)=>ee+Ne,0)]).sort((k,ee)=>k[1]-ee[1])[0])==null?void 0:V[0];K&&(z=K);break}case"initialPlacement":z=l;break}if(i!==z)return{reset:{placement:z}}}return{}}}};function gu(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function yu(n){return CS.some(e=>n[e]>=0)}const _S=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Bt(n,e);switch(r){case"referenceHidden":{const o=await _r(e,{...i,elementContext:"reference"}),s=gu(o,t.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:yu(s)}}}case"escaped":{const o=await _r(e,{...i,altBoundary:!0}),s=gu(o,t.floating);return{data:{escapedOffsets:s,escaped:yu(s)}}}default:return{}}}}},Wh=new Set(["left","top"]);async function jS(n,e){const{placement:t,platform:r,elements:i}=n,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=zt(t),l=ur(t),a=wt(t)==="y",c=Wh.has(s)?-1:1,f=o&&a?-1:1,u=Bt(e,n);let{mainAxis:h,crossAxis:p,alignmentAxis:d}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&typeof d=="number"&&(p=l==="end"?d*-1:d),a?{x:p*f,y:h*c}:{x:h*c,y:p*f}}const VS=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:o,placement:s,middlewareData:l}=e,a=await jS(e,n);return s===((t=l.offset)==null?void 0:t.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+a.x,y:o+a.y,data:{...a,placement:s}}}}},US=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:l={fn:m=>{let{x:y,y:b}=m;return{x:y,y:b}}},...a}=Bt(n,e),c={x:t,y:r},f=await _r(e,a),u=wt(zt(i)),h=Ba(u);let p=c[h],d=c[u];if(o){const m=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=p+f[m],w=p-f[y];p=Ql(b,p,w)}if(s){const m=u==="y"?"top":"left",y=u==="y"?"bottom":"right",b=d+f[m],w=d-f[y];d=Ql(b,d,w)}const g=l.fn({...e,[h]:p,[u]:d});return{...g,data:{x:g.x-t,y:g.y-r,enabled:{[h]:o,[u]:s}}}}}},qS=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:l=0,mainAxis:a=!0,crossAxis:c=!0}=Bt(n,e),f={x:t,y:r},u=wt(i),h=Ba(u);let p=f[h],d=f[u];const g=Bt(l,e),m=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(a){const w=h==="y"?"height":"width",S=o.reference[h]-o.floating[w]+m.mainAxis,E=o.reference[h]+o.reference[w]-m.mainAxis;p<S?p=S:p>E&&(p=E)}if(c){var y,b;const w=h==="y"?"width":"height",S=Wh.has(zt(i)),E=o.reference[u]-o.floating[w]+(S&&((y=s.offset)==null?void 0:y[u])||0)+(S?0:m.crossAxis),T=o.reference[u]+o.reference[w]+(S?0:((b=s.offset)==null?void 0:b[u])||0)-(S?m.crossAxis:0);d<E?d=E:d>T&&(d=T)}return{[h]:p,[u]:d}}}},HS=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:o,platform:s,elements:l}=e,{apply:a=()=>{},...c}=Bt(n,e),f=await _r(e,c),u=zt(i),h=ur(i),p=wt(i)==="y",{width:d,height:g}=o.floating;let m,y;u==="top"||u==="bottom"?(m=u,y=h===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(y=u,m=h==="end"?"top":"bottom");const b=g-f.top-f.bottom,w=d-f.left-f.right,S=ln(g-f[m],b),E=ln(d-f[y],w),T=!e.middlewareData.shift;let A=S,C=E;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(C=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=b),T&&!h){const P=We(f.left,0),$=We(f.right,0),M=We(f.top,0),V=We(f.bottom,0);p?C=d-2*(P!==0||$!==0?P+$:We(f.left,f.right)):A=g-2*(M!==0||V!==0?M+V:We(f.top,f.bottom))}await a({...e,availableWidth:C,availableHeight:A});const D=await s.getDimensions(l.floating);return d!==D.width||g!==D.height?{reset:{rects:!0}}:{}}}};function Fo(){return typeof window<"u"}function dr(n){return Kh(n)?(n.nodeName||"").toLowerCase():"#document"}function Je(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function kt(n){var e;return(e=(Kh(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function Kh(n){return Fo()?n instanceof Node||n instanceof Je(n).Node:!1}function ft(n){return Fo()?n instanceof Element||n instanceof Je(n).Element:!1}function vt(n){return Fo()?n instanceof HTMLElement||n instanceof Je(n).HTMLElement:!1}function bu(n){return!Fo()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Je(n).ShadowRoot}const WS=new Set(["inline","contents"]);function ni(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=ut(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!WS.has(i)}const KS=new Set(["table","td","th"]);function JS(n){return KS.has(dr(n))}const GS=[":popover-open",":modal"];function $o(n){return GS.some(e=>{try{return n.matches(e)}catch{return!1}})}const QS=["transform","translate","scale","rotate","perspective"],XS=["transform","translate","scale","rotate","perspective","filter"],YS=["paint","layout","strict","content"];function ja(n){const e=Va(),t=ft(n)?ut(n):n;return QS.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||XS.some(r=>(t.willChange||"").includes(r))||YS.some(r=>(t.contain||"").includes(r))}function ZS(n){let e=an(n);for(;vt(e)&&!er(e);){if(ja(e))return e;if($o(e))return null;e=an(e)}return null}function Va(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const eO=new Set(["html","body","#document"]);function er(n){return eO.has(dr(n))}function ut(n){return Je(n).getComputedStyle(n)}function Bo(n){return ft(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function an(n){if(dr(n)==="html")return n;const e=n.assignedSlot||n.parentNode||bu(n)&&n.host||kt(n);return bu(e)?e.host:e}function Jh(n){const e=an(n);return er(e)?n.ownerDocument?n.ownerDocument.body:n.body:vt(e)&&ni(e)?e:Jh(e)}function jr(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=Jh(n),o=i===((r=n.ownerDocument)==null?void 0:r.body),s=Je(i);if(o){const l=Yl(s);return e.concat(s,s.visualViewport||[],ni(i)?i:[],l&&t?jr(l):[])}return e.concat(i,jr(i,[],t))}function Yl(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function Gh(n){const e=ut(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=vt(n),o=i?n.offsetWidth:t,s=i?n.offsetHeight:r,l=Bi(t)!==o||Bi(r)!==s;return l&&(t=o,r=s),{width:t,height:r,$:l}}function Ua(n){return ft(n)?n:n.contextElement}function Jn(n){const e=Ua(n);if(!vt(e))return St(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:o}=Gh(e);let s=(o?Bi(t.width):t.width)/r,l=(o?Bi(t.height):t.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const tO=St(0);function Qh(n){const e=Je(n);return!Va()||!e.visualViewport?tO:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function nO(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Je(n)?!1:e}function Tn(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),o=Ua(n);let s=St(1);e&&(r?ft(r)&&(s=Jn(r)):s=Jn(n));const l=nO(o,t,r)?Qh(o):St(0);let a=(i.left+l.x)/s.x,c=(i.top+l.y)/s.y,f=i.width/s.x,u=i.height/s.y;if(o){const h=Je(o),p=r&&ft(r)?Je(r):r;let d=h,g=Yl(d);for(;g&&r&&p!==d;){const m=Jn(g),y=g.getBoundingClientRect(),b=ut(g),w=y.left+(g.clientLeft+parseFloat(b.paddingLeft))*m.x,S=y.top+(g.clientTop+parseFloat(b.paddingTop))*m.y;a*=m.x,c*=m.y,f*=m.x,u*=m.y,a+=w,c+=S,d=Je(g),g=Yl(d)}}return _i({width:f,height:u,x:a,y:c})}function zo(n,e){const t=Bo(n).scrollLeft;return e?e.left+t:Tn(kt(n)).left+t}function Xh(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-zo(n,t),i=t.top+e.scrollTop;return{x:r,y:i}}function rO(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const o=i==="fixed",s=kt(r),l=e?$o(e.floating):!1;if(r===s||l&&o)return t;let a={scrollLeft:0,scrollTop:0},c=St(1);const f=St(0),u=vt(r);if((u||!u&&!o)&&((dr(r)!=="body"||ni(s))&&(a=Bo(r)),vt(r))){const p=Tn(r);c=Jn(r),f.x=p.x+r.clientLeft,f.y=p.y+r.clientTop}const h=s&&!u&&!o?Xh(s,a):St(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-a.scrollLeft*c.x+f.x+h.x,y:t.y*c.y-a.scrollTop*c.y+f.y+h.y}}function iO(n){return Array.from(n.getClientRects())}function oO(n){const e=kt(n),t=Bo(n),r=n.ownerDocument.body,i=We(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=We(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-t.scrollLeft+zo(n);const l=-t.scrollTop;return ut(r).direction==="rtl"&&(s+=We(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:l}}const wu=25;function sO(n,e){const t=Je(n),r=kt(n),i=t.visualViewport;let o=r.clientWidth,s=r.clientHeight,l=0,a=0;if(i){o=i.width,s=i.height;const f=Va();(!f||f&&e==="fixed")&&(l=i.offsetLeft,a=i.offsetTop)}const c=zo(r);if(c<=0){const f=r.ownerDocument,u=f.body,h=getComputedStyle(u),p=f.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,d=Math.abs(r.clientWidth-u.clientWidth-p);d<=wu&&(o-=d)}else c<=wu&&(o+=c);return{width:o,height:s,x:l,y:a}}const lO=new Set(["absolute","fixed"]);function aO(n,e){const t=Tn(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,o=vt(n)?Jn(n):St(1),s=n.clientWidth*o.x,l=n.clientHeight*o.y,a=i*o.x,c=r*o.y;return{width:s,height:l,x:a,y:c}}function xu(n,e,t){let r;if(e==="viewport")r=sO(n,t);else if(e==="document")r=oO(kt(n));else if(ft(e))r=aO(e,t);else{const i=Qh(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return _i(r)}function Yh(n,e){const t=an(n);return t===e||!ft(t)||er(t)?!1:ut(t).position==="fixed"||Yh(t,e)}function cO(n,e){const t=e.get(n);if(t)return t;let r=jr(n,[],!1).filter(l=>ft(l)&&dr(l)!=="body"),i=null;const o=ut(n).position==="fixed";let s=o?an(n):n;for(;ft(s)&&!er(s);){const l=ut(s),a=ja(s);!a&&l.position==="fixed"&&(i=null),(o?!a&&!i:!a&&l.position==="static"&&!!i&&lO.has(i.position)||ni(s)&&!a&&Yh(n,s))?r=r.filter(f=>f!==s):i=l,s=an(s)}return e.set(n,r),r}function fO(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const s=[...t==="clippingAncestors"?$o(e)?[]:cO(e,this._c):[].concat(t),r],l=s[0],a=s.reduce((c,f)=>{const u=xu(e,f,i);return c.top=We(u.top,c.top),c.right=ln(u.right,c.right),c.bottom=ln(u.bottom,c.bottom),c.left=We(u.left,c.left),c},xu(e,l,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function uO(n){const{width:e,height:t}=Gh(n);return{width:e,height:t}}function dO(n,e,t){const r=vt(e),i=kt(e),o=t==="fixed",s=Tn(n,!0,o,e);let l={scrollLeft:0,scrollTop:0};const a=St(0);function c(){a.x=zo(i)}if(r||!r&&!o)if((dr(e)!=="body"||ni(i))&&(l=Bo(e)),r){const p=Tn(e,!0,o,e);a.x=p.x+e.clientLeft,a.y=p.y+e.clientTop}else i&&c();o&&!r&&i&&c();const f=i&&!r&&!o?Xh(i,l):St(0),u=s.left+l.scrollLeft-a.x-f.x,h=s.top+l.scrollTop-a.y-f.y;return{x:u,y:h,width:s.width,height:s.height}}function cl(n){return ut(n).position==="static"}function Su(n,e){if(!vt(n)||ut(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return kt(n)===t&&(t=t.ownerDocument.body),t}function Zh(n,e){const t=Je(n);if($o(n))return t;if(!vt(n)){let i=an(n);for(;i&&!er(i);){if(ft(i)&&!cl(i))return i;i=an(i)}return t}let r=Su(n,e);for(;r&&JS(r)&&cl(r);)r=Su(r,e);return r&&er(r)&&cl(r)&&!ja(r)?t:r||ZS(n)||t}const hO=async function(n){const e=this.getOffsetParent||Zh,t=this.getDimensions,r=await t(n.floating);return{reference:dO(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function pO(n){return ut(n).direction==="rtl"}const mO={convertOffsetParentRelativeRectToViewportRelativeRect:rO,getDocumentElement:kt,getClippingRect:fO,getOffsetParent:Zh,getElementRects:hO,getClientRects:iO,getDimensions:uO,getScale:Jn,isElement:ft,isRTL:pO};function ep(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function gO(n,e){let t=null,r;const i=kt(n);function o(){var l;clearTimeout(r),(l=t)==null||l.disconnect(),t=null}function s(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),o();const c=n.getBoundingClientRect(),{left:f,top:u,width:h,height:p}=c;if(l||e(),!h||!p)return;const d=yi(u),g=yi(i.clientWidth-(f+h)),m=yi(i.clientHeight-(u+p)),y=yi(f),w={rootMargin:-d+"px "+-g+"px "+-m+"px "+-y+"px",threshold:We(0,ln(1,a))||1};let S=!0;function E(T){const A=T[0].intersectionRatio;if(A!==a){if(!S)return s();A?s(!1,A):r=setTimeout(()=>{s(!1,1e-7)},1e3)}A===1&&!ep(c,n.getBoundingClientRect())&&s(),S=!1}try{t=new IntersectionObserver(E,{...w,root:i.ownerDocument})}catch{t=new IntersectionObserver(E,w)}t.observe(n)}return s(!0),o}function RC(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,c=Ua(n),f=i||o?[...c?jr(c):[],...jr(e)]:[];f.forEach(y=>{i&&y.addEventListener("scroll",t,{passive:!0}),o&&y.addEventListener("resize",t)});const u=c&&l?gO(c,t):null;let h=-1,p=null;s&&(p=new ResizeObserver(y=>{let[b]=y;b&&b.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(e)})),t()}),c&&!a&&p.observe(c),p.observe(e));let d,g=a?Tn(n):null;a&&m();function m(){const y=Tn(n);g&&!ep(g,y)&&t(),g=y,d=requestAnimationFrame(m)}return t(),()=>{var y;f.forEach(b=>{i&&b.removeEventListener("scroll",t),o&&b.removeEventListener("resize",t)}),u?.(),(y=p)==null||y.disconnect(),p=null,a&&cancelAnimationFrame(d)}}const NC=VS,MC=US,DC=zS,PC=HS,IC=_S,LC=BS,FC=qS,$C=(n,e,t)=>{const r=new Map,i={platform:mO,...t},o={...i.platform,_c:r};return $S(n,e,{...i,platform:o})};function Ee(n){this.content=n}Ee.prototype={constructor:Ee,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),o=r.content.slice();return i==-1?o.push(t||n,e):(o[i+1]=e,t&&(o[i]=t)),new Ee(o)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new Ee(t)},addToStart:function(n,e){return new Ee([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new Ee(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),o=r.find(n);return i.splice(o==-1?i.length:o,0,e,t),new Ee(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=Ee.from(n),n.size?new Ee(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=Ee.from(n),n.size?new Ee(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=Ee.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};Ee.from=function(n){if(n instanceof Ee)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new Ee(e)};function tp(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),o=e.child(r);if(i==o){t+=i.nodeSize;continue}if(!i.sameMarkup(o))return t;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)t++;return t}if(i.content.size||o.content.size){let s=tp(i.content,o.content,t+1);if(s!=null)return s}t+=i.nodeSize}}function np(n,e,t,r){for(let i=n.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:t,b:r};let s=n.child(--i),l=e.child(--o),a=s.nodeSize;if(s==l){t-=a,r-=a;continue}if(!s.sameMarkup(l))return{a:t,b:r};if(s.isText&&s.text!=l.text){let c=0,f=Math.min(s.text.length,l.text.length);for(;c<f&&s.text[s.text.length-c-1]==l.text[l.text.length-c-1];)c++,t--,r--;return{a:t,b:r}}if(s.content.size||l.content.size){let c=np(s.content,l.content,t-1,r-1);if(c)return c}t-=a,r-=a}}class N{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,o){for(let s=0,l=0;l<t;s++){let a=this.content[s],c=l+a.nodeSize;if(c>e&&r(a,i+l,o||null,s)!==!1&&a.content.size){let f=l+1;a.nodesBetween(Math.max(0,e-f),Math.min(a.content.size,t-f),r,i+f)}l=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let o="",s=!0;return this.nodesBetween(e,t,(l,a)=>{let c=l.isText?l.text.slice(Math.max(e,a)-a,t-a):l.isLeaf?i?typeof i=="function"?i(l):i:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&c||l.isTextblock)&&r&&(s?s=!1:o+=r),o+=c},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new N(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],i=0;if(t>e)for(let o=0,s=0;s<t;o++){let l=this.content[o],a=s+l.nodeSize;a>e&&((s<e||a>t)&&(l.isText?l=l.cut(Math.max(0,e-s),Math.min(l.text.length,t-s)):l=l.cut(Math.max(0,e-s-1),Math.min(l.content.size,t-s-1))),r.push(l),i+=l.nodeSize),s=a}return new N(r,i)}cutByIndex(e,t){return e==t?N.empty:e==0&&t==this.content.length?this:new N(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),o=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new N(i,o)}addToStart(e){return new N([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new N(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return tp(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return np(this,e,t,r)}findIndex(e){if(e==0)return bi(0,e);if(e==this.size)return bi(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let t=0,r=0;;t++){let i=this.child(t),o=r+i.nodeSize;if(o>=e)return o==e?bi(t+1,o):bi(t,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return N.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new N(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return N.empty;let t,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(t||(t=e.slice(0,i)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new N(t||e,r)}static from(e){if(!e)return N.empty;if(e instanceof N)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new N([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}N.empty=new N([],0);const fl={index:0,offset:0};function bi(n,e){return fl.index=n,fl.offset=e,fl}function ji(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!ji(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!ji(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}class Z{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),r=!0),t&&t.push(o)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&ji(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=r.create(t.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Z.none;if(e instanceof Z)return[e];let t=e.slice();return t.sort((r,i)=>r.type.rank-i.type.rank),t}}Z.none=[];class Vi extends Error{}class I{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=ip(this.content,e+this.openStart,t);return r&&new I(r,this.openStart,this.openEnd)}removeBetween(e,t){return new I(rp(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return I.empty;let r=t.openStart||0,i=t.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new I(N.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)i++;return new I(e,r,i)}}I.empty=new I(N.empty,0,0);function rp(n,e,t){let{index:r,offset:i}=n.findIndex(e),o=n.maybeChild(r),{index:s,offset:l}=n.findIndex(t);if(i==e||o.isText){if(l!=t&&!n.child(s).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=s)throw new RangeError("Removing non-flat range");return n.replaceChild(r,o.copy(rp(o.content,e-i-1,t-i-1)))}function ip(n,e,t,r){let{index:i,offset:o}=n.findIndex(e),s=n.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,t)?null:n.cut(0,e).append(t).append(n.cut(e));let l=ip(s.content,e-o-1,t,s);return l&&n.replaceChild(i,s.copy(l))}function yO(n,e,t){if(t.openStart>n.depth)throw new Vi("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new Vi("Inconsistent open depths");return op(n,e,t,0)}function op(n,e,t,r){let i=n.index(r),o=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let s=op(n,e,t,r+1);return o.copy(o.content.replaceChild(i,s))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let s=n.parent,l=s.content;return Sn(s,l.cut(0,n.parentOffset).append(t.content).append(l.cut(e.parentOffset)))}else{let{start:s,end:l}=bO(t,n);return Sn(o,lp(n,s,l,e,r))}else return Sn(o,Ui(n,e,r))}function sp(n,e){if(!e.type.compatibleContent(n.type))throw new Vi("Cannot join "+e.type.name+" onto "+n.type.name)}function Zl(n,e,t){let r=n.node(t);return sp(r,e.node(t)),r}function xn(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function kr(n,e,t,r){let i=(e||n).node(t),o=0,s=e?e.index(t):i.childCount;n&&(o=n.index(t),n.depth>t?o++:n.textOffset&&(xn(n.nodeAfter,r),o++));for(let l=o;l<s;l++)xn(i.child(l),r);e&&e.depth==t&&e.textOffset&&xn(e.nodeBefore,r)}function Sn(n,e){return n.type.checkContent(e),n.copy(e)}function lp(n,e,t,r,i){let o=n.depth>i&&Zl(n,e,i+1),s=r.depth>i&&Zl(t,r,i+1),l=[];return kr(null,n,i,l),o&&s&&e.index(i)==t.index(i)?(sp(o,s),xn(Sn(o,lp(n,e,t,r,i+1)),l)):(o&&xn(Sn(o,Ui(n,e,i+1)),l),kr(e,t,i,l),s&&xn(Sn(s,Ui(t,r,i+1)),l)),kr(r,null,i,l),new N(l)}function Ui(n,e,t){let r=[];if(kr(null,n,t,r),n.depth>t){let i=Zl(n,e,t+1);xn(Sn(i,Ui(n,e,t+1)),r)}return kr(e,null,t,r),new N(r)}function bO(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let o=t-1;o>=0;o--)i=e.node(o).copy(N.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}class Vr{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Z.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let l=r;r=i,i=l}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new qi(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,o=t;for(let s=e;;){let{index:l,offset:a}=s.content.findIndex(o),c=o-a;if(r.push(s,l,i+a),!c||(s=s.child(l),s.isText))break;o=c-1,i+=a+1}return new Vr(t,r,o)}static resolveCached(e,t){let r=Ou.get(e);if(r)for(let o=0;o<r.elts.length;o++){let s=r.elts[o];if(s.pos==t)return s}else Ou.set(e,r=new wO);let i=r.elts[r.i]=Vr.resolve(e,t);return r.i=(r.i+1)%xO,i}}class wO{constructor(){this.elts=[],this.i=0}}const xO=12,Ou=new WeakMap;class qi{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const SO=Object.create(null);let On=class ea{constructor(e,t,r,i=Z.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||N.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&ji(this.attrs,t||e.defaultAttrs||SO)&&Z.sameSet(this.marks,r||Z.none)}copy(e=null){return e==this.content?this:new ea(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new ea(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return I.empty;let i=this.resolve(e),o=this.resolve(t),s=r?0:i.sharedDepth(t),l=i.start(s),c=i.node(s).content.cut(i.pos-l,o.pos-l);return new I(c,i.depth-s,o.depth-s)}replace(e,t,r){return yO(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return Vr.resolveCached(this,e)}resolveNoCache(e){return Vr.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),ap(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=N.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),l=s&&s.matchFragment(this.content,t);if(!l||!l.validEnd)return!1;for(let a=i;a<o;a++)if(!this.type.allowsMarks(r.child(a).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,t);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Z.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Z.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=N.fromJSON(e,t.content),o=e.nodeType(t.type).create(t.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};On.prototype.text=void 0;class Hi extends On{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):ap(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Hi(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Hi(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function ap(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Rn{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new OO(e,t);if(r.next==null)return Rn.empty;let i=cp(r);r.next&&r.err("Unexpected trailing text");let o=RO(TO(i));return NO(o,r),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let o=t;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];function o(s,l){let a=s.matchFragment(e,r);if(a&&(!t||a.validEnd))return N.from(l.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:f,next:u}=s.next[c];if(!(f.isText||f.hasRequiredAttrs())&&i.indexOf(u)==-1){i.push(u);let h=o(u,l.concat(f));if(h)return h}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let l=i;l.type;l=l.via)s.push(l.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:l,next:a}=o.next[s];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in t)&&(!i.type||a.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),t[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&t(r.next[i].next)}return t(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}}Rn.empty=new Rn(!0);class OO{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function cp(n){let e=[];do e.push(vO(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function vO(n){let e=[];do e.push(EO(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function EO(n){let e=kO(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=AO(n,e);else break;return e}function vu(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function AO(n,e){let t=vu(n),r=t;return n.eat(",")&&(n.next!="}"?r=vu(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function CO(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let o in t){let s=t[o];s.isInGroup(e)&&i.push(s)}return i.length==0&&n.err("No node type or group '"+e+"' found"),i}function kO(n){if(n.eat("(")){let e=cp(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=CO(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function TO(n){let e=[[]];return i(o(n,0),t()),e;function t(){return e.push([])-1}function r(s,l,a){let c={term:a,to:l};return e[s].push(c),c}function i(s,l){s.forEach(a=>a.to=l)}function o(s,l){if(s.type=="choice")return s.exprs.reduce((a,c)=>a.concat(o(c,l)),[]);if(s.type=="seq")for(let a=0;;a++){let c=o(s.exprs[a],l);if(a==s.exprs.length-1)return c;i(c,l=t())}else if(s.type=="star"){let a=t();return r(l,a),i(o(s.expr,a),a),[r(a)]}else if(s.type=="plus"){let a=t();return i(o(s.expr,l),a),i(o(s.expr,a),a),[r(a)]}else{if(s.type=="opt")return[r(l)].concat(o(s.expr,l));if(s.type=="range"){let a=l;for(let c=0;c<s.min;c++){let f=t();i(o(s.expr,a),f),a=f}if(s.max==-1)i(o(s.expr,a),a);else for(let c=s.min;c<s.max;c++){let f=t();r(a,f),i(o(s.expr,a),f),a=f}return[r(a)]}else{if(s.type=="name")return[r(l,void 0,s.value)];throw new Error("Unknown expr type")}}}}function fp(n,e){return e-n}function Eu(n,e){let t=[];return r(e),t.sort(fp);function r(i){let o=n[i];if(o.length==1&&!o[0].term)return r(o[0].to);t.push(i);for(let s=0;s<o.length;s++){let{term:l,to:a}=o[s];!l&&t.indexOf(a)==-1&&r(a)}}}function RO(n){let e=Object.create(null);return t(Eu(n,0));function t(r){let i=[];r.forEach(s=>{n[s].forEach(({term:l,to:a})=>{if(!l)return;let c;for(let f=0;f<i.length;f++)i[f][0]==l&&(c=i[f][1]);Eu(n,a).forEach(f=>{c||i.push([l,c=[]]),c.indexOf(f)==-1&&c.push(f)})})});let o=e[r.join(",")]=new Rn(r.indexOf(n.length-1)>-1);for(let s=0;s<i.length;s++){let l=i[s][1].sort(fp);o.next.push({type:i[s][0],next:e[l.join(",")]||t(l)})}return o}}function NO(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],o=!i.validEnd,s=[];for(let l=0;l<i.next.length;l++){let{type:a,next:c}=i.next[l];s.push(a.name),o&&!(a.isText||a.hasRequiredAttrs())&&(o=!1),r.indexOf(c)==-1&&r.push(c)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function up(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function dp(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(i===void 0){let o=n[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=i}return t}function hp(n,e,t,r){for(let i in e)if(!(i in n))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in n){let o=n[i];o.validate&&o.validate(e[i])}}function pp(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new DO(n,r,e[r]);return t}let Au=class mp{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=pp(e,r.attrs),this.defaultAttrs=up(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Rn.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:dp(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new On(this,this.computeAttrs(e),N.from(t),Z.setFrom(r))}createChecked(e=null,t,r){return t=N.from(t),this.checkContent(t),new On(this,this.computeAttrs(e),t,Z.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=N.from(t),t.size){let s=this.contentMatch.fillBefore(t);if(!s)return null;t=s.append(t)}let i=this.contentMatch.matchFragment(t),o=i&&i.fillBefore(N.empty,!0);return o?new On(this,e,t.append(o),Z.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){hp(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Z.none:e}static compile(e,t){let r=Object.create(null);e.forEach((o,s)=>r[o]=new mp(o,t,s));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function MO(n,e,t){let r=t.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${o}`)}}class DO{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?MO(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class _o{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=pp(e,i.attrs),this.excluded=null;let o=up(this.attrs);this.instance=o?new Z(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Z(this,dp(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new _o(o,i++,t,s)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){hp(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class BC{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=Ee.from(e.nodes),t.marks=Ee.from(e.marks||{}),this.nodes=Au.compile(this.spec.nodes,this),this.marks=_o.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",l=o.spec.marks;if(o.contentMatch=r[s]||(r[s]=Rn.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=l=="_"?null:l?Cu(this,l.split(" ")):l==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:Cu(this,s.split(" "))}this.nodeFromJSON=i=>On.fromJSON(this,i),this.markFromJSON=i=>Z.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Au){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new Hi(r,r.defaultAttrs,e,Z.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function Cu(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],o=n.marks[i],s=o;if(o)t.push(o);else for(let l in n.marks){let a=n.marks[l];(i=="_"||a.spec.group&&a.spec.group.split(" ").indexOf(i)>-1)&&t.push(s=a)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function PO(n){return n.tag!=null}function IO(n){return n.style!=null}class Ur{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(i=>{if(PO(i))this.tags.push(i);else if(IO(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,t={}){let r=new Tu(this,t,!1);return r.addAll(e,Z.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new Tu(this,t,!0);return r.addAll(e,Z.none,t.from,t.to),I.maxOpen(r.finish())}matchTag(e,t,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if($O(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,t,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],l=s.style;if(!(l.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=t))){if(s.getAttrs){let a=s.getAttrs(t);if(a===!1)continue;s.attrs=a||void 0}return s}}}static schemaRules(e){let t=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<t.length;s++){let l=t[s];if((l.priority==null?50:l.priority)<o)break}t.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=Ru(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=Ru(s)),s.node||s.ignore||s.mark||(s.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Ur(e,Ur.schemaRules(e)))}}const gp={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},LO={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},yp={ol:!0,ul:!0},qr=1,ta=2,Tr=4;function ku(n,e,t){return e!=null?(e?qr:0)|(e==="full"?ta:0):n&&n.whitespace=="pre"?qr|ta:t&~Tr}class wi{constructor(e,t,r,i,o,s){this.type=e,this.attrs=t,this.marks=r,this.solid=i,this.options=s,this.content=[],this.activeMarks=Z.none,this.match=o||(s&Tr?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(N.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&qr)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let t=N.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(N.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!gp.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Tu{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=t.topNode,o,s=ku(null,t.preserveWhitespace,0)|(r?Tr:0);i?o=new wi(i.type,i.attrs,Z.none,!0,t.topMatch||i.type.contentMatch,s):r?o=new wi(null,null,Z.none,!0,null,s):o=new wi(e.schema.topNodeType,null,Z.none,!0,null,s),this.nodes=[o],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,i=this.top,o=i.options&ta?"full":this.localPreserveWS||(i.options&qr)>0,{schema:s}=this.parser;if(o==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o)if(o==="full")r=r.replace(/\r\n?/g,`
`);else if(s.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(s.linebreakReplacement.create())){let l=r.split(/\r?\n|\r/);for(let a=0;a<l.length;a++)a&&this.insertNode(s.linebreakReplacement.create(),t,!0),l[a]&&this.insertNode(s.text(l[a]),t,!/\S/.test(l[a]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let l=i.content[i.content.length-1],a=e.previousSibling;(!l||a&&a.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(r=r.slice(1))}r&&this.insertNode(s.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let i=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let s=e.nodeName.toLowerCase(),l;yp.hasOwnProperty(s)&&this.parser.normalizeLists&&FO(e);let a=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,r));e:if(a?a.ignore:LO.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,t);else if(!a||a.skip||a.closeParent){a&&a.closeParent?this.open=Math.max(0,this.open-1):a&&a.skip.nodeType&&(e=a.skip);let c,f=this.needsBlock;if(gp.hasOwnProperty(s))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),c=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let u=a&&a.skip?t:this.readStyles(e,t);u&&this.addAll(e,u),c&&this.sync(o),this.needsBlock=f}else{let c=this.readStyles(e,t);c&&this.addElementByRule(e,a,c,a.consuming===!1?l:void 0)}this.localPreserveWS=i}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],s=r.getPropertyValue(o);if(s)for(let l=void 0;;){let a=this.parser.matchStyle(o,s,this,l);if(!a)break;if(a.ignore)return null;if(a.clearMark?t=t.filter(c=>!a.clearMark(c)):t=t.concat(this.parser.schema.marks[a.mark].create(a.attrs)),a.consuming===!1)l=a;else break}}return t}addElementByRule(e,t,r,i){let o,s;if(t.node)if(s=this.parser.schema.nodes[t.node],s.isLeaf)this.insertNode(s.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let a=this.enter(s,t.attrs||null,r,t.preserveWhitespace);a&&(o=!0,r=a)}else{let a=this.parser.schema.marks[t.mark];r=r.concat(a.create(t.attrs))}let l=this.top;if(s&&s.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(a=>this.insertNode(a,r,!1));else{let a=e;typeof t.contentElement=="string"?a=e.querySelector(t.contentElement):typeof t.contentElement=="function"?a=t.contentElement(e):t.contentElement&&(a=t.contentElement),this.findAround(e,a,!0),this.addAll(a,r),this.findAround(e,a,!1)}o&&this.sync(l)&&this.open--}addAll(e,t,r,i){let o=r||0;for(let s=r?e.childNodes[r]:e.firstChild,l=i==null?null:e.childNodes[i];s!=l;s=s.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(s,t);this.findAtPoint(e,o)}findPlace(e,t,r){let i,o;for(let s=this.open,l=0;s>=0;s--){let a=this.nodes[s],c=a.findWrapping(e);if(c&&(!i||i.length>c.length+l)&&(i=c,o=a,!c.length))break;if(a.solid){if(r)break;l+=2}}if(!i)return null;this.sync(o);for(let s=0;s<i.length;s++)t=this.enterInner(i[s],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(t=this.enterInner(o,null,t))}let i=this.findPlace(e,t,r);if(i){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let s=Z.none;for(let l of i.concat(e.marks))(o.type?o.type.allowsMarkType(l.type):Nu(l.type,e.type))&&(s=l.addToSet(s));return o.content.push(e.mark(s)),!0}return!1}enter(e,t,r,i){let o=this.findPlace(e.create(t),r,!1);return o&&(o=this.enterInner(e,t,r,!0,i)),o}enterInner(e,t,r,i=!1,o){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let l=ku(e,o,s.options);s.options&Tr&&s.content.length==0&&(l|=Tr);let a=Z.none;return r=r.filter(c=>(s.type?s.type.allowsMarkType(c.type):Nu(c.type,e))?(a=c.addToSet(a),!1):!0),this.nodes.push(new wi(e,t,a,i,null,l)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=qr)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(l,a)=>{for(;l>=0;l--){let c=t[l];if(c==""){if(l==t.length-1||l==0)continue;for(;a>=o;a--)if(s(l-1,a))return!0;return!1}else{let f=a>0||a==0&&i?this.nodes[a].type:r&&a>=o?r.node(a-o).type:null;if(!f||f.name!=c&&!f.isInGroup(c))return!1;a--}}return!0};return s(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function FO(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&yp.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function $O(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function Ru(n){let e={};for(let t in n)e[t]=n[t];return e}function Nu(n,e){let t=e.schema.nodes;for(let r in t){let i=t[r];if(!i.allowsMarkType(n))continue;let o=[],s=l=>{o.push(l);for(let a=0;a<l.edgeCount;a++){let{type:c,next:f}=l.edge(a);if(c==e||o.indexOf(f)<0&&s(f))return!0}};if(s(i.contentMatch))return!0}}class hr{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=ul(t).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let l=0,a=0;for(;l<o.length&&a<s.marks.length;){let c=s.marks[a];if(!this.marks[c.type.name]){a++;continue}if(!c.eq(o[l][0])||c.type.spec.spanning===!1)break;l++,a++}for(;l<o.length;)i=o.pop()[1];for(;a<s.marks.length;){let c=s.marks[a++],f=this.serializeMark(c,s.isInline,t);f&&(o.push([c,i]),i.appendChild(f.dom),i=f.contentDOM||f.dom)}}i.appendChild(this.serializeNodeInner(s,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:i}=Ni(ul(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,t,r={}){let i=this.marks[e.type.name];return i&&Ni(ul(r),i(e,t),null,e.attrs)}static renderSpec(e,t,r=null,i){return Ni(e,t,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new hr(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=Mu(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return Mu(e.marks)}}function Mu(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function ul(n){return n.document||window.document}const Du=new WeakMap;function BO(n){let e=Du.get(n);return e===void 0&&Du.set(n,e=zO(n)),e}function zO(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)t(r[i]);else for(let i in r)t(r[i])}return t(n),e}function Ni(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=BO(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=i.indexOf(" ");s>0&&(t=i.slice(0,s),i=i.slice(s+1));let l,a=t?n.createElementNS(t,i):n.createElement(i),c=e[1],f=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){f=2;for(let u in c)if(c[u]!=null){let h=u.indexOf(" ");h>0?a.setAttributeNS(u.slice(0,h),u.slice(h+1),c[u]):u=="style"&&a.style?a.style.cssText=c[u]:a.setAttribute(u,c[u])}}for(let u=f;u<e.length;u++){let h=e[u];if(h===0){if(u<e.length-1||u>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:p,contentDOM:d}=Ni(n,h,t,r);if(a.appendChild(p),d){if(l)throw new RangeError("Multiple content holes");l=d}}}return{dom:a,contentDOM:l}}const bp=65535,wp=Math.pow(2,16);function _O(n,e){return n+e*wp}function Pu(n){return n&bp}function jO(n){return(n-(n&bp))/wp}const xp=1,Sp=2,Mi=4,Op=8;class na{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&Op)>0}get deletedBefore(){return(this.delInfo&(xp|Mi))>0}get deletedAfter(){return(this.delInfo&(Sp|Mi))>0}get deletedAcross(){return(this.delInfo&Mi)>0}}class Ke{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Ke.empty)return Ke.empty}recover(e){let t=0,r=Pu(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+jO(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?i:0);if(a>e)break;let c=this.ranges[l+o],f=this.ranges[l+s],u=a+c;if(e<=u){let h=c?e==a?-1:e==u?1:t:t,p=a+i+(h<0?0:f);if(r)return p;let d=e==(t<0?a:u)?null:_O(l/3,e-a),g=e==a?Sp:e==u?xp:Mi;return(t<0?e!=a:e!=u)&&(g|=Op),new na(p,g,d)}i+=f-c}return r?e+i:new na(e+i,0,null)}touches(e,t){let r=0,i=Pu(t),o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?r:0);if(a>e)break;let c=this.ranges[l+o],f=a+c;if(e<=f&&l==i*3)return!0;r+=this.ranges[l+s]-c}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],l=s-(this.inverted?o:0),a=s+(this.inverted?0:o),c=this.ranges[i+t],f=this.ranges[i+r];e(l,l+c,a,a+f),o+=f-c}}invert(){return new Ke(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Ke.empty:new Ke(e<0?[0,-e,0]:[0,0,e])}}Ke.empty=new Ke([]);class Hr{constructor(e,t,r=0,i=e?e.length:0){this.mirror=t,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new Hr(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let i=e.getMirror(t);this.appendMap(e._maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e._maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new Hr;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this._maps[o],l=s.mapResult(e,t);if(l.recover!=null){let a=this.getMirror(o);if(a!=null&&a>o&&a<this.to){o=a,e=this._maps[a].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new na(e,i,null)}}const dl=Object.create(null);class Le{getMap(){return Ke.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=dl[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in dl)throw new RangeError("Duplicate use of step JSON ID "+e);return dl[e]=t,t.prototype.jsonID=e,t}}class he{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new he(e,null)}static fail(e){return new he(null,e)}static fromReplace(e,t,r,i){try{return he.ok(e.replace(t,r,i))}catch(o){if(o instanceof Vi)return he.fail(o.message);throw o}}}function qa(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let o=n.child(i);o.content.size&&(o=o.copy(qa(o.content,e,o))),o.isInline&&(o=e(o,t,i)),r.push(o)}return N.fromArray(r)}class Zt extends Le{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new I(qa(t.content,(s,l)=>!s.isAtom||!l.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),t.openStart,t.openEnd);return he.fromReplace(e,this.from,this.to,o)}invert(){return new xt(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Zt(t.pos,r.pos,this.mark)}merge(e){return e instanceof Zt&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Zt(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Zt(t.from,t.to,e.markFromJSON(t.mark))}}Le.jsonID("addMark",Zt);class xt extends Le{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new I(qa(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return he.fromReplace(e,this.from,this.to,r)}invert(){return new Zt(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new xt(t.pos,r.pos,this.mark)}merge(e){return e instanceof xt&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new xt(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new xt(t.from,t.to,e.markFromJSON(t.mark))}}Le.jsonID("removeMark",xt);class en extends Le{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return he.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return he.fromReplace(e,this.pos,this.pos+1,new I(N.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new en(this.pos,t.marks[i]);return new en(this.pos,this.mark)}}return new Nn(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new en(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new en(t.pos,e.markFromJSON(t.mark))}}Le.jsonID("addNodeMark",en);class Nn extends Le{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return he.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return he.fromReplace(e,this.pos,this.pos+1,new I(N.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new en(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Nn(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Nn(t.pos,e.markFromJSON(t.mark))}}Le.jsonID("removeNodeMark",Nn);class Ae extends Le{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&ra(e,this.from,this.to)?he.fail("Structure replace would overwrite content"):he.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Ke([this.from,this.to-this.from,this.slice.size])}invert(e){return new Ae(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new Ae(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Ae)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?I.empty:new I(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Ae(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?I.empty:new I(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Ae(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ae(t.from,t.to,I.fromJSON(e,t.slice),!!t.structure)}}Le.jsonID("replace",Ae);class Te extends Le{constructor(e,t,r,i,o,s,l=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=l}apply(e){if(this.structure&&(ra(e,this.from,this.gapFrom)||ra(e,this.gapTo,this.to)))return he.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return he.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?he.fromReplace(e,this.from,this.to,r):he.fail("Content does not fit in gap")}getMap(){return new Ke([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Te(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||o>r.pos?null:new Te(t.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Te(t.from,t.to,t.gapFrom,t.gapTo,I.fromJSON(e,t.slice),t.insert,!!t.structure)}}Le.jsonID("replaceAround",Te);function ra(n,e,t){let r=n.resolve(e),i=t-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function VO(n,e,t,r){let i=[],o=[],s,l;n.doc.nodesBetween(e,t,(a,c,f)=>{if(!a.isInline)return;let u=a.marks;if(!r.isInSet(u)&&f.type.allowsMarkType(r.type)){let h=Math.max(c,e),p=Math.min(c+a.nodeSize,t),d=r.addToSet(u);for(let g=0;g<u.length;g++)u[g].isInSet(d)||(s&&s.to==h&&s.mark.eq(u[g])?s.to=p:i.push(s=new xt(h,p,u[g])));l&&l.to==h?l.to=p:o.push(l=new Zt(h,p,r))}}),i.forEach(a=>n.step(a)),o.forEach(a=>n.step(a))}function UO(n,e,t,r){let i=[],o=0;n.doc.nodesBetween(e,t,(s,l)=>{if(!s.isInline)return;o++;let a=null;if(r instanceof _o){let c=s.marks,f;for(;f=r.isInSet(c);)(a||(a=[])).push(f),c=f.removeFromSet(c)}else r?r.isInSet(s.marks)&&(a=[r]):a=s.marks;if(a&&a.length){let c=Math.min(l+s.nodeSize,t);for(let f=0;f<a.length;f++){let u=a[f],h;for(let p=0;p<i.length;p++){let d=i[p];d.step==o-1&&u.eq(i[p].style)&&(h=d)}h?(h.to=c,h.step=o):i.push({style:u,from:Math.max(l,e),to:c,step:o})}}}),i.forEach(s=>n.step(new xt(s.from,s.to,s.style)))}function Ha(n,e,t,r=t.contentMatch,i=!0){let o=n.doc.nodeAt(e),s=[],l=e+1;for(let a=0;a<o.childCount;a++){let c=o.child(a),f=l+c.nodeSize,u=r.matchType(c.type);if(!u)s.push(new Ae(l,f,I.empty));else{r=u;for(let h=0;h<c.marks.length;h++)t.allowsMarkType(c.marks[h].type)||n.step(new xt(l,f,c.marks[h]));if(i&&c.isText&&t.whitespace!="pre"){let h,p=/\r?\n|\r/g,d;for(;h=p.exec(c.text);)d||(d=new I(N.from(t.schema.text(" ",t.allowedMarks(c.marks))),0,0)),s.push(new Ae(l+h.index,l+h.index+h[0].length,d))}}l=f}if(!r.validEnd){let a=r.fillBefore(N.empty,!0);n.replace(l,l,new I(a,0,0))}for(let a=s.length-1;a>=0;a--)n.step(s[a])}function qO(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function ri(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth,i=0,o=0;;--r){let s=n.$from.node(r),l=n.$from.index(r)+i,a=n.$to.indexAfter(r)-o;if(r<n.depth&&s.canReplace(l,a,t))return r;if(r==0||s.type.spec.isolating||!qO(s,l,a))break;l&&(i=1),a<s.childCount&&(o=1)}return null}function HO(n,e,t){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),l=i.after(o+1),a=s,c=l,f=N.empty,u=0;for(let d=o,g=!1;d>t;d--)g||r.index(d)>0?(g=!0,f=N.from(r.node(d).copy(f)),u++):a--;let h=N.empty,p=0;for(let d=o,g=!1;d>t;d--)g||i.after(d+1)<i.end(d)?(g=!0,h=N.from(i.node(d).copy(h)),p++):c++;n.step(new Te(a,c,s,l,new I(f.append(h),u,p),f.size-u,!0))}function vp(n,e,t=null,r=n){let i=WO(n,e),o=i&&KO(r,e);return o?i.map(Iu).concat({type:e,attrs:t}).concat(o.map(Iu)):null}function Iu(n){return{type:n,attrs:null}}function WO(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return t.canReplaceWith(r,i,s)?o:null}function KO(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let a=(s.length?s[s.length-1]:e).contentMatch;for(let c=r;a&&c<i;c++)a=a.matchType(t.child(c).type);return!a||!a.validEnd?null:s}function JO(n,e,t){let r=N.empty;for(let s=t.length-1;s>=0;s--){if(r.size){let l=t[s].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=N.from(t[s].type.create(t[s].attrs,r))}let i=e.start,o=e.end;n.step(new Te(i,o,i,o,new I(r,0,0),t.length,!0))}function GO(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=n.steps.length;n.doc.nodesBetween(e,t,(s,l)=>{let a=typeof i=="function"?i(s):i;if(s.isTextblock&&!s.hasMarkup(r,a)&&QO(n.doc,n.mapping.slice(o).map(l),r)){let c=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",d=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!d?c=!1:!p&&d&&(c=!0)}c===!1&&Ap(n,s,l,o),Ha(n,n.mapping.slice(o).map(l,1),r,void 0,c===null);let f=n.mapping.slice(o),u=f.map(l,1),h=f.map(l+s.nodeSize,1);return n.step(new Te(u,h,u+1,h-1,new I(N.from(r.create(a,null,s.marks)),0,0),1,!0)),c===!0&&Ep(n,s,l,o),!1}})}function Ep(n,e,t,r){e.forEach((i,o)=>{if(i.isText){let s,l=/\r?\n|\r/g;for(;s=l.exec(i.text);){let a=n.mapping.slice(r).map(t+1+o+s.index);n.replaceWith(a,a+1,e.type.schema.linebreakReplacement.create())}}})}function Ap(n,e,t,r){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let s=n.mapping.slice(r).map(t+1+o);n.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function QO(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function XO(n,e,t,r,i){let o=n.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);let s=t.create(r,null,i||o.marks);if(o.isLeaf)return n.replaceWith(e,e+o.nodeSize,s);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new Te(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new I(N.from(s),0,0),1,!0))}function Rr(n,e,t=1,r){let i=n.resolve(e),o=i.depth-t,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,f=t-2;c>o;c--,f--){let u=i.node(c),h=i.index(c);if(u.type.spec.isolating)return!1;let p=u.content.cutByIndex(h,u.childCount),d=r&&r[f+1];d&&(p=p.replaceChild(0,d.type.create(d.attrs)));let g=r&&r[f]||u;if(!u.canReplace(h+1,u.childCount)||!g.type.validContent(p))return!1}let l=i.indexAfter(o),a=r&&r[0];return i.node(o).canReplaceWith(l,l,a?a.type:i.node(o+1).type)}function YO(n,e,t=1,r){let i=n.doc.resolve(e),o=N.empty,s=N.empty;for(let l=i.depth,a=i.depth-t,c=t-1;l>a;l--,c--){o=N.from(i.node(l).copy(o));let f=r&&r[c];s=N.from(f?f.type.create(f.attrs,s):i.node(l).copy(s))}n.step(new Ae(e,e,new I(o.append(s),t,t),!0))}function ii(n,e){let t=n.resolve(e),r=t.index();return Cp(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function ZO(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),s=o.type==r?n.type.schema.nodes.text:o.type;if(t=t.matchType(s),!t||!n.type.allowsMarks(o.marks))return!1}return t.validEnd}function Cp(n,e){return!!(n&&e&&!n.isLeaf&&ZO(n,e))}function kp(n,e,t=-1){let r=n.resolve(e);for(let i=r.depth;;i--){let o,s,l=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):t>0?(o=r.node(i+1),l++,s=r.node(i).maybeChild(l)):(o=r.node(i).maybeChild(l-1),s=r.node(i+1)),o&&!o.isTextblock&&Cp(o,s)&&r.node(i).canReplace(l,l+1))return e;if(i==0)break;e=t<0?r.before(i):r.after(i)}}function ev(n,e,t){let r=null,{linebreakReplacement:i}=n.doc.type.schema,o=n.doc.resolve(e-t),s=o.node().type;if(i&&s.inlineContent){let f=s.whitespace=="pre",u=!!s.contentMatch.matchType(i);f&&!u?r=!1:!f&&u&&(r=!0)}let l=n.steps.length;if(r===!1){let f=n.doc.resolve(e+t);Ap(n,f.node(),f.before(),l)}s.inlineContent&&Ha(n,e+t-1,s,o.node().contentMatchAt(o.index()),r==null);let a=n.mapping.slice(l),c=a.map(e-t);if(n.step(new Ae(c,a.map(e+t,-1),I.empty,!0)),r===!0){let f=n.doc.resolve(c);Ep(n,f.node(),f.before(),n.steps.length)}return n}function tv(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,t))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,t))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function Tp(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let o=0;o<t.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(t.openStart==0&&t.size?2:1);o++)for(let s=r.depth;s>=0;s--){let l=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,a=r.index(s)+(l>0?1:0),c=r.node(s),f=!1;if(o==1)f=c.canReplace(a,a,i);else{let u=c.contentMatchAt(a).findWrapping(i.firstChild.type);f=u&&c.canReplaceWith(a,a,u[0])}if(f)return l==0?r.pos:l<0?r.before(s+1):r.after(s+1)}return null}function jo(n,e,t=e,r=I.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),o=n.resolve(t);return Rp(i,o,r)?new Ae(e,t,r):new nv(i,o,r).fit()}function Rp(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class nv{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=N.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=N.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,l=i.depth;for(;s&&l&&o.childCount==1;)o=o.firstChild.content,s--,l--;let a=new I(o,s,l);return e>-1?new Te(r.pos,e,this.$to.pos,this.$to.end(),a,t):a.size||r.pos!=this.$to.pos?new Ae(r.pos,i.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=t.firstChild;if(t.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}t=o.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=hl(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:a,match:c}=this.frontier[l],f,u=null;if(t==1&&(s?c.matchType(s.type)||(u=c.fillBefore(N.from(s),!1)):o&&a.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:l,parent:o,inject:u};if(t==2&&s&&(f=c.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:l,parent:o,wrap:f};if(o&&c.matchType(o.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=hl(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new I(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=hl(e,t);if(i.childCount<=1&&t>0){let o=e.size-t<=t+i.size;this.unplaced=new I(Sr(e,t-1,1),t-1,o?t-1:r)}else this.unplaced=new I(Sr(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let g=0;g<o.length;g++)this.openFrontierNode(o[g]);let s=this.unplaced,l=r?r.content:s.content,a=s.openStart-e,c=0,f=[],{match:u,type:h}=this.frontier[t];if(i){for(let g=0;g<i.childCount;g++)f.push(i.child(g));u=u.matchFragment(i)}let p=l.size+e-(s.content.size-s.openEnd);for(;c<l.childCount;){let g=l.child(c),m=u.matchType(g.type);if(!m)break;c++,(c>1||a==0||g.content.size)&&(u=m,f.push(Np(g.mark(h.allowedMarks(g.marks)),c==1?a:0,c==l.childCount?p:-1)))}let d=c==l.childCount;d||(p=-1),this.placed=Or(this.placed,t,N.from(f)),this.frontier[t].match=u,d&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,m=l;g<p;g++){let y=m.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),m=y.content}this.unplaced=d?e==0?I.empty:new I(Sr(s.content,e-1,1),e-1,p<0?s.openEnd:e-1):new I(Sr(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!pl(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),s=pl(e,t,i,r,o);if(s){for(let l=t-1;l>=0;l--){let{match:a,type:c}=this.frontier[l],f=pl(e,l,c,a,!0);if(!f||f.childCount)continue e}return{depth:t,fit:s,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Or(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Or(this.placed,this.depth,N.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(N.empty,!0);t.childCount&&(this.placed=Or(this.placed,this.frontier.length,t))}}function Sr(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(Sr(n.firstChild.content,e-1,t)))}function Or(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Or(n.lastChild.content,e-1,t)))}function hl(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function Np(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,Np(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(N.empty,!0)))),n.copy(r)}function pl(n,e,t,r,i){let o=n.node(e),s=i?n.indexAfter(e):n.index(e);if(s==o.childCount&&!t.compatibleContent(o.type))return null;let l=r.fillBefore(o.content,!0,s);return l&&!rv(t,o.content,s)?l:null}function rv(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function iv(n){return n.spec.defining||n.spec.definingForContent}function ov(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),o=n.doc.resolve(t);if(Rp(i,o,r))return n.step(new Ae(e,t,r));let s=Dp(i,o);s[s.length-1]==0&&s.pop();let l=-(i.depth+1);s.unshift(l);for(let h=i.depth,p=i.pos-1;h>0;h--,p--){let d=i.node(h).type.spec;if(d.defining||d.definingAsContext||d.isolating)break;s.indexOf(h)>-1?l=h:i.before(h)==p&&s.splice(1,0,-h)}let a=s.indexOf(l),c=[],f=r.openStart;for(let h=r.content,p=0;;p++){let d=h.firstChild;if(c.push(d),p==r.openStart)break;h=d.content}for(let h=f-1;h>=0;h--){let p=c[h],d=iv(p.type);if(d&&!p.sameMarkup(i.node(Math.abs(l)-1)))f=h;else if(d||!p.type.isTextblock)break}for(let h=r.openStart;h>=0;h--){let p=(h+f+1)%(r.openStart+1),d=c[p];if(d)for(let g=0;g<s.length;g++){let m=s[(g+a)%s.length],y=!0;m<0&&(y=!1,m=-m);let b=i.node(m-1),w=i.index(m-1);if(b.canReplaceWith(w,w,d.type,d.marks))return n.replace(i.before(m),y?o.after(m):t,new I(Mp(r.content,0,r.openStart,p),p,r.openEnd))}}let u=n.steps.length;for(let h=s.length-1;h>=0&&(n.replace(e,t,r),!(n.steps.length>u));h--){let p=s[h];p<0||(e=i.before(p),t=o.after(p))}}function Mp(n,e,t,r,i){if(e<t){let o=n.firstChild;n=n.replaceChild(0,o.copy(Mp(o.content,e+1,t,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(n).append(n);n=s.append(o.matchFragment(s).fillBefore(N.empty,!0))}return n}function sv(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=tv(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new I(N.from(r),0,0))}function lv(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),o=Dp(r,i);for(let s=0;s<o.length;s++){let l=o[s],a=s==o.length-1;if(a&&l==0||r.node(l).type.contentMatch.validEnd)return n.delete(r.start(l),i.end(l));if(l>0&&(a||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return n.delete(r.before(l),i.after(l))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&t>r.end(s)&&i.end(s)-t!=i.depth-s&&r.start(s-1)==i.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),i.index(s-1)))return n.delete(r.before(s),t);n.delete(e,t)}function Dp(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let o=n.start(i);if(o<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&t.push(i)}return t}class Gn extends Le{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return he.fail("No node at attribute step's position");let r=Object.create(null);for(let o in t.attrs)r[o]=t.attrs[o];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return he.fromReplace(e,this.pos,this.pos+1,new I(N.from(i),0,t.isLeaf?0:1))}getMap(){return Ke.empty}invert(e){return new Gn(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Gn(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Gn(t.pos,t.attr,t.value)}}Le.jsonID("attr",Gn);class Wr extends Le{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return he.ok(r)}getMap(){return Ke.empty}invert(e){return new Wr(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Wr(t.attr,t.value)}}Le.jsonID("docAttr",Wr);let tr=class extends Error{};tr=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};tr.prototype=Object.create(Error.prototype);tr.prototype.constructor=tr;tr.prototype.name="TransformError";class av{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Hr}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new tr(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=I.empty){let i=jo(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new I(N.from(r),0,0))}delete(e,t){return this.replace(e,t,I.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return ov(this,e,t,r),this}replaceRangeWith(e,t,r){return sv(this,e,t,r),this}deleteRange(e,t){return lv(this,e,t),this}lift(e,t){return HO(this,e,t),this}join(e,t=1){return ev(this,e,t),this}wrap(e,t){return JO(this,e,t),this}setBlockType(e,t=e,r,i=null){return GO(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i){return XO(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new Gn(e,t,r)),this}setDocAttribute(e,t){return this.step(new Wr(e,t)),this}addNodeMark(e,t){return this.step(new en(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof Z)t.isInSet(r.marks)&&this.step(new Nn(e,t));else{let i=r.marks,o,s=[];for(;o=t.isInSet(i);)s.push(new Nn(e,o)),i=o.removeFromSet(i);for(let l=s.length-1;l>=0;l--)this.step(s[l])}return this}split(e,t=1,r){return YO(this,e,t,r),this}addMark(e,t,r){return VO(this,e,t,r),this}removeMark(e,t,r){return UO(this,e,t,r),this}clearIncompatible(e,t,r){return Ha(this,e,t,r),this}}const ml=Object.create(null);class G{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new cv(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=I.empty){let r=t.content.lastChild,i=null;for(let l=0;l<t.openEnd;l++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let l=0;l<s.length;l++){let{$from:a,$to:c}=s[l],f=e.mapping.slice(o);e.replaceRange(f.map(a.pos),f.map(c.pos),l?I.empty:t),l==0&&$u(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:l}=i[o],a=e.mapping.slice(r),c=a.map(s.pos),f=a.map(l.pos);o?e.deleteRange(c,f):(e.replaceRangeWith(c,f,t),$u(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new Y(e):Hn(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=t<0?Hn(e.node(0),e.node(o),e.before(o+1),e.index(o),t,r):Hn(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,r);if(s)return s}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new nt(e.node(0))}static atStart(e){return Hn(e,e,0,0,1)||new nt(e)}static atEnd(e){return Hn(e,e,e.content.size,e.childCount,-1)||new nt(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=ml[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in ml)throw new RangeError("Duplicate use of selection JSON ID "+e);return ml[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Y.between(this.$anchor,this.$head).getBookmark()}}G.prototype.visible=!0;class cv{constructor(e,t){this.$from=e,this.$to=t}}let Lu=!1;function Fu(n){!Lu&&!n.parent.inlineContent&&(Lu=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class Y extends G{constructor(e,t=e){Fu(e),Fu(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return G.near(r);let i=e.resolve(t.map(this.anchor));return new Y(i.parent.inlineContent?i:r,r)}replace(e,t=I.empty){if(super.replace(e,t),t==I.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Y&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Vo(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Y(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let o=G.findFrom(t,r,!0)||G.findFrom(t,-r,!0);if(o)t=o.$head;else return G.near(t,r)}return e.parent.inlineContent||(i==0?e=t:(e=(G.findFrom(e,-r,!0)||G.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new Y(e,t)}}G.jsonID("text",Y);class Vo{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Vo(e.map(this.anchor),e.map(this.head))}resolve(e){return Y.between(e.resolve(this.anchor),e.resolve(this.head))}}class _ extends G{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),o=e.resolve(i);return r?G.near(o):new _(o)}content(){return new I(N.from(this.node),0,0)}eq(e){return e instanceof _&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Wa(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new _(e.resolve(t.anchor))}static create(e,t){return new _(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}_.prototype.visible=!1;G.jsonID("node",_);class Wa{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new Vo(r,r):new Wa(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&_.isSelectable(r)?new _(t):G.near(t)}}class nt extends G{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=I.empty){if(t==I.empty){e.delete(0,e.doc.content.size);let r=G.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new nt(e)}map(e){return new nt(e)}eq(e){return e instanceof nt}getBookmark(){return fv}}G.jsonID("all",nt);const fv={map(){return this},resolve(n){return new nt(n)}};function Hn(n,e,t,r,i,o=!1){if(e.inlineContent)return Y.create(n,t);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let l=e.child(s);if(l.isAtom){if(!o&&_.isSelectable(l))return _.create(n,t-(i<0?l.nodeSize:0))}else{let a=Hn(n,l,t+i,i<0?l.childCount:0,i,o);if(a)return a}t+=l.nodeSize*i}return null}function $u(n,e,t){let r=n.steps.length-1;if(r<e)return;let i=n.steps[r];if(!(i instanceof Ae||i instanceof Te))return;let o=n.mapping.maps[r],s;o.forEach((l,a,c,f)=>{s==null&&(s=f)}),n.setSelection(G.near(n.doc.resolve(s),t))}const Bu=1,xi=2,zu=4;class uv extends av{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Bu)&~xi,this.storedMarks=null,this}get selectionSet(){return(this.updated&Bu)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=xi,this}ensureMarks(e){return Z.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&xi)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~xi,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Z.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),!e)return this.deleteRange(t,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(t);o=r==t?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,i.text(e,o)),!this.selection.empty&&this.selection.to==t+e.length&&this.setSelection(G.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=zu,this}get scrolledIntoView(){return(this.updated&zu)>0}}function _u(n,e){return!e||!n?n:n.bind(e)}class vr{constructor(e,t,r){this.name=e,this.init=_u(t.init,r),this.apply=_u(t.apply,r)}}const dv=[new vr("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new vr("selection",{init(n,e){return n.selection||G.atStart(e.doc)},apply(n){return n.selection}}),new vr("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new vr("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class gl{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=dv.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new vr(r.key,r.spec.state,r))})}}class Er{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let l=this.config.plugins[s];if(l.spec.appendTransaction){let a=i?i[s].n:0,c=i?i[s].state:this,f=a<t.length&&l.spec.appendTransaction.call(l,a?t.slice(a):t,c,r);if(f&&r.filterTransaction(f,s)){if(f.setMeta("appendedTransaction",e),!i){i=[];for(let u=0;u<this.config.plugins.length;u++)i.push(u<s?{state:r,n:t.length}:{state:this,n:0})}t.push(f),r=r.applyInner(f),o=!0}i&&(i[s]={state:r,n:t.length})}}if(!o)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Er(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new uv(this)}static create(e){let t=new gl(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Er(t);for(let i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r}reconfigure(e){let t=new gl(this.schema,e.plugins),r=t.fields,i=new Er(t);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(t[r]=o.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new gl(e.schema,e.plugins),o=new Er(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=On.fromJSON(e.schema,t.doc);else if(s.name=="selection")o.selection=G.fromJSON(o.doc,t.selection);else if(s.name=="storedMarks")t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let a=r[l],c=a.spec.state;if(a.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(t,l)){o[s.name]=c.fromJSON.call(a,e,t[l],o);return}}o[s.name]=s.init(e,o)}}),o}}function Pp(n,e,t){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=Pp(i,e,{})),t[r]=i}return t}class Uo{constructor(e){this.spec=e,this.props={},e.props&&Pp(e.props,this,this.props),this.key=e.key?e.key.key:Ip("plugin")}getState(e){return e[this.key]}}const yl=Object.create(null);function Ip(n){return n in yl?n+"$"+ ++yl[n]:(yl[n]=0,n+"$")}class Lp{constructor(e="key"){this.key=Ip(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Fp=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function $p(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const hv=(n,e,t)=>{let r=$p(n,t);if(!r)return!1;let i=Ka(r);if(!i){let s=r.blockRange(),l=s&&ri(s);return l==null?!1:(e&&e(n.tr.lift(s,l).scrollIntoView()),!0)}let o=i.nodeBefore;if(_p(n,i,e,-1))return!0;if(r.parent.content.size==0&&(nr(o,"end")||_.isSelectable(o)))for(let s=r.depth;;s--){let l=jo(n.doc,r.before(s),r.after(s),I.empty);if(l&&l.slice.size<l.to-l.from){if(e){let a=n.tr.step(l);a.setSelection(nr(o,"end")?G.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):_.create(a.doc,i.pos-o.nodeSize)),e(a.scrollIntoView())}return!0}if(s==1||r.node(s-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},zC=(n,e,t)=>{let r=$p(n,t);if(!r)return!1;let i=Ka(r);return i?Bp(n,i,e):!1},_C=(n,e,t)=>{let r=zp(n,t);if(!r)return!1;let i=Ja(r);return i?Bp(n,i,e):!1};function Bp(n,e,t){let r=e.nodeBefore,i=r,o=e.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let f=i.lastChild;if(!f)return!1;i=f}let s=e.nodeAfter,l=s,a=e.pos+1;for(;!l.isTextblock;a++){if(l.type.spec.isolating)return!1;let f=l.firstChild;if(!f)return!1;l=f}let c=jo(n.doc,o,a,I.empty);if(!c||c.from!=o||c instanceof Ae&&c.slice.size>=a-o)return!1;if(t){let f=n.tr.step(c);f.setSelection(Y.create(f.doc,o)),t(f.scrollIntoView())}return!0}function nr(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const pv=(n,e,t)=>{let{$head:r,empty:i}=n.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;o=Ka(r)}let s=o&&o.nodeBefore;return!s||!_.isSelectable(s)?!1:(e&&e(n.tr.setSelection(_.create(n.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function Ka(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function zp(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const mv=(n,e,t)=>{let r=zp(n,t);if(!r)return!1;let i=Ja(r);if(!i)return!1;let o=i.nodeAfter;if(_p(n,i,e,1))return!0;if(r.parent.content.size==0&&(nr(o,"start")||_.isSelectable(o))){let s=jo(n.doc,r.before(),r.after(),I.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=n.tr.step(s);l.setSelection(nr(o,"start")?G.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):_.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},gv=(n,e,t)=>{let{$head:r,empty:i}=n.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;o=Ja(r)}let s=o&&o.nodeAfter;return!s||!_.isSelectable(s)?!1:(e&&e(n.tr.setSelection(_.create(n.doc,o.pos)).scrollIntoView()),!0)};function Ja(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const jC=(n,e)=>{let t=n.selection,r=t instanceof _,i;if(r){if(t.node.isTextblock||!ii(n.doc,t.from))return!1;i=t.from}else if(i=kp(n.doc,t.from,-1),i==null)return!1;if(e){let o=n.tr.join(i);r&&o.setSelection(_.create(o.doc,i-n.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},VC=(n,e)=>{let t=n.selection,r;if(t instanceof _){if(t.node.isTextblock||!ii(n.doc,t.to))return!1;r=t.to}else if(r=kp(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},UC=(n,e)=>{let{$from:t,$to:r}=n.selection,i=t.blockRange(r),o=i&&ri(i);return o==null?!1:(e&&e(n.tr.lift(i,o).scrollIntoView()),!0)},yv=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function Ga(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const qC=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),o=t.indexAfter(-1),s=Ga(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let l=t.after(),a=n.tr.replaceWith(l,l,s.createAndFill());a.setSelection(G.near(a.doc.resolve(l),1)),e(a.scrollIntoView())}return!0},bv=(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof nt||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=Ga(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=n.tr.insert(s,o.createAndFill());l.setSelection(Y.create(l.doc,s+1)),e(l.scrollIntoView())}return!0},wv=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let o=t.before();if(Rr(n.doc,o))return e&&e(n.tr.split(o).scrollIntoView()),!0}let r=t.blockRange(),i=r&&ri(r);return i==null?!1:(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)};function xv(n){return(e,t)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof _&&e.selection.node.isBlock)return!r.parentOffset||!Rr(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let o=[],s,l,a=!1,c=!1;for(let p=r.depth;;p--)if(r.node(p).isBlock){a=r.end(p)==r.pos+(r.depth-p),c=r.start(p)==r.pos-(r.depth-p),l=Ga(r.node(p-1).contentMatchAt(r.indexAfter(p-1))),o.unshift(a&&l?{type:l}:null),s=p;break}else{if(p==1)return!1;o.unshift(null)}let f=e.tr;(e.selection instanceof Y||e.selection instanceof nt)&&f.deleteSelection();let u=f.mapping.map(r.pos),h=Rr(f.doc,u,o.length,o);if(h||(o[0]=l?{type:l}:null,h=Rr(f.doc,u,o.length,o)),!h)return!1;if(f.split(u,o.length,o),!a&&c&&r.node(s).type!=l){let p=f.mapping.map(r.before(s)),d=f.doc.resolve(p);l&&r.node(s-1).canReplaceWith(d.index(),d.index()+1,l)&&f.setNodeMarkup(f.mapping.map(r.before(s)),l)}return t&&t(f.scrollIntoView()),!0}}const Sv=xv(),HC=(n,e)=>{let{$from:t,to:r}=n.selection,i,o=t.sharedDepth(r);return o==0?!1:(i=t.before(o),e&&e(n.tr.setSelection(_.create(n.doc,i))),!0)};function Ov(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||ii(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function _p(n,e,t,r){let i=e.nodeBefore,o=e.nodeAfter,s,l,a=i.type.spec.isolating||o.type.spec.isolating;if(!a&&Ov(n,e,t))return!0;let c=!a&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(s=(l=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&l.matchType(s[0]||o.type).validEnd){if(t){let p=e.pos+o.nodeSize,d=N.empty;for(let y=s.length-1;y>=0;y--)d=N.from(s[y].create(null,d));d=N.from(i.copy(d));let g=n.tr.step(new Te(e.pos-1,p,e.pos,p,new I(d,1,0),s.length,!0)),m=g.doc.resolve(p+2*s.length);m.nodeAfter&&m.nodeAfter.type==i.type&&ii(g.doc,m.pos)&&g.join(m.pos),t(g.scrollIntoView())}return!0}let f=o.type.spec.isolating||r>0&&a?null:G.findFrom(e,1),u=f&&f.$from.blockRange(f.$to),h=u&&ri(u);if(h!=null&&h>=e.depth)return t&&t(n.tr.lift(u,h).scrollIntoView()),!0;if(c&&nr(o,"start",!0)&&nr(i,"end")){let p=i,d=[];for(;d.push(p),!p.isTextblock;)p=p.lastChild;let g=o,m=1;for(;!g.isTextblock;g=g.firstChild)m++;if(p.canReplace(p.childCount,p.childCount,g.content)){if(t){let y=N.empty;for(let w=d.length-1;w>=0;w--)y=N.from(d[w].copy(y));let b=n.tr.step(new Te(e.pos-d.length,e.pos+o.nodeSize,e.pos+m,e.pos+o.nodeSize-m,new I(y,d.length,0),0,!0));t(b.scrollIntoView())}return!0}}return!1}function jp(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(t&&t(e.tr.setSelection(Y.create(e.doc,n<0?i.start(o):i.end(o)))),!0):!1}}const WC=jp(-1),KC=jp(1);function JC(n,e=null){return function(t,r){let{$from:i,$to:o}=t.selection,s=i.blockRange(o),l=s&&vp(s,n,e);return l?(r&&r(t.tr.wrap(s,l).scrollIntoView()),!0):!1}}function GC(n,e=null){return function(t,r){let i=!1;for(let o=0;o<t.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:l}}=t.selection.ranges[o];t.doc.nodesBetween(s,l,(a,c)=>{if(i)return!1;if(!(!a.isTextblock||a.hasMarkup(n,e)))if(a.type==n)i=!0;else{let f=t.doc.resolve(c),u=f.index();i=f.parent.canReplaceWith(u,u+1,n)}})}if(!i)return!1;if(r){let o=t.tr;for(let s=0;s<t.selection.ranges.length;s++){let{$from:{pos:l},$to:{pos:a}}=t.selection.ranges[s];o.setBlockType(l,a,n,e)}r(o.scrollIntoView())}return!0}}function Qa(...n){return function(e,t,r){for(let i=0;i<n.length;i++)if(n[i](e,t,r))return!0;return!1}}Qa(Fp,hv,pv);Qa(Fp,mv,gv);Qa(yv,bv,wv,Sv);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function QC(n,e=null){return function(t,r){let{$from:i,$to:o}=t.selection,s=i.blockRange(o);if(!s)return!1;let l=r?t.tr:null;return vv(l,s,n,e)?(r&&r(l.scrollIntoView()),!0):!1}}function vv(n,e,t,r=null){let i=!1,o=e,s=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let a=s.resolve(e.start-2);o=new qi(a,a,e.depth),e.endIndex<e.parent.childCount&&(e=new qi(e.$from,s.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let l=vp(o,t,r,e);return l?(n&&Ev(n,e,l,i,t),!0):!1}function Ev(n,e,t,r,i){let o=N.empty;for(let f=t.length-1;f>=0;f--)o=N.from(t[f].type.create(t[f].attrs,o));n.step(new Te(e.start-(r?2:0),e.end,e.start,e.end,new I(o,0,0),t.length,!0));let s=0;for(let f=0;f<t.length;f++)t[f].type==i&&(s=f+1);let l=t.length-s,a=e.start+t.length-(r?2:0),c=e.parent;for(let f=e.startIndex,u=e.endIndex,h=!0;f<u;f++,h=!1)!h&&Rr(n.doc,a,l)&&(n.split(a,l),a+=2*l),a+=c.child(f).nodeSize;return n}function XC(n){return function(e,t){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==n);return o?t?r.node(o.depth-1).type==n?Av(e,t,n,o):Cv(e,t,o):!0:!1}}function Av(n,e,t,r){let i=n.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new Te(o-1,s,o,s,new I(N.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new qi(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const l=ri(r);if(l==null)return!1;i.lift(r,l);let a=i.doc.resolve(i.mapping.map(o,-1)-1);return ii(i.doc,a.pos)&&a.nodeBefore.type==a.nodeAfter.type&&i.join(a.pos),e(i.scrollIntoView()),!0}function Cv(n,e,t){let r=n.tr,i=t.parent;for(let p=t.end,d=t.endIndex-1,g=t.startIndex;d>g;d--)p-=i.child(d).nodeSize,r.delete(p-1,p+1);let o=r.doc.resolve(t.start),s=o.nodeAfter;if(r.mapping.map(t.end)!=t.start+o.nodeAfter.nodeSize)return!1;let l=t.startIndex==0,a=t.endIndex==i.childCount,c=o.node(-1),f=o.index(-1);if(!c.canReplace(f+(l?0:1),f+1,s.content.append(a?N.empty:N.from(i))))return!1;let u=o.pos,h=u+s.nodeSize;return r.step(new Te(u-(l?1:0),h+(a?1:0),u+1,h-1,new I((l?N.empty:N.from(i.copy(N.empty))).append(a?N.empty:N.from(i.copy(N.empty))),l?0:1,a?0:1),l?0:1)),e(r.scrollIntoView()),!0}function YC(n){return function(e,t){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==n);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let l=o.parent,a=l.child(s-1);if(a.type!=n)return!1;if(t){let c=a.lastChild&&a.lastChild.type==l.type,f=N.from(c?n.create():null),u=new I(N.from(n.create(null,N.from(l.type.create(null,f)))),c?3:1,0),h=o.start,p=o.end;t(e.tr.step(new Te(h-(c?3:1),p,h,p,u,1,!0)).scrollIntoView())}return!0}}const Ce=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},rr=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let ia=null;const Pt=function(n,e,t){let r=ia||(ia=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},kv=function(){ia=null},Mn=function(n,e,t,r){return t&&(ju(n,e,t,r,-1)||ju(n,e,t,r,1))},Tv=/^(img|br|input|textarea|hr)$/i;function ju(n,e,t,r,i){for(var o;;){if(n==t&&e==r)return!0;if(e==(i<0?0:et(n))){let s=n.parentNode;if(!s||s.nodeType!=1||oi(n)||Tv.test(n.nodeName)||n.contentEditable=="false")return!1;e=Ce(n)+(i<0?0:1),n=s}else if(n.nodeType==1){let s=n.childNodes[e+(i<0?-1:0)];if(s.nodeType==1&&s.contentEditable=="false")if(!((o=s.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)e+=i;else return!1;else n=s,e=i<0?et(n):0}else return!1}}function et(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Rv(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=et(n)}else if(n.parentNode&&!oi(n))e=Ce(n),n=n.parentNode;else return null}}function Nv(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!oi(n))e=Ce(n)+1,n=n.parentNode;else return null}}function Mv(n,e,t){for(let r=e==0,i=e==et(n);r||i;){if(n==t)return!0;let o=Ce(n);if(n=n.parentNode,!n)return!1;r=r&&o==0,i=i&&o==et(n)}}function oi(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const qo=function(n){return n.focusNode&&Mn(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function pn(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function Dv(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Pv(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(et(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(et(r.startContainer),r.startOffset)}}}const Et=typeof navigator<"u"?navigator:null,Vu=typeof document<"u"?document:null,fn=Et&&Et.userAgent||"",oa=/Edge\/(\d+)/.exec(fn),Vp=/MSIE \d/.exec(fn),sa=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(fn),Ue=!!(Vp||sa||oa),nn=Vp?document.documentMode:sa?+sa[1]:oa?+oa[1]:0,rt=!Ue&&/gecko\/(\d+)/i.test(fn);rt&&+(/Firefox\/(\d+)/.exec(fn)||[0,0])[1];const la=!Ue&&/Chrome\/(\d+)/.exec(fn),Se=!!la,Up=la?+la[1]:0,Re=!Ue&&!!Et&&/Apple Computer/.test(Et.vendor),ir=Re&&(/Mobile\/\w+/.test(fn)||!!Et&&Et.maxTouchPoints>2),Ze=ir||(Et?/Mac/.test(Et.platform):!1),qp=Et?/Win/.test(Et.platform):!1,It=/Android \d/.test(fn),si=!!Vu&&"webkitFontSmoothing"in Vu.documentElement.style,Iv=si?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Lv(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function Rt(n,e){return typeof n=="number"?n:n[e]}function Fv(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function Uu(n,e,t){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,o=n.dom.ownerDocument;for(let s=t||n.dom;s;){if(s.nodeType!=1){s=rr(s);continue}let l=s,a=l==o.body,c=a?Lv(o):Fv(l),f=0,u=0;if(e.top<c.top+Rt(r,"top")?u=-(c.top-e.top+Rt(i,"top")):e.bottom>c.bottom-Rt(r,"bottom")&&(u=e.bottom-e.top>c.bottom-c.top?e.top+Rt(i,"top")-c.top:e.bottom-c.bottom+Rt(i,"bottom")),e.left<c.left+Rt(r,"left")?f=-(c.left-e.left+Rt(i,"left")):e.right>c.right-Rt(r,"right")&&(f=e.right-c.right+Rt(i,"right")),f||u)if(a)o.defaultView.scrollBy(f,u);else{let p=l.scrollLeft,d=l.scrollTop;u&&(l.scrollTop+=u),f&&(l.scrollLeft+=f);let g=l.scrollLeft-p,m=l.scrollTop-d;e={left:e.left-g,top:e.top-m,right:e.right-g,bottom:e.bottom-m}}let h=a?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(h))break;s=h=="absolute"?s.offsetParent:rr(s)}}function $v(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,s=t+1;s<Math.min(innerHeight,e.bottom);s+=5){let l=n.root.elementFromPoint(o,s);if(!l||l==n.dom||!n.dom.contains(l))continue;let a=l.getBoundingClientRect();if(a.top>=t-20){r=l,i=a.top;break}}return{refDOM:r,refTop:i,stack:Hp(n.dom)}}function Hp(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=rr(r));return e}function Bv({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;Wp(t,r==0?0:r-e)}function Wp(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:i,left:o}=n[t];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Un=null;function zv(n){if(n.setActive)return n.setActive();if(Un)return n.focus(Un);let e=Hp(n);n.focus(Un==null?{get preventScroll(){return Un={preventScroll:!0},!0}}:void 0),Un||(Un=!1,Wp(e,0))}function Kp(n,e){let t,r=2e8,i,o=0,s=e.top,l=e.top,a,c;for(let f=n.firstChild,u=0;f;f=f.nextSibling,u++){let h;if(f.nodeType==1)h=f.getClientRects();else if(f.nodeType==3)h=Pt(f).getClientRects();else continue;for(let p=0;p<h.length;p++){let d=h[p];if(d.top<=s&&d.bottom>=l){s=Math.max(d.bottom,s),l=Math.min(d.top,l);let g=d.left>e.left?d.left-e.left:d.right<e.left?e.left-d.right:0;if(g<r){t=f,r=g,i=g&&t.nodeType==3?{left:d.right<e.left?d.right:d.left,top:e.top}:e,f.nodeType==1&&g&&(o=u+(e.left>=(d.left+d.right)/2?1:0));continue}}else d.top>e.top&&!a&&d.left<=e.left&&d.right>=e.left&&(a=f,c={left:Math.max(d.left,Math.min(d.right,e.left)),top:d.top});!t&&(e.left>=d.right&&e.top>=d.top||e.left>=d.left&&e.top>=d.bottom)&&(o=u+1)}}return!t&&a&&(t=a,i=c,r=0),t&&t.nodeType==3?_v(t,i):!t||r&&t.nodeType==1?{node:n,offset:o}:Kp(t,i)}function _v(n,e){let t=n.nodeValue.length,r=document.createRange(),i;for(let o=0;o<t;o++){r.setEnd(n,o+1),r.setStart(n,o);let s=Kt(r,1);if(s.top!=s.bottom&&Xa(e,s)){i={node:n,offset:o+(e.left>=(s.left+s.right)/2?1:0)};break}}return r.detach(),i||{node:n,offset:0}}function Xa(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function jv(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function Vv(n,e,t){let{node:r,offset:i}=Kp(e,t),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&t.left>(s.left+s.right)/2?1:-1}return n.docView.posFromDOM(r,i,o)}function Uv(n,e,t,r){let i=-1;for(let o=e,s=!1;o!=n.dom;){let l=n.docView.nearestDesc(o,!0),a;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((a=l.dom.getBoundingClientRect()).width||a.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!s&&a.left>r.left||a.top>r.top?i=l.posBefore:(!s&&a.right<r.left||a.bottom<r.top)&&(i=l.posAfter),s=!0),!l.contentDOM&&i<0&&!l.node.isText))return(l.node.isBlock?r.top<(a.top+a.bottom)/2:r.left<(a.left+a.right)/2)?l.posBefore:l.posAfter;o=l.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,-1)}function Jp(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),o=i;;){let s=n.childNodes[o];if(s.nodeType==1){let l=s.getClientRects();for(let a=0;a<l.length;a++){let c=l[a];if(Xa(e,c))return Jp(s,e,c)}}if((o=(o+1)%r)==i)break}return n}function qv(n,e){let t=n.dom.ownerDocument,r,i=0,o=Pv(t,e.left,e.top);o&&({node:r,offset:i}=o);let s=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),l;if(!s||!n.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=n.dom.getBoundingClientRect();if(!Xa(e,c)||(s=Jp(n.dom,e,c),!s))return null}if(Re)for(let c=s;r&&c;c=rr(c))c.draggable&&(r=void 0);if(s=jv(s,e),r){if(rt&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let f=r.childNodes[i],u;f.nodeName=="IMG"&&(u=f.getBoundingClientRect()).right<=e.left&&u.bottom>e.top&&i++}let c;si&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==n.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=n.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(l=Uv(n,r,i,e))}l==null&&(l=Vv(n,s,e));let a=n.docView.nearestDesc(s,!0);return{pos:l,inside:a?a.posAtStart-a.border:-1}}function qu(n){return n.top<n.bottom||n.left<n.right}function Kt(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(qu(r))return r}return Array.prototype.find.call(t,qu)||n.getBoundingClientRect()}const Hv=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Gp(n,e,t){let{node:r,offset:i,atom:o}=n.docView.domFromPos(e,t<0?-1:1),s=si||rt;if(r.nodeType==3)if(s&&(Hv.test(r.nodeValue)||(t<0?!i:i==r.nodeValue.length))){let a=Kt(Pt(r,i,i),t);if(rt&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=Kt(Pt(r,i-1,i-1),-1);if(c.top==a.top){let f=Kt(Pt(r,i,i+1),-1);if(f.top!=a.top)return wr(f,f.left<c.left)}}return a}else{let a=i,c=i,f=t<0?1:-1;return t<0&&!i?(c++,f=-1):t>=0&&i==r.nodeValue.length?(a--,f=1):t<0?a--:c++,wr(Kt(Pt(r,a,c),f),f<0)}if(!n.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(t<0||i==et(r))){let a=r.childNodes[i-1];if(a.nodeType==1)return bl(a.getBoundingClientRect(),!1)}if(o==null&&i<et(r)){let a=r.childNodes[i];if(a.nodeType==1)return bl(a.getBoundingClientRect(),!0)}return bl(r.getBoundingClientRect(),t>=0)}if(o==null&&i&&(t<0||i==et(r))){let a=r.childNodes[i-1],c=a.nodeType==3?Pt(a,et(a)-(s?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(c)return wr(Kt(c,1),!1)}if(o==null&&i<et(r)){let a=r.childNodes[i];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let c=a?a.nodeType==3?Pt(a,0,s?0:1):a.nodeType==1?a:null:null;if(c)return wr(Kt(c,-1),!0)}return wr(Kt(r.nodeType==3?Pt(r):r,-t),t>=0)}function wr(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function bl(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function Qp(n,e,t){let r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}function Wv(n,e,t){let r=e.selection,i=t=="up"?r.$from:r.$to;return Qp(n,e,()=>{let{node:o}=n.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let l=n.docView.nearestDesc(o,!0);if(!l)break;if(l.node.isBlock){o=l.contentDOM||l.dom;break}o=l.dom.parentNode}let s=Gp(n,i.pos,1);for(let l=o.firstChild;l;l=l.nextSibling){let a;if(l.nodeType==1)a=l.getClientRects();else if(l.nodeType==3)a=Pt(l,0,l.nodeValue.length).getClientRects();else continue;for(let c=0;c<a.length;c++){let f=a[c];if(f.bottom>f.top+1&&(t=="up"?s.top-f.top>(f.bottom-s.top)*2:f.bottom-s.bottom>(s.bottom-f.top)*2))return!1}}return!0})}const Kv=/[\u0590-\u08ac]/;function Jv(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,l=n.domSelection();return l?!Kv.test(r.parent.textContent)||!l.modify?t=="left"||t=="backward"?o:s:Qp(n,e,()=>{let{focusNode:a,focusOffset:c,anchorNode:f,anchorOffset:u}=n.domSelectionRange(),h=l.caretBidiLevel;l.modify("move",t,"character");let p=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:d,focusOffset:g}=n.domSelectionRange(),m=d&&!p.contains(d.nodeType==1?d:d.parentNode)||a==d&&c==g;try{l.collapse(f,u),a&&(a!=f||c!=u)&&l.extend&&l.extend(a,c)}catch{}return h!=null&&(l.caretBidiLevel=h),m}):r.pos==r.start()||r.pos==r.end()}let Hu=null,Wu=null,Ku=!1;function Gv(n,e,t){return Hu==e&&Wu==t?Ku:(Hu=e,Wu=t,Ku=t=="up"||t=="down"?Wv(n,e,t):Jv(n,e,t))}const it=0,Ju=1,gn=2,At=3;class li{constructor(e,t,r,i){this.parent=e,this.children=t,this.dom=r,this.contentDOM=i,this.dirty=it,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let i=this.children[t];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>Ce(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!t||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return o}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let i=this.children[t],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)for(let s=0;s<i.children.length;s++){let l=i.children[s];if(l.size){i=l;break}}return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],l=o+s.size;if(l>e||s instanceof Yp){i=e-o;break}o=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof Xp&&o.side>=0;r--);if(t<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&t&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,t):{node:this.contentDOM,offset:o?Ce(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,t):{node:this.contentDOM,offset:o?Ce(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,l=0;;l++){let a=this.children[l],c=s+a.size;if(i==-1&&e<=c){let f=s+a.border;if(e>=f&&t<=c-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,t,f);e=s;for(let u=l;u>0;u--){let h=this.children[u-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){i=Ce(h.dom)+1;break}e-=h.size}i==-1&&(i=0)}if(i>-1&&(c>t||l==this.children.length-1)){t=c;for(let f=l+1;f<this.children.length;f++){let u=this.children[f];if(u.size&&u.dom.parentNode==this.contentDOM&&!u.emptyChildAt(-1)){o=Ce(u.dom);break}t+=u.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,i=!1){let o=Math.min(e,t),s=Math.max(e,t);for(let p=0,d=0;p<this.children.length;p++){let g=this.children[p],m=d+g.size;if(o>d&&s<m)return g.setSelection(e-d-g.border,t-d-g.border,r,i);d=m}let l=this.domFromPos(e,e?-1:1),a=t==e?l:this.domFromPos(t,t?-1:1),c=r.root.getSelection(),f=r.domSelectionRange(),u=!1;if((rt||Re)&&e==t){let{node:p,offset:d}=l;if(p.nodeType==3){if(u=!!(d&&p.nodeValue[d-1]==`
`),u&&d==p.nodeValue.length)for(let g=p,m;g;g=g.parentNode){if(m=g.nextSibling){m.nodeName=="BR"&&(l=a={node:m.parentNode,offset:Ce(m)+1});break}let y=g.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{let g=p.childNodes[d-1];u=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(rt&&f.focusNode&&f.focusNode!=a.node&&f.focusNode.nodeType==1){let p=f.focusNode.childNodes[f.focusOffset];p&&p.contentEditable=="false"&&(i=!0)}if(!(i||u&&Re)&&Mn(l.node,l.offset,f.anchorNode,f.anchorOffset)&&Mn(a.node,a.offset,f.focusNode,f.focusOffset))return;let h=!1;if((c.extend||e==t)&&!(u&&rt)){c.collapse(l.node,l.offset);try{e!=t&&c.extend(a.node,a.offset),h=!0}catch{}}if(!h){if(e>t){let d=l;l=a,a=d}let p=document.createRange();p.setEnd(a.node,a.offset),p.setStart(l.node,l.offset),c.removeAllRanges(),c.addRange(p)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&t>=r:e<s&&t>r){let l=r+o.border,a=s-o.border;if(e>=l&&t<=a){this.dirty=e==r||t==s?gn:Ju,e==l&&t==a&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=At:o.markDirty(e-l,t-l);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?gn:At}r=s}this.dirty=gn}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?gn:Ju;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class Xp extends li{constructor(e,t,r,i){let o,s=t.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!t.type.spec.raw){if(s.nodeType!=1){let l=document.createElement("span");l.appendChild(s),s=l}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return this.dirty==it&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Qv extends li{constructor(e,t,r,i){super(e,[],t,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Dn extends li{constructor(e,t,r,i,o){super(e,[],r,i),this.mark=t,this.spec=o}static create(e,t,r,i){let o=i.nodeViews[t.type.name],s=o&&o(t,i,r);return(!s||!s.dom)&&(s=hr.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new Dn(e,t,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&At||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=At&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=it){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=it}}slice(e,t,r){let i=Dn.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;t<s&&(o=ca(o,t,s,r)),e>0&&(o=ca(o,0,e,r));for(let l=0;l<o.length;l++)o[l].parent=i;return i.children=o,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class rn extends li{constructor(e,t,r,i,o,s,l,a,c){super(e,[],o,s),this.node=t,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l}static create(e,t,r,i,o,s){let l=o.nodeViews[t.type.name],a,c=l&&l(t,o,()=>{if(!a)return s;if(a.parent)return a.parent.posBeforeChild(a)},r,i),f=c&&c.dom,u=c&&c.contentDOM;if(t.isText){if(!f)f=document.createTextNode(t.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:u}=hr.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!u&&!t.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),t.type.spec.draggable&&(f.draggable=!0));let h=f;return f=tm(f,r,t),c?a=new Xv(e,t,r,i,f,u||null,h,c,o,s+1):t.isText?new Ho(e,t,r,i,f,h,o):new rn(e,t,r,i,f,u||null,h,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>N.empty)}return e}matchesNode(e,t,r){return this.dirty==it&&e.eq(this.node)&&Wi(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,i=t,o=e.composing?this.localCompositionInfo(e,t):null,s=o&&o.pos>-1?o:null,l=o&&o.pos<0,a=new Zv(this,s&&s.node,e);nE(this.node,this.innerDeco,(c,f,u)=>{c.spec.marks?a.syncToMarks(c.spec.marks,r,e,f):c.type.side>=0&&!u&&a.syncToMarks(f==this.node.childCount?Z.none:this.node.child(f).marks,r,e,f),a.placeWidget(c,e,i)},(c,f,u,h)=>{a.syncToMarks(c.marks,r,e,h);let p;a.findNodeMatch(c,f,u,h)||l&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(p=a.findIndexWithChild(o.node))>-1&&a.updateNodeAt(c,f,u,p,e)||a.updateNextNode(c,f,u,e,h,i)||a.addNode(c,f,u,e,i),i+=c.nodeSize}),a.syncToMarks([],r,e,0),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==gn)&&(s&&this.protectLocalComposition(e,s),Zp(this.contentDOM,this.children,e),ir&&rE(this.dom))}localCompositionInfo(e,t){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Y)||r<t||i>t+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let s=o.nodeValue,l=iE(this.node.content,s,r-t,i-t);return l<0?null:{node:o,pos:l,text:s}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:i}){if(this.getDesc(t))return;let o=t;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new Qv(this,o,t,i);e.input.compositionNodes.push(s),this.children=ca(this.children,r,r+i.length,e,s)}update(e,t,r,i){return this.dirty==At||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,i),!0)}updateInner(e,t,r,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=it}updateOuterDeco(e){if(Wi(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=em(this.dom,this.nodeDOM,aa(this.outerDeco,this.node,t),aa(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Gu(n,e,t,r,i){tm(r,e,n);let o=new rn(void 0,n,e,t,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class Ho extends rn{constructor(e,t,r,i,o,s,l){super(e,t,r,i,o,null,s,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,i){return this.dirty==At||this.dirty!=it&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=it||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=it,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let i=this.node.cut(e,t),o=document.createTextNode(i.text);return new Ho(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=At)}get domAtom(){return!1}isText(e){return this.node.text==e}}class Yp extends li{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==it&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Xv extends rn{constructor(e,t,r,i,o,s,l,a,c,f){super(e,t,r,i,o,s,l,c,f),this.spec=a}update(e,t,r,i){if(this.dirty==At)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,t,r);return o&&this.updateInner(e,t,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Zp(n,e,t){let r=n.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],l=s.dom;if(l.parentNode==n){for(;l!=r;)r=Qu(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(l,r);if(s instanceof Dn){let a=r?r.previousSibling:n.lastChild;Zp(s.contentDOM,s.children,t),r=a?a.nextSibling:n.firstChild}}for(;r;)r=Qu(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const Nr=function(n){n&&(this.nodeName=n)};Nr.prototype=Object.create(null);const yn=[new Nr];function aa(n,e,t){if(n.length==0)return yn;let r=t?yn[0]:new Nr,i=[r];for(let o=0;o<n.length;o++){let s=n[o].type.attrs;if(s){s.nodeName&&i.push(r=new Nr(s.nodeName));for(let l in s){let a=s[l];a!=null&&(t&&i.length==1&&i.push(r=new Nr(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+a:l=="style"?r.style=(r.style?r.style+";":"")+a:l!="nodeName"&&(r[l]=a))}}}return i}function em(n,e,t,r){if(t==yn&&r==yn)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],l=t[o];if(o){let a;l&&l.nodeName==s.nodeName&&i!=n&&(a=i.parentNode)&&a.nodeName.toLowerCase()==s.nodeName||(a=document.createElement(s.nodeName),a.pmIsDeco=!0,a.appendChild(i),l=yn[0]),i=a}Yv(i,l||yn[0],s)}return i}function Yv(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&n.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&n.classList.add(i[o]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function tm(n,e,t){return em(n,n,yn,aa(e,t,n.nodeType!=1))}function Wi(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function Qu(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class Zv{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=eE(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r,i){let o=0,s=this.stack.length>>1,l=Math.min(s,e.length);for(;o<l&&(o==s-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<s;)this.destroyRest(),this.top.dirty=it,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1,c=this.top.children.length;i<this.preMatch.index&&(c=Math.min(this.index+3,c));for(let f=this.index;f<c;f++){let u=this.top.children[f];if(u.matchesMark(e[s])&&!this.isLocked(u.dom)){a=f;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let f=Dn.create(this.top,e[s],t,r);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,s++}}findNodeMatch(e,t,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,t,r))o=this.top.children.indexOf(s,this.index);else for(let l=this.index,a=Math.min(this.top.children.length,l+5);l<a;l++){let c=this.top.children[l];if(c.matchesNode(e,t,r)&&!this.preMatch.matched.has(c)){o=l;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,t,r,i,o){let s=this.top.children[i];return s.dirty==At&&s.dom==s.contentDOM&&(s.dirty=gn),s.update(e,t,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=t}}updateNextNode(e,t,r,i,o,s){for(let l=this.index;l<this.top.children.length;l++){let a=this.top.children[l];if(a instanceof rn){let c=this.preMatch.matched.get(a);if(c!=null&&c!=o)return!1;let f=a.dom,u,h=this.isLocked(f)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=At&&Wi(t,a.outerDeco));if(!h&&a.update(e,t,r,i))return this.destroyBetween(this.index,l),a.dom!=f&&(this.changed=!0),this.index++,!0;if(!h&&(u=this.recreateWrapper(a,e,t,r,i,s)))return this.destroyBetween(this.index,l),this.top.children[this.index]=u,u.contentDOM&&(u.dirty=gn,u.updateChildren(i,s+1),u.dirty=it),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,i,o,s){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!Wi(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let l=rn.create(this.top,t,r,i,o,s);if(l.contentDOM){l.children=e.children,e.children=[];for(let a of l.children)a.parent=l}return e.destroy(),l}addNode(e,t,r,i,o){let s=rn.create(this.top,e,t,r,i,o);s.contentDOM&&s.updateChildren(i,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,t,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new Xp(this.top,e,t,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Dn;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Ho)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Re||Se)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new Yp(this.top,[],r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function eE(n,e){let t=e,r=t.children.length,i=n.childCount,o=new Map,s=[];e:for(;i>0;){let l;for(;;)if(r){let c=t.children[r-1];if(c instanceof Dn)t=c,r=c.children.length;else{l=c,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let a=l.node;if(a){if(a!=n.child(i-1))break;--i,o.set(l,i),s.push(l)}}return{index:i,matched:o,matches:s.reverse()}}function tE(n,e){return n.type.side-e.type.side}function nE(n,e,t,r){let i=e.locals(n),o=0;if(i.length==0){for(let c=0;c<n.childCount;c++){let f=n.child(c);r(f,i,e.forChild(o,f),c),o+=f.nodeSize}return}let s=0,l=[],a=null;for(let c=0;;){let f,u;for(;s<i.length&&i[s].to==o;){let m=i[s++];m.widget&&(f?(u||(u=[f])).push(m):f=m)}if(f)if(u){u.sort(tE);for(let m=0;m<u.length;m++)t(u[m],c,!!a)}else t(f,c,!!a);let h,p;if(a)p=-1,h=a,a=null;else if(c<n.childCount)p=c,h=n.child(c++);else break;for(let m=0;m<l.length;m++)l[m].to<=o&&l.splice(m--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)l.push(i[s++]);let d=o+h.nodeSize;if(h.isText){let m=d;s<i.length&&i[s].from<m&&(m=i[s].from);for(let y=0;y<l.length;y++)l[y].to<m&&(m=l[y].to);m<d&&(a=h.cut(m-o),h=h.cut(0,m-o),d=m,p=-1)}else for(;s<i.length&&i[s].to<d;)s++;let g=h.isInline&&!h.isLeaf?l.filter(m=>!m.inline):l.slice();r(h,g,e.forChild(o,h),p),o=d}}function rE(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function iE(n,e,t,r){for(let i=0,o=0;i<n.childCount&&o<=r;){let s=n.child(i++),l=o;if(o+=s.nodeSize,!s.isText)continue;let a=s.text;for(;i<n.childCount;){let c=n.child(i++);if(o+=c.nodeSize,!c.isText)break;a+=c.text}if(o>=t){if(o>=r&&a.slice(r-e.length-l,r-l)==e)return r-e.length;let c=l<r?a.lastIndexOf(e,r-l-1):-1;if(c>=0&&c+e.length+l>=t)return l+c;if(t==r&&a.length>=r+e.length-l&&a.slice(r-l,r-l+e.length)==e)return r}}return-1}function ca(n,e,t,r,i){let o=[];for(let s=0,l=0;s<n.length;s++){let a=n[s],c=l,f=l+=a.size;c>=t||f<=e?o.push(a):(c<e&&o.push(a.slice(0,e-c,r)),i&&(o.push(i),i=void 0),f>t&&o.push(a.slice(t-c,a.size,r)))}return o}function Ya(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),o=i&&i.size==0,s=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(s<0)return null;let l=r.resolve(s),a,c;if(qo(t)){for(a=s;i&&!i.node;)i=i.parent;let u=i.node;if(i&&u.isAtom&&_.isSelectable(u)&&i.parent&&!(u.isInline&&Mv(t.focusNode,t.focusOffset,i.dom))){let h=i.posBefore;c=new _(s==h?l:r.resolve(h))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let u=s,h=s;for(let p=0;p<t.rangeCount;p++){let d=t.getRangeAt(p);u=Math.min(u,n.docView.posFromDOM(d.startContainer,d.startOffset,1)),h=Math.max(h,n.docView.posFromDOM(d.endContainer,d.endOffset,-1))}if(u<0)return null;[a,s]=h==n.state.selection.anchor?[h,u]:[u,h],l=r.resolve(s)}else a=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(a<0)return null}let f=r.resolve(a);if(!c){let u=e=="pointer"||n.state.selection.head<l.pos&&!o?1:-1;c=Za(n,f,l,u)}return c}function nm(n){return n.editable?n.hasFocus():im(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Ft(n,e=!1){let t=n.state.selection;if(rm(n,t),!!nm(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&Se){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Mn(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)sE(n);else{let{anchor:r,head:i}=t,o,s;Xu&&!(t instanceof Y)&&(t.$from.parent.inlineContent||(o=Yu(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(s=Yu(n,t.to))),n.docView.setSelection(r,i,n,e),Xu&&(o&&Zu(o),s&&Zu(s)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&oE(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const Xu=Re||Se&&Up<63;function Yu(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),i=r<t.childNodes.length?t.childNodes[r]:null,o=r?t.childNodes[r-1]:null;if(Re&&i&&i.contentEditable=="false")return wl(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return wl(i);if(o)return wl(o)}}function wl(n){return n.contentEditable="true",Re&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function Zu(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function oE(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!nm(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function sE(n){let e=n.domSelection();if(!e)return;let t=n.cursorWrapper.dom,r=t.nodeName=="IMG";r?e.collapse(t.parentNode,Ce(t)+1):e.collapse(t,0),!r&&!n.state.selection.visible&&Ue&&nn<=11&&(t.disabled=!0,t.disabled=!1)}function rm(n,e){if(e instanceof _){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(ed(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else ed(n)}function ed(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function Za(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||Y.between(e,t,r)}function td(n){return n.editable&&!n.hasFocus()?!1:im(n)}function im(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function lE(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return Mn(e.node,e.offset,t.anchorNode,t.anchorOffset)}function fa(n,e){let{$anchor:t,$head:r}=n.selection,i=e>0?t.max(r):t.min(r),o=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return o&&G.findFrom(o,e)}function Jt(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function nd(n,e,t){let r=n.state.selection;if(r instanceof Y)if(t.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=n.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return Jt(n,new Y(r.$anchor,s))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let i=fa(n.state,e);return i&&i instanceof _?Jt(n,i):!1}else if(!(Ze&&t.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let l=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=n.docView.descAt(l))&&!s.contentDOM?_.isSelectable(o)?Jt(n,new _(e<0?n.state.doc.resolve(i.pos-o.nodeSize):i)):si?Jt(n,new Y(n.state.doc.resolve(e<0?l:l+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof _&&r.node.isInline)return Jt(n,new Y(e>0?r.$to:r.$from));{let i=fa(n.state,e);return i?Jt(n,i):!1}}}function Ki(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Mr(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function qn(n,e){return e<0?aE(n):cE(n)}function aE(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i,o,s=!1;for(rt&&t.nodeType==1&&r<Ki(t)&&Mr(t.childNodes[r],-1)&&(s=!0);;)if(r>0){if(t.nodeType!=1)break;{let l=t.childNodes[r-1];if(Mr(l,-1))i=t,o=--r;else if(l.nodeType==3)t=l,r=t.nodeValue.length;else break}}else{if(om(t))break;{let l=t.previousSibling;for(;l&&Mr(l,-1);)i=t.parentNode,o=Ce(l),l=l.previousSibling;if(l)t=l,r=Ki(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}s?ua(n,t,r):i&&ua(n,i,o)}function cE(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i=Ki(t),o,s;for(;;)if(r<i){if(t.nodeType!=1)break;let l=t.childNodes[r];if(Mr(l,1))o=t,s=++r;else break}else{if(om(t))break;{let l=t.nextSibling;for(;l&&Mr(l,1);)o=l.parentNode,s=Ce(l)+1,l=l.nextSibling;if(l)t=l,r=0,i=Ki(t);else{if(t=t.parentNode,t==n.dom)break;r=i=0}}}o&&ua(n,o,s)}function om(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function fE(n,e){for(;n&&e==n.childNodes.length&&!oi(n);)e=Ce(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function uE(n,e){for(;n&&!e&&!oi(n);)e=Ce(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function ua(n,e,t){if(e.nodeType!=3){let o,s;(s=fE(e,t))?(e=s,t=0):(o=uE(e,t))&&(e=o,t=o.nodeValue.length)}let r=n.domSelection();if(!r)return;if(qo(r)){let o=document.createRange();o.setEnd(e,t),o.setStart(e,t),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&Ft(n)},50)}function rd(n,e){let t=n.state.doc.resolve(e);if(!(Se||qp)&&t.parent.inlineContent){let i=n.coordsAtPos(e);if(e>t.start()){let o=n.coordsAtPos(e-1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<t.end()){let o=n.coordsAtPos(e+1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function id(n,e,t){let r=n.state.selection;if(r instanceof Y&&!r.empty||t.indexOf("s")>-1||Ze&&t.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let s=fa(n.state,e);if(s&&s instanceof _)return Jt(n,s)}if(!i.parent.inlineContent){let s=e<0?i:o,l=r instanceof nt?G.near(s,e):G.findFrom(s,e);return l?Jt(n,l):!1}return!1}function od(n,e){if(!(n.state.selection instanceof Y))return!0;let{$head:t,$anchor:r,empty:i}=n.state.selection;if(!t.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(o&&!o.isText){let s=n.state.tr;return e<0?s.delete(t.pos-o.nodeSize,t.pos):s.delete(t.pos,t.pos+o.nodeSize),n.dispatch(s),!0}return!1}function sd(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function dE(n){if(!Re||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;sd(n,r,"true"),setTimeout(()=>sd(n,r,"false"),20)}return!1}function hE(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function pE(n,e){let t=e.keyCode,r=hE(e);if(t==8||Ze&&t==72&&r=="c")return od(n,-1)||qn(n,-1);if(t==46&&!e.shiftKey||Ze&&t==68&&r=="c")return od(n,1)||qn(n,1);if(t==13||t==27)return!0;if(t==37||Ze&&t==66&&r=="c"){let i=t==37?rd(n,n.state.selection.from)=="ltr"?-1:1:-1;return nd(n,i,r)||qn(n,i)}else if(t==39||Ze&&t==70&&r=="c"){let i=t==39?rd(n,n.state.selection.from)=="ltr"?1:-1:1;return nd(n,i,r)||qn(n,i)}else{if(t==38||Ze&&t==80&&r=="c")return id(n,-1,r)||qn(n,-1);if(t==40||Ze&&t==78&&r=="c")return dE(n)||id(n,1,r)||qn(n,1);if(r==(Ze?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function ec(n,e){n.someProp("transformCopied",p=>{e=p(e,n)});let t=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let p=r.firstChild;t.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let s=n.someProp("clipboardSerializer")||hr.fromSchema(n.state.schema),l=um(),a=l.createElement("div");a.appendChild(s.serializeFragment(r,{document:l}));let c=a.firstChild,f,u=0;for(;c&&c.nodeType==1&&(f=fm[c.nodeName.toLowerCase()]);){for(let p=f.length-1;p>=0;p--){let d=l.createElement(f[p]);for(;a.firstChild;)d.appendChild(a.firstChild);a.appendChild(d),u++}c=a.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${o}${u?` -${u}`:""} ${JSON.stringify(t)}`);let h=n.someProp("clipboardTextSerializer",p=>p(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:a,text:h,slice:e}}function sm(n,e,t,r,i){let o=i.parent.type.spec.code,s,l;if(!t&&!e)return null;let a=!!e&&(r||o||!t);if(a){if(n.someProp("transformPastedText",h=>{e=h(e,o||r,n)}),o)return l=new I(N.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),n.someProp("transformPasted",h=>{l=h(l,n,!0)}),l;let u=n.someProp("clipboardTextParser",h=>h(e,i,r,n));if(u)l=u;else{let h=i.marks(),{schema:p}=n.state,d=hr.fromSchema(p);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let m=s.appendChild(document.createElement("p"));g&&m.appendChild(d.serializeNode(p.text(g,h)))})}}else n.someProp("transformPastedHTML",u=>{t=u(t,n)}),s=bE(t),si&&wE(s);let c=s&&s.querySelector("[data-pm-slice]"),f=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let u=+f[3];u>0;u--){let h=s.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;s=h}if(l||(l=(n.someProp("clipboardParser")||n.someProp("domParser")||Ur.fromSchema(n.state.schema)).parseSlice(s,{preserveWhitespace:!!(a||f),context:i,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!mE.test(h.parentNode.nodeName)?{ignore:!0}:null}})),f)l=xE(ld(l,+f[1],+f[2]),f[4]);else if(l=I.maxOpen(gE(l.content,i),!0),l.openStart||l.openEnd){let u=0,h=0;for(let p=l.content.firstChild;u<l.openStart&&!p.type.spec.isolating;u++,p=p.firstChild);for(let p=l.content.lastChild;h<l.openEnd&&!p.type.spec.isolating;h++,p=p.lastChild);l=ld(l,u,h)}return n.someProp("transformPasted",u=>{l=u(l,n,a)}),l}const mE=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function gE(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),o,s=[];if(n.forEach(l=>{if(!s)return;let a=i.findWrapping(l.type),c;if(!a)return s=null;if(c=s.length&&o.length&&am(a,o,l,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=cm(s[s.length-1],o.length));let f=lm(l,a);s.push(f),i=i.matchType(f.type),o=a}}),s)return N.from(s)}return n}function lm(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,N.from(n));return n}function am(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let o=am(n,e,t,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(N.from(lm(t,n,i+1))))}}function cm(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,cm(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(N.empty,!0);return n.copy(t.append(r))}function da(n,e,t,r,i,o){let s=e<0?n.firstChild:n.lastChild,l=s.content;return n.childCount>1&&(o=0),i<r-1&&(l=da(l,e,t,r,i+1,o)),i>=t&&(l=e<0?s.contentMatchAt(0).fillBefore(l,o<=i).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(N.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,s.copy(l))}function ld(n,e,t){return e<n.openStart&&(n=new I(da(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new I(da(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const fm={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let ad=null;function um(){return ad||(ad=document.implementation.createHTMLDocument("title"))}let xl=null;function yE(n){let e=window.trustedTypes;return e?(xl||(xl=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),xl.createHTML(n)):n}function bE(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=um().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),i;if((i=r&&fm[r[1].toLowerCase()])&&(n=i.map(o=>"<"+o+">").join("")+n+i.map(o=>"</"+o+">").reverse().join("")),t.innerHTML=yE(n),i)for(let o=0;o<i.length;o++)t=t.querySelector(i[o])||t;return t}function wE(n){let e=n.querySelectorAll(Se?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function xE(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:i,openStart:o,openEnd:s}=n;for(let l=r.length-2;l>=0;l-=2){let a=t.nodes[r[l]];if(!a||a.hasRequiredAttrs())break;i=N.from(a.create(r[l+1],i)),o++,s++}return new I(i,o,s)}const $e={},Be={},SE={touchstart:!0,touchmove:!0};class OE{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function vE(n){for(let e in $e){let t=$e[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{AE(n,r)&&!tc(n,r)&&(n.editable||!(r.type in Be))&&t(n,r)},SE[e]?{passive:!0}:void 0)}Re&&n.dom.addEventListener("input",()=>null),ha(n)}function tn(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function EE(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function ha(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>tc(n,r))})}function tc(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function AE(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function CE(n,e){!tc(n,e)&&$e[e.type]&&(n.editable||!(e.type in Be))&&$e[e.type](n,e)}Be.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!hm(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(It&&Se&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),ir&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,pn(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||pE(n,t)?t.preventDefault():tn(n,"key")};Be.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};Be.keypress=(n,e)=>{let t=e;if(hm(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||Ze&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof Y)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(t.charCode),o=()=>n.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",s=>s(n,r.$from.pos,r.$to.pos,i,o))&&n.dispatch(o()),t.preventDefault()}};function Wo(n){return{left:n.clientX,top:n.clientY}}function kE(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function nc(n,e,t,r,i){if(r==-1)return!1;let o=n.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(n.someProp(e,l=>s>o.depth?l(n,t,o.nodeAfter,o.before(s),i,!0):l(n,t,o.node(s),o.before(s),i,!1)))return!0;return!1}function Qn(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function TE(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&_.isSelectable(r)?(Qn(n,new _(t)),!0):!1}function RE(n,e){if(e==-1)return!1;let t=n.state.selection,r,i;t instanceof _&&(r=t.node);let o=n.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let l=s>o.depth?o.nodeAfter:o.node(s);if(_.isSelectable(l)){r&&t.$from.depth>0&&s>=t.$from.depth&&o.before(t.$from.depth+1)==t.$from.pos?i=o.before(t.$from.depth):i=o.before(s);break}}return i!=null?(Qn(n,_.create(n.state.doc,i)),!0):!1}function NE(n,e,t,r,i){return nc(n,"handleClickOn",e,t,r)||n.someProp("handleClick",o=>o(n,e,r))||(i?RE(n,t):TE(n,t))}function ME(n,e,t,r){return nc(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",i=>i(n,e,r))}function DE(n,e,t,r){return nc(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",i=>i(n,e,r))||PE(n,t,r)}function PE(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(Qn(n,Y.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),l=i.before(o);if(s.inlineContent)Qn(n,Y.create(r,l+1,l+1+s.content.size));else if(_.isSelectable(s))Qn(n,_.create(r,l));else continue;return!0}}function rc(n){return Ji(n)}const dm=Ze?"metaKey":"ctrlKey";$e.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=rc(n),i=Date.now(),o="singleClick";i-n.input.lastClick.time<500&&kE(t,n.input.lastClick)&&!t[dm]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?o="doubleClick":n.input.lastClick.type=="doubleClick"&&(o="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:o,button:t.button};let s=n.posAtCoords(Wo(t));s&&(o=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new IE(n,s,t,!!r)):(o=="doubleClick"?ME:DE)(n,s.pos,s.inside,t)?t.preventDefault():tn(n,"pointer"))};class IE{constructor(e,t,r,i){this.view=e,this.pos=t,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[dm],this.allowDefault=r.shiftKey;let o,s;if(t.inside>-1)o=e.state.doc.nodeAt(t.inside),s=t.inside;else{let f=e.state.doc.resolve(t.pos);o=f.parent,s=f.depth?f.before():0}const l=i?null:r.target,a=l?e.docView.nearestDesc(l,!0):null;this.target=a&&a.nodeDOM.nodeType==1?a.nodeDOM:null;let{selection:c}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof _&&c.from<=s&&c.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&rt&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),tn(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ft(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Wo(e))),this.updateAllowDefault(e),this.allowDefault||!t?tn(this.view,"pointer"):NE(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Re&&this.mightDrag&&!this.mightDrag.node.isAtom||Se&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Qn(this.view,G.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):tn(this.view,"pointer")}move(e){this.updateAllowDefault(e),tn(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}$e.touchstart=n=>{n.input.lastTouch=Date.now(),rc(n),tn(n,"pointer")};$e.touchmove=n=>{n.input.lastTouch=Date.now(),tn(n,"pointer")};$e.contextmenu=n=>rc(n);function hm(n,e){return n.composing?!0:Re&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const LE=It?5e3:-1;Be.compositionstart=Be.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof Y&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||Se&&qp&&FE(n)))n.markCursor=n.state.storedMarks||t.marks(),Ji(n,!0),n.markCursor=null;else if(Ji(n,!e.selection.empty),rt&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){let l=n.domSelection();l&&l.collapse(s,s.nodeValue.length);break}else i=s,o=-1}}n.input.composing=!0}pm(n,LE)};function FE(n){let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(!e||e.nodeType!=1||t>=e.childNodes.length)return!1;let r=e.childNodes[t];return r.nodeType==1&&r.contentEditable=="false"}Be.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.badSafariComposition?n.domObserver.forceFlush():n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,pm(n,20))};function pm(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>Ji(n),e))}function mm(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=BE());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function $E(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=Rv(e.focusNode,e.focusOffset),r=Nv(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let i=r.pmViewDesc,o=n.domObserver.lastChangedTextNode;if(t==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let s=t.pmViewDesc;if(!(!s||!s.isText(t.nodeValue)))return r}}return t||r}function BE(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function Ji(n,e=!1){if(!(It&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),mm(n),e||n.docView&&n.docView.dirty){let t=Ya(n),r=n.state.selection;return t&&!t.eq(r)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function zE(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const Kr=Ue&&nn<15||ir&&Iv<604;$e.copy=Be.cut=(n,e)=>{let t=e,r=n.state.selection,i=t.type=="cut";if(r.empty)return;let o=Kr?null:t.clipboardData,s=r.content(),{dom:l,text:a}=ec(n,s);o?(t.preventDefault(),o.clearData(),o.setData("text/html",l.innerHTML),o.setData("text/plain",a)):zE(n,l),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function _E(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function jE(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?Jr(n,r.value,null,i,e):Jr(n,r.textContent,r.innerHTML,i,e)},50)}function Jr(n,e,t,r,i){let o=sm(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",a=>a(n,i,o||I.empty)))return!0;if(!o)return!1;let s=_E(o),l=s?n.state.tr.replaceSelectionWith(s,r):n.state.tr.replaceSelection(o);return n.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function gm(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}Be.paste=(n,e)=>{let t=e;if(n.composing&&!It)return;let r=Kr?null:t.clipboardData,i=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&Jr(n,gm(r),r.getData("text/html"),i,t)?t.preventDefault():jE(n,t)};class ym{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const VE=Ze?"altKey":"ctrlKey";function bm(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[VE]}$e.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=n.state.selection,o=i.empty?null:n.posAtCoords(Wo(t)),s;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof _?i.to-1:i.to))){if(r&&r.mightDrag)s=_.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let u=n.docView.nearestDesc(t.target,!0);u&&u.node.type.spec.draggable&&u!=n.docView&&(s=_.create(n.state.doc,u.posBefore))}}let l=(s||n.state.selection).content(),{dom:a,text:c,slice:f}=ec(n,l);(!t.dataTransfer.files.length||!Se||Up>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(Kr?"Text":"text/html",a.innerHTML),t.dataTransfer.effectAllowed="copyMove",Kr||t.dataTransfer.setData("text/plain",c),n.dragging=new ym(f,bm(n,t),s)};$e.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};Be.dragover=Be.dragenter=(n,e)=>e.preventDefault();Be.drop=(n,e)=>{try{UE(n,e,n.dragging)}finally{n.dragging=null}};function UE(n,e,t){if(!e.dataTransfer)return;let r=n.posAtCoords(Wo(e));if(!r)return;let i=n.state.doc.resolve(r.pos),o=t&&t.slice;o?n.someProp("transformPasted",p=>{o=p(o,n,!1)}):o=sm(n,gm(e.dataTransfer),Kr?null:e.dataTransfer.getData("text/html"),!1,i);let s=!!(t&&bm(n,e));if(n.someProp("handleDrop",p=>p(n,e,o||I.empty,s))){e.preventDefault();return}if(!o)return;e.preventDefault();let l=o?Tp(n.state.doc,i.pos,o):i.pos;l==null&&(l=i.pos);let a=n.state.tr;if(s){let{node:p}=t;p?p.replace(a):a.deleteSelection()}let c=a.mapping.map(l),f=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,u=a.doc;if(f?a.replaceRangeWith(c,c,o.content.firstChild):a.replaceRange(c,c,o),a.doc.eq(u))return;let h=a.doc.resolve(c);if(f&&_.isSelectable(o.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(o.content.firstChild))a.setSelection(new _(h));else{let p=a.mapping.map(l);a.mapping.maps[a.mapping.maps.length-1].forEach((d,g,m,y)=>p=y),a.setSelection(Za(n,h,a.doc.resolve(p)))}n.focus(),n.dispatch(a.setMeta("uiEvent","drop"))}$e.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Ft(n)},20))};$e.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};$e.beforeinput=(n,e)=>{if(Se&&It&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",o=>o(n,pn(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in Be)$e[n]=Be[n];function Gr(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class Gi{constructor(e,t){this.toDOM=e,this.spec=t||vn,this.side=this.spec.side||0}map(e,t,r,i){let{pos:o,deleted:s}=e.mapResult(t.from+i,this.side<0?-1:1);return s?null:new tt(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Gi&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Gr(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class on{constructor(e,t){this.attrs=e,this.spec=t||vn}map(e,t,r,i){let o=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new tt(o,s,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof on&&Gr(this.attrs,e.attrs)&&Gr(this.spec,e.spec)}static is(e){return e.type instanceof on}destroy(){}}class ic{constructor(e,t){this.attrs=e,this.spec=t||vn}map(e,t,r,i){let o=e.mapResult(t.from+i,1);if(o.deleted)return null;let s=e.mapResult(t.to+i,-1);return s.deleted||s.pos<=o.pos?null:new tt(o.pos-r,s.pos-r,this)}valid(e,t){let{index:r,offset:i}=e.content.findIndex(t.from),o;return i==t.from&&!(o=e.child(r)).isText&&i+o.nodeSize==t.to}eq(e){return this==e||e instanceof ic&&Gr(this.attrs,e.attrs)&&Gr(this.spec,e.spec)}destroy(){}}class tt{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new tt(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new tt(e,e,new Gi(t,r))}static inline(e,t,r,i){return new tt(e,t,new on(r,i))}static node(e,t,r,i){return new tt(e,t,new ic(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof on}get widget(){return this.type instanceof Gi}}const Wn=[],vn={};class xe{constructor(e,t){this.local=e.length?e:Wn,this.children=t.length?t:Wn}static create(e,t){return t.length?Qi(t,e,0,vn):Pe}find(e,t,r){let i=[];return this.findInner(e??0,t??1e9,i,0,r),i}findInner(e,t,r,i,o){for(let s=0;s<this.local.length;s++){let l=this.local[s];l.from<=t&&l.to>=e&&(!o||o(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<t&&this.children[s+1]>e){let l=this.children[s]+1;this.children[s+2].findInner(e-l,t-l,r,i+l,o)}}map(e,t,r){return this==Pe||e.maps.length==0?this:this.mapInner(e,t,0,0,r||vn)}mapInner(e,t,r,i,o){let s;for(let l=0;l<this.local.length;l++){let a=this.local[l].map(e,r,i);a&&a.type.valid(t,a)?(s||(s=[])).push(a):o.onRemove&&o.onRemove(this.local[l].spec)}return this.children.length?qE(this.children,s||[],e,t,r,i,o):s?new xe(s.sort(En),Wn):Pe}add(e,t){return t.length?this==Pe?xe.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let i,o=0;e.forEach((l,a)=>{let c=a+r,f;if(f=xm(t,l,c)){for(i||(i=this.children.slice());o<i.length&&i[o]<a;)o+=3;i[o]==a?i[o+2]=i[o+2].addInner(l,f,c+1):i.splice(o,0,a,a+l.nodeSize,Qi(f,l,c+1,vn)),o+=3}});let s=wm(o?Sm(t):t,-r);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||s.splice(l--,1);return new xe(s.length?this.local.concat(s).sort(En):this.local,i||this.children)}remove(e){return e.length==0||this==Pe?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,l=r[o]+t,a=r[o+1]+t;for(let f=0,u;f<e.length;f++)(u=e[f])&&u.from>l&&u.to<a&&(e[f]=null,(s||(s=[])).push(u));if(!s)continue;r==this.children&&(r=this.children.slice());let c=r[o+2].removeInner(s,l+1);c!=Pe?r[o+2]=c:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let l=0;l<i.length;l++)i[l].eq(s,t)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new xe(i,r):Pe}forChild(e,t){if(this==Pe)return this;if(t.isLeaf)return xe.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let o=e+1,s=o+t.content.size;for(let l=0;l<this.local.length;l++){let a=this.local[l];if(a.from<s&&a.to>o&&a.type instanceof on){let c=Math.max(o,a.from)-o,f=Math.min(s,a.to)-o;c<f&&(i||(i=[])).push(a.copy(c,f))}}if(i){let l=new xe(i.sort(En),Wn);return r?new Xt([l,r]):l}return r||Pe}eq(e){if(this==e)return!0;if(!(e instanceof xe)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return oc(this.localsInner(e))}localsInner(e){if(this==Pe)return Wn;if(e.inlineContent||!this.local.some(on.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof on||t.push(this.local[r]);return t}forEachSet(e){e(this)}}xe.empty=new xe([],[]);xe.removeOverlap=oc;const Pe=xe.empty;class Xt{constructor(e){this.members=e}map(e,t){const r=this.members.map(i=>i.map(e,t,vn));return Xt.from(r)}forChild(e,t){if(t.isLeaf)return xe.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,t);o!=Pe&&(o instanceof Xt?r=r.concat(o.members):r.push(o))}return Xt.from(r)}eq(e){if(!(e instanceof Xt)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!t)t=o;else{r&&(t=t.slice(),r=!1);for(let s=0;s<o.length;s++)t.push(o[s])}}return t?oc(r?t:t.sort(En)):Wn}static from(e){switch(e.length){case 0:return Pe;case 1:return e[0];default:return new Xt(e.every(t=>t instanceof xe)?e:e.reduce((t,r)=>t.concat(r instanceof xe?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function qE(n,e,t,r,i,o,s){let l=n.slice();for(let c=0,f=o;c<t.maps.length;c++){let u=0;t.maps[c].forEach((h,p,d,g)=>{let m=g-d-(p-h);for(let y=0;y<l.length;y+=3){let b=l[y+1];if(b<0||h>b+f-u)continue;let w=l[y]+f-u;p>=w?l[y+1]=h<=w?-2:-1:h>=f&&m&&(l[y]+=m,l[y+1]+=m)}u+=m}),f=t.maps[c].map(f,-1)}let a=!1;for(let c=0;c<l.length;c+=3)if(l[c+1]<0){if(l[c+1]==-2){a=!0,l[c+1]=-1;continue}let f=t.map(n[c]+o),u=f-i;if(u<0||u>=r.content.size){a=!0;continue}let h=t.map(n[c+1]+o,-1),p=h-i,{index:d,offset:g}=r.content.findIndex(u),m=r.maybeChild(d);if(m&&g==u&&g+m.nodeSize==p){let y=l[c+2].mapInner(t,m,f+1,n[c]+o+1,s);y!=Pe?(l[c]=u,l[c+1]=p,l[c+2]=y):(l[c+1]=-2,a=!0)}else a=!0}if(a){let c=HE(l,n,e,t,i,o,s),f=Qi(c,r,0,s);e=f.local;for(let u=0;u<l.length;u+=3)l[u+1]<0&&(l.splice(u,3),u-=3);for(let u=0,h=0;u<f.children.length;u+=3){let p=f.children[u];for(;h<l.length&&l[h]<p;)h+=3;l.splice(h,0,f.children[u],f.children[u+1],f.children[u+2])}}return new xe(e.sort(En),l)}function wm(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let i=n[r];t.push(new tt(i.from+e,i.to+e,i.type))}return t}function HE(n,e,t,r,i,o,s){function l(a,c){for(let f=0;f<a.local.length;f++){let u=a.local[f].map(r,i,c);u?t.push(u):s.onRemove&&s.onRemove(a.local[f].spec)}for(let f=0;f<a.children.length;f+=3)l(a.children[f+2],a.children[f]+c+1)}for(let a=0;a<n.length;a+=3)n[a+1]==-1&&l(n[a+2],e[a]+o+1);return t}function xm(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,i=null;for(let o=0,s;o<n.length;o++)(s=n[o])&&s.from>t&&s.to<r&&((i||(i=[])).push(s),n[o]=null);return i}function Sm(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function Qi(n,e,t,r){let i=[],o=!1;e.forEach((l,a)=>{let c=xm(n,l,a+t);if(c){o=!0;let f=Qi(c,l,t+a+1,r);f!=Pe&&i.push(a,a+l.nodeSize,f)}});let s=wm(o?Sm(n):n,-t).sort(En);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||(r.onRemove&&r.onRemove(s[l].spec),s.splice(l--,1));return s.length||i.length?new xe(s,i):Pe}function En(n,e){return n.from-e.from||n.to-e.to}function oc(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let i=t+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==n&&(e=n.slice()),e[i]=o.copy(o.from,r.to),cd(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,o.from),cd(e,i,r.copy(o.from,r.to)));break}}}return e}function cd(n,e,t){for(;e<n.length&&En(t,n[e])>0;)e++;n.splice(e,0,t)}function Sl(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=Pe&&e.push(r)}),n.cursorWrapper&&e.push(xe.create(n.state.doc,[n.cursorWrapper.deco])),Xt.from(e)}const WE={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},KE=Ue&&nn<=11;class JE{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class GE{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new JE,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Ue&&nn<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():Re&&e.composing&&r.some(i=>i.type=="childList"&&i.target.nodeName=="TR")?(e.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),KE&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,WE)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(td(this.view)){if(this.suppressingSelectionUpdates)return Ft(this.view);if(Ue&&nn<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Mn(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let o=e.focusNode;o;o=rr(o))t.add(o);for(let o=e.anchorNode;o;o=rr(o))if(t.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&td(e)&&!this.ignoreSelectionChange(r),o=-1,s=-1,l=!1,a=[];if(e.editable)for(let f=0;f<t.length;f++){let u=this.registerMutation(t[f],a);u&&(o=o<0?u.from:Math.min(u.from,o),s=s<0?u.to:Math.max(u.to,s),u.typeOver&&(l=!0))}if(rt&&a.length){let f=a.filter(u=>u.nodeName=="BR");if(f.length==2){let[u,h]=f;u.parentNode&&u.parentNode.parentNode==h.parentNode?h.remove():u.remove()}else{let{focusNode:u}=this.currentSelection;for(let h of f){let p=h.parentNode;p&&p.nodeName=="LI"&&(!u||YE(e,u)!=p)&&h.remove()}}}else if((Se||Re)&&a.some(f=>f.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let f of a)if(f.nodeName=="BR"&&f.parentNode){let u=f.nextSibling;u&&u.nodeType==1&&u.contentEditable=="false"&&f.parentNode.removeChild(f)}}let c=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&qo(r)&&(c=Ya(e))&&c.eq(G.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Ft(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),QE(e)),e.input.badSafariComposition&&(e.input.badSafariComposition=!1,ZE(e,a)),this.handleDOMChange(o,s,l,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Ft(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let u=e.addedNodes[f];t.push(u),u.nodeType==3&&(this.lastChangedTextNode=u)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(Ue&&nn<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:u,nextSibling:h}=e.addedNodes[f];(!u||Array.prototype.indexOf.call(e.addedNodes,u)<0)&&(i=u),(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(o=h)}let s=i&&i.parentNode==e.target?Ce(i)+1:0,l=r.localPosFromDOM(e.target,s,-1),a=o&&o.parentNode==e.target?Ce(o):e.target.childNodes.length,c=r.localPosFromDOM(e.target,a,1);return{from:l,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let fd=new WeakMap,ud=!1;function QE(n){if(!fd.has(n)&&(fd.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=rt,ud)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),ud=!0}}function dd(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=n.domAtPos(n.state.selection.anchor);return Mn(s.node,s.offset,i,o)&&([t,r,i,o]=[i,o,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:o}}function XE(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return dd(n,i)}let t;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?dd(n,t):null}function YE(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function ZE(n,e){var t;let{focusNode:r,focusOffset:i}=n.domSelectionRange();for(let o of e)if(((t=o.parentNode)===null||t===void 0?void 0:t.nodeName)=="TR"){let s=o.nextSibling;for(;s&&s.nodeName!="TD"&&s.nodeName!="TH";)s=s.nextSibling;if(s){let l=s;for(;;){let a=l.firstChild;if(!a||a.nodeType!=1||a.contentEditable=="false"||/^(BR|IMG)$/.test(a.nodeName))break;l=a}l.insertBefore(o,l.firstChild),r==o&&n.domSelection().collapse(o,i)}else o.parentNode.removeChild(o)}}function eA(n,e,t){let{node:r,fromOffset:i,toOffset:o,from:s,to:l}=n.docView.parseRange(e,t),a=n.domSelectionRange(),c,f=a.anchorNode;if(f&&n.dom.contains(f.nodeType==1?f:f.parentNode)&&(c=[{node:f,offset:a.anchorOffset}],qo(a)||c.push({node:a.focusNode,offset:a.focusOffset})),Se&&n.input.lastKeyCode===8)for(let m=o;m>i;m--){let y=r.childNodes[m-1],b=y.pmViewDesc;if(y.nodeName=="BR"&&!b){o=m;break}if(!b||b.size)break}let u=n.state.doc,h=n.someProp("domParser")||Ur.fromSchema(n.state.schema),p=u.resolve(s),d=null,g=h.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:o,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:tA,context:p});if(c&&c[0].pos!=null){let m=c[0].pos,y=c[1]&&c[1].pos;y==null&&(y=m),d={anchor:m+s,head:y+s}}return{doc:g,sel:d,from:s,to:l}}function tA(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(Re&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||Re&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const nA=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function rA(n,e,t,r,i){let o=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let A=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,C=Ya(n,A);if(C&&!n.state.selection.eq(C)){if(Se&&It&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",P=>P(n,pn(13,"Enter"))))return;let D=n.state.tr.setSelection(C);A=="pointer"?D.setMeta("pointer",!0):A=="key"&&D.scrollIntoView(),o&&D.setMeta("composition",o),n.dispatch(D)}return}let s=n.state.doc.resolve(e),l=s.sharedDepth(t);e=s.before(l+1),t=n.state.doc.resolve(t).after(l+1);let a=n.state.selection,c=eA(n,e,t),f=n.state.doc,u=f.slice(c.from,c.to),h,p;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(h=n.state.selection.to,p="end"):(h=n.state.selection.from,p="start"),n.input.lastKeyCode=null;let d=sA(u.content,c.doc.content,c.from,h,p);if(d&&n.input.domChangeCount++,(ir&&n.input.lastIOSEnter>Date.now()-225||It)&&i.some(A=>A.nodeType==1&&!nA.test(A.nodeName))&&(!d||d.endA>=d.endB)&&n.someProp("handleKeyDown",A=>A(n,pn(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!d)if(r&&a instanceof Y&&!a.empty&&a.$head.sameParent(a.$anchor)&&!n.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))d={start:a.from,endA:a.to,endB:a.to};else{if(c.sel){let A=hd(n,n.state.doc,c.sel);if(A&&!A.eq(n.state.selection)){let C=n.state.tr.setSelection(A);o&&C.setMeta("composition",o),n.dispatch(C)}}return}n.state.selection.from<n.state.selection.to&&d.start==d.endB&&n.state.selection instanceof Y&&(d.start>n.state.selection.from&&d.start<=n.state.selection.from+2&&n.state.selection.from>=c.from?d.start=n.state.selection.from:d.endA<n.state.selection.to&&d.endA>=n.state.selection.to-2&&n.state.selection.to<=c.to&&(d.endB+=n.state.selection.to-d.endA,d.endA=n.state.selection.to)),Ue&&nn<=11&&d.endB==d.start+1&&d.endA==d.start&&d.start>c.from&&c.doc.textBetween(d.start-c.from-1,d.start-c.from+1)==" "&&(d.start--,d.endA--,d.endB--);let g=c.doc.resolveNoCache(d.start-c.from),m=c.doc.resolveNoCache(d.endB-c.from),y=f.resolve(d.start),b=g.sameParent(m)&&g.parent.inlineContent&&y.end()>=d.endA;if((ir&&n.input.lastIOSEnter>Date.now()-225&&(!b||i.some(A=>A.nodeName=="DIV"||A.nodeName=="P"))||!b&&g.pos<c.doc.content.size&&(!g.sameParent(m)||!g.parent.inlineContent)&&g.pos<m.pos&&!/\S/.test(c.doc.textBetween(g.pos,m.pos,"","")))&&n.someProp("handleKeyDown",A=>A(n,pn(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>d.start&&oA(f,d.start,d.endA,g,m)&&n.someProp("handleKeyDown",A=>A(n,pn(8,"Backspace")))){It&&Se&&n.domObserver.suppressSelectionUpdates();return}Se&&d.endB==d.start&&(n.input.lastChromeDelete=Date.now()),It&&!b&&g.start()!=m.start()&&m.parentOffset==0&&g.depth==m.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==d.endA&&(d.endB-=2,m=c.doc.resolveNoCache(d.endB-c.from),setTimeout(()=>{n.someProp("handleKeyDown",function(A){return A(n,pn(13,"Enter"))})},20));let w=d.start,S=d.endA,E=A=>{let C=A||n.state.tr.replace(w,S,c.doc.slice(d.start-c.from,d.endB-c.from));if(c.sel){let D=hd(n,C.doc,c.sel);D&&!(Se&&n.composing&&D.empty&&(d.start!=d.endB||n.input.lastChromeDelete<Date.now()-100)&&(D.head==w||D.head==C.mapping.map(S)-1)||Ue&&D.empty&&D.head==w)&&C.setSelection(D)}return o&&C.setMeta("composition",o),C.scrollIntoView()},T;if(b)if(g.pos==m.pos){Ue&&nn<=11&&g.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ft(n),20));let A=E(n.state.tr.delete(w,S)),C=f.resolve(d.start).marksAcross(f.resolve(d.endA));C&&A.ensureMarks(C),n.dispatch(A)}else if(d.endA==d.endB&&(T=iA(g.parent.content.cut(g.parentOffset,m.parentOffset),y.parent.content.cut(y.parentOffset,d.endA-y.start())))){let A=E(n.state.tr);T.type=="add"?A.addMark(w,S,T.mark):A.removeMark(w,S,T.mark),n.dispatch(A)}else if(g.parent.child(g.index()).isText&&g.index()==m.index()-(m.textOffset?0:1)){let A=g.parent.textBetween(g.parentOffset,m.parentOffset),C=()=>E(n.state.tr.insertText(A,w,S));n.someProp("handleTextInput",D=>D(n,w,S,A,C))||n.dispatch(C())}else n.dispatch(E());else n.dispatch(E())}function hd(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:Za(n,e.resolve(t.anchor),e.resolve(t.head))}function iA(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,i=t,o=r,s,l,a;for(let f=0;f<r.length;f++)i=r[f].removeFromSet(i);for(let f=0;f<t.length;f++)o=t[f].removeFromSet(o);if(i.length==1&&o.length==0)l=i[0],s="add",a=f=>f.mark(l.addToSet(f.marks));else if(i.length==0&&o.length==1)l=o[0],s="remove",a=f=>f.mark(l.removeFromSet(f.marks));else return null;let c=[];for(let f=0;f<e.childCount;f++)c.push(a(e.child(f)));if(N.from(c).eq(n))return{mark:l,type:s}}function oA(n,e,t,r,i){if(t-e<=i.pos-r.pos||Ol(r,!0,!1)<i.pos)return!1;let o=n.resolve(e);if(!r.parent.isTextblock){let l=o.nodeAfter;return l!=null&&t==e+l.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=n.resolve(Ol(o,!0,!0));return!s.parent.isTextblock||s.pos>t||Ol(s,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function Ol(n,e,t){let r=n.depth,i=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t){let o=n.node(r).maybeChild(n.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function sA(n,e,t,r,i){let o=n.findDiffStart(e,t);if(o==null)return null;let{a:s,b:l}=n.findDiffEnd(e,t+n.size,t+e.size);if(i=="end"){let a=Math.max(0,o-Math.min(s,l));r-=s+a-o}if(s<o&&n.size<e.size){let a=r<=o&&r>=s?o-r:0;o-=a,o&&o<e.size&&pd(e.textBetween(o-1,o+1))&&(o+=a?1:-1),l=o+(l-s),s=o}else if(l<o){let a=r<=o&&r>=l?o-r:0;o-=a,o&&o<n.size&&pd(n.textBetween(o-1,o+1))&&(o+=a?1:-1),s=o+(s-l),l=o}return{start:o,endA:s,endB:l}}function pd(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class lA{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new OE,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(wd),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=yd(this),gd(this),this.nodeViews=bd(this),this.docView=Gu(this.state.doc,md(this),Sl(this),this.dom,this),this.domObserver=new GE(this,(r,i,o,s)=>rA(this,r,i,o,s)),this.domObserver.start(),vE(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&ha(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(wd),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let i=this.state,o=!1,s=!1;e.storedMarks&&this.composing&&(mm(this),s=!0),this.state=e;let l=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(l||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let p=bd(this);cA(p,this.nodeViews)&&(this.nodeViews=p,o=!0)}(l||t.handleDOMEvents!=this._props.handleDOMEvents)&&ha(this),this.editable=yd(this),gd(this);let a=Sl(this),c=md(this),f=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",u=o||!this.docView.matchesNode(e.doc,c,a);(u||!e.selection.eq(i.selection))&&(s=!0);let h=f=="preserve"&&s&&this.dom.style.overflowAnchor==null&&$v(this);if(s){this.domObserver.stop();let p=u&&(Ue||Se)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&aA(i.selection,e.selection);if(u){let d=Se?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=$E(this)),(o||!this.docView.update(e.doc,c,a,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=Gu(e.doc,c,a,this.dom,this)),d&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&lE(this))?Ft(this,p):(rm(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():h&&Bv(h)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof _){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&Uu(this,t.getBoundingClientRect(),e)}else Uu(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-t.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new ym(e.slice,e.move,i<0?void 0:_.create(this.state.doc,i))}someProp(e,t){let r=this._props&&this._props[e],i;if(r!=null&&(i=t?t(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let l=this.directPlugins[s].props[e];if(l!=null&&(i=t?t(l):l))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let l=o[s].props[e];if(l!=null&&(i=t?t(l):l))return i}}hasFocus(){if(Ue){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&zv(this.dom),Ft(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return qv(this,e)}coordsAtPos(e,t=1){return Gp(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let i=this.docView.posFromDOM(e,t,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return Gv(this,t||this.state,e)}pasteHTML(e,t){return Jr(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Jr(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return ec(this,e)}destroy(){this.docView&&(EE(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Sl(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,kv())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return CE(this,e)}domSelectionRange(){let e=this.domSelection();return e?Re&&this.root.nodeType===11&&Dv(this.dom.ownerDocument)==this.dom&&XE(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}lA.prototype.dispatch=function(n){let e=this._props.dispatchTransaction;e?e.call(this,n):this.updateState(this.state.apply(n))};function md(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[tt.node(0,n.state.doc.content.size,e)]}function gd(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:tt.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function yd(n){return!n.someProp("editable",e=>e(n.state)===!1)}function aA(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function bd(n){let e=Object.create(null);function t(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function cA(n,e){let t=0,r=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)r++;return t!=r}function wd(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var cn={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Xi={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},fA=typeof navigator<"u"&&/Mac/.test(navigator.platform),uA=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ke=0;ke<10;ke++)cn[48+ke]=cn[96+ke]=String(ke);for(var ke=1;ke<=24;ke++)cn[ke+111]="F"+ke;for(var ke=65;ke<=90;ke++)cn[ke]=String.fromCharCode(ke+32),Xi[ke]=String.fromCharCode(ke);for(var vl in cn)Xi.hasOwnProperty(vl)||(Xi[vl]=cn[vl]);function dA(n){var e=fA&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||uA&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?Xi:cn)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const hA=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),pA=typeof navigator<"u"&&/Win/.test(navigator.platform);function mA(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,i,o,s;for(let l=0;l<e.length-1;l++){let a=e[l];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))o=!0;else if(/^mod$/i.test(a))hA?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+a)}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),s&&(t="Meta-"+t),o&&(t="Shift-"+t),t}function gA(n){let e=Object.create(null);for(let t in n)e[mA(t)]=n[t];return e}function El(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function ZC(n){return new Uo({props:{handleKeyDown:Om(n)}})}function Om(n){let e=gA(n);return function(t,r){let i=dA(r),o,s=e[El(i,r)];if(s&&s(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=e[El(i,r,!1)];if(l&&l(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(pA&&r.ctrlKey&&r.altKey)&&(o=cn[r.keyCode])&&o!=i){let l=e[El(o,r)];if(l&&l(t.state,t.dispatch,t))return!0}}return!1}}function ek(n={}){return new Uo({view(e){return new yA(e,n)}})}class yA{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=s=>{this[i](s)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r,i=this.editorView.dom,o=i.getBoundingClientRect(),s=o.width/i.offsetWidth,l=o.height/i.offsetHeight;if(t){let u=e.nodeBefore,h=e.nodeAfter;if(u||h){let p=this.editorView.nodeDOM(this.cursorPos-(u?u.nodeSize:0));if(p){let d=p.getBoundingClientRect(),g=u?d.bottom:d.top;u&&h&&(g=(g+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let m=this.width/2*l;r={left:d.left,right:d.right,top:g-m,bottom:g+m}}}}if(!r){let u=this.editorView.coordsAtPos(this.cursorPos),h=this.width/2*s;r={left:u.left-h,right:u.left+h,top:u.top,bottom:u.bottom}}let a=this.editorView.dom.offsetParent;this.element||(this.element=a.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let c,f;if(!a||a==document.body&&getComputedStyle(a).position=="static")c=-pageXOffset,f=-pageYOffset;else{let u=a.getBoundingClientRect(),h=u.width/a.offsetWidth,p=u.height/a.offsetHeight;c=u.left-a.scrollLeft*h,f=u.top-a.scrollTop*p}this.element.style.left=(r.left-c)/s+"px",this.element.style.top=(r.top-f)/l+"px",this.element.style.width=(r.right-r.left)/s+"px",this.element.style.height=(r.bottom-r.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,t,e):i;if(t&&!o){let s=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=Tp(this.editorView.state.doc,s,this.editorView.dragging.slice);l!=null&&(s=l)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class de extends G{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return de.valid(r)?new de(r):G.near(r)}content(){return I.empty}eq(e){return e instanceof de&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new de(e.resolve(t.pos))}getBookmark(){return new sc(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!bA(e)||!wA(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let i=t.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&de.valid(e))return e;let i=e.pos,o=null;for(let s=e.depth;;s--){let l=e.node(s);if(t>0?e.indexAfter(s)<l.childCount:e.index(s)>0){o=l.child(t>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;i+=t;let a=e.doc.resolve(i);if(de.valid(a))return a}for(;;){let s=t>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!_.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*t),r=!1;continue e}break}o=s,i+=t;let l=e.doc.resolve(i);if(de.valid(l))return l}return null}}}de.prototype.visible=!1;de.findFrom=de.findGapCursorFrom;G.jsonID("gapcursor",de);class sc{constructor(e){this.pos=e}map(e){return new sc(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return de.valid(t)?new de(t):G.near(t)}}function vm(n){return n.isAtom||n.spec.isolating||n.spec.createGapCursor}function bA(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||vm(i.type))return!0;if(i.inlineContent)return!1}}return!0}function wA(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||vm(i.type))return!0;if(i.inlineContent)return!1}}return!0}function tk(){return new Uo({props:{decorations:vA,createSelectionBetween(n,e,t){return e.pos==t.pos&&de.valid(t)?new de(t):null},handleClick:SA,handleKeyDown:xA,handleDOMEvents:{beforeinput:OA}}})}const xA=Om({ArrowLeft:Si("horiz",-1),ArrowRight:Si("horiz",1),ArrowUp:Si("vert",-1),ArrowDown:Si("vert",1)});function Si(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let s=r.selection,l=e>0?s.$to:s.$from,a=s.empty;if(s instanceof Y){if(!o.endOfTextblock(t)||l.depth==0)return!1;a=!1,l=r.doc.resolve(e>0?l.after():l.before())}let c=de.findGapCursorFrom(l,e,a);return c?(i&&i(r.tr.setSelection(new de(c))),!0):!1}}function SA(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!de.valid(r))return!1;let i=n.posAtCoords({left:t.clientX,top:t.clientY});return i&&i.inside>-1&&_.isSelectable(n.state.doc.nodeAt(i.inside))?!1:(n.dispatch(n.state.tr.setSelection(new de(r))),!0)}function OA(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof de))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let i=N.empty;for(let s=r.length-1;s>=0;s--)i=N.from(r[s].createAndFill(null,i));let o=n.state.tr.replace(t.pos,t.pos,new I(i,0,0));return o.setSelection(Y.near(o.doc.resolve(t.pos+1))),n.dispatch(o),!1}function vA(n){if(!(n.selection instanceof de))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",xe.create(n.doc,[tt.widget(n.selection.head,e,{key:"gapcursor"})])}var Yi=200,Oe=function(){};Oe.prototype.append=function(e){return e.length?(e=Oe.from(e),!this.length&&e||e.length<Yi&&this.leafAppend(e)||this.length<Yi&&e.leafPrepend(this)||this.appendInner(e)):this};Oe.prototype.prepend=function(e){return e.length?Oe.from(e).append(this):this};Oe.prototype.appendInner=function(e){return new EA(this,e)};Oe.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Oe.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Oe.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Oe.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};Oe.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},t,r),i};Oe.from=function(e){return e instanceof Oe?e:e&&e.length?new Em(e):Oe.empty};var Em=(function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,l){for(var a=o;a<s;a++)if(i(this.values[a],l+a)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,l){for(var a=o-1;a>=s;a--)if(i(this.values[a],l+a)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Yi)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Yi)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e})(Oe);Oe.empty=new Em([]);var EA=(function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(o,l),s)===!1||o>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,o)-l,s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(o,l)-l,s+l)===!1||o<l&&this.left.forEachInvertedInner(r,Math.min(i,l),o,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(Oe);const AA=500;class ct{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;t&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,l,a,c=[],f=[];return this.items.forEach((u,h)=>{if(!u.step){i||(i=this.remapping(r,h+1),o=i.maps.length),o--,f.push(u);return}if(i){f.push(new mt(u.map));let p=u.step.map(i.slice(o)),d;p&&s.maybeStep(p).doc&&(d=s.mapping.maps[s.mapping.maps.length-1],c.push(new mt(d,void 0,void 0,c.length+f.length))),o--,d&&i.appendMap(d,o)}else s.maybeStep(u.step);if(u.selection)return l=i?u.selection.map(i.slice(o)):u.selection,a=new ct(this.items.slice(0,r).append(f.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:a,transform:s,selection:l}}addTransform(e,t,r,i){let o=[],s=this.eventCount,l=this.items,a=!i&&l.length?l.get(l.length-1):null;for(let f=0;f<e.steps.length;f++){let u=e.steps[f].invert(e.docs[f]),h=new mt(e.mapping.maps[f],u,t),p;(p=a&&a.merge(h))&&(h=p,f?o.pop():l=l.slice(0,l.length-1)),o.push(h),t&&(s++,t=void 0),i||(a=h)}let c=s-r.depth;return c>kA&&(l=CA(l,c),s-=c),new ct(l.append(o),s)}remapping(e,t){let r=new Hr;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,t),r}addMaps(e){return this.eventCount==0?this:new ct(this.items.append(e.map(t=>new mt(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-t),o=e.mapping,s=e.steps.length,l=this.eventCount;this.items.forEach(h=>{h.selection&&l--},i);let a=t;this.items.forEach(h=>{let p=o.getMirror(--a);if(p==null)return;s=Math.min(s,p);let d=o.maps[p];if(h.step){let g=e.steps[p].invert(e.docs[p]),m=h.selection&&h.selection.map(o.slice(a+1,p));m&&l++,r.push(new mt(d,g,m))}else r.push(new mt(d))},i);let c=[];for(let h=t;h<s;h++)c.push(new mt(o.maps[h]));let f=this.items.slice(0,i).append(c).append(r),u=new ct(f,l);return u.emptyItemCount()>AA&&(u=u.compress(this.items.length-r.length)),u}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,i=[],o=0;return this.items.forEach((s,l)=>{if(l>=e)i.push(s),s.selection&&o++;else if(s.step){let a=s.step.map(t.slice(r)),c=a&&a.getMap();if(r--,c&&t.appendMap(c,r),a){let f=s.selection&&s.selection.map(t.slice(r));f&&o++;let u=new mt(c.invert(),a,f),h,p=i.length-1;(h=i.length&&i[p].merge(u))?i[p]=h:i.push(u)}}else s.map&&r--},this.items.length,0),new ct(Oe.from(i.reverse()),o)}}ct.empty=new ct(Oe.empty,0);function CA(n,e){let t;return n.forEach((r,i)=>{if(r.selection&&e--==0)return t=i,!1}),n.slice(t)}class mt{constructor(e,t,r,i){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new mt(t.getMap().invert(),t,this.selection)}}}class Gt{constructor(e,t,r,i,o){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const kA=20;function TA(n,e,t,r){let i=t.getMeta(An),o;if(i)return i.historyState;t.getMeta(MA)&&(n=new Gt(n.done,n.undone,null,0,-1));let s=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(s&&s.getMeta(An))return s.getMeta(An).redo?new Gt(n.done.addTransform(t,void 0,r,Di(e)),n.undone,xd(t.mapping.maps),n.prevTime,n.prevComposition):new Gt(n.done,n.undone.addTransform(t,void 0,r,Di(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let l=t.getMeta("composition"),a=n.prevTime==0||!s&&n.prevComposition!=l&&(n.prevTime<(t.time||0)-r.newGroupDelay||!RA(t,n.prevRanges)),c=s?Al(n.prevRanges,t.mapping):xd(t.mapping.maps);return new Gt(n.done.addTransform(t,a?e.selection.getBookmark():void 0,r,Di(e)),ct.empty,c,t.time,l??n.prevComposition)}else return(o=t.getMeta("rebased"))?new Gt(n.done.rebased(t,o),n.undone.rebased(t,o),Al(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new Gt(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),Al(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function RA(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(t=!0)}),t}function xd(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,i,o,s)=>e.push(o,s));return e}function Al(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let i=e.map(n[r],1),o=e.map(n[r+1],-1);i<=o&&t.push(i,o)}return t}function NA(n,e,t){let r=Di(e),i=An.get(e).spec.config,o=(t?n.undone:n.done).popEvent(e,r);if(!o)return null;let s=o.selection.resolve(o.transform.doc),l=(t?n.done:n.undone).addTransform(o.transform,e.selection.getBookmark(),i,r),a=new Gt(t?l:o.remaining,t?o.remaining:l,null,0,-1);return o.transform.setSelection(s).setMeta(An,{redo:t,historyState:a})}let Cl=!1,Sd=null;function Di(n){let e=n.plugins;if(Sd!=e){Cl=!1,Sd=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Cl=!0;break}}return Cl}const An=new Lp("history"),MA=new Lp("closeHistory");function nk(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Uo({key:An,state:{init(){return new Gt(ct.empty,ct.empty,null,0,-1)},apply(e,t,r){return TA(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,i=r=="historyUndo"?DA:r=="historyRedo"?PA:null;return!i||!e.editable?!1:(t.preventDefault(),i(e.state,e.dispatch))}}}})}function Am(n,e){return(t,r)=>{let i=An.getState(t);if(!i||(n?i.undone:i.done).eventCount==0)return!1;if(r){let o=NA(i,t,n);o&&r(e?o.scrollIntoView():o)}return!0}}const DA=Am(!1,!0),PA=Am(!0,!0),IA="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",LA="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",pa="numeric",ma="ascii",ga="alpha",Dr="asciinumeric",Ar="alphanumeric",ya="domain",Cm="emoji",FA="scheme",$A="slashscheme",kl="whitespace";function BA(n,e){return n in e||(e[n]=[]),e[n]}function bn(n,e,t){e[pa]&&(e[Dr]=!0,e[Ar]=!0),e[ma]&&(e[Dr]=!0,e[ga]=!0),e[Dr]&&(e[Ar]=!0),e[ga]&&(e[Ar]=!0),e[Ar]&&(e[ya]=!0),e[Cm]&&(e[ya]=!0);for(const r in e){const i=BA(r,t);i.indexOf(n)<0&&i.push(n)}}function zA(n,e){const t={};for(const r in e)e[r].indexOf(n)>=0&&(t[r]=!0);return t}function _e(n=null){this.j={},this.jr=[],this.jd=null,this.t=n}_e.groups={};_e.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],o=e.jr[r][1];if(o&&i.test(n))return o}return e.jd},has(n,e=!1){return e?n in this.j:!!this.go(n)},ta(n,e,t,r){for(let i=0;i<n.length;i++)this.tt(n[i],e,t,r)},tr(n,e,t,r){r=r||_e.groups;let i;return e&&e.j?i=e:(i=new _e(e),t&&r&&bn(e,t,r)),this.jr.push([n,i]),i},ts(n,e,t,r){let i=this;const o=n.length;if(!o)return i;for(let s=0;s<o-1;s++)i=i.tt(n[s]);return i.tt(n[o-1],e,t,r)},tt(n,e,t,r){r=r||_e.groups;const i=this;if(e&&e.j)return i.j[n]=e,e;const o=e;let s,l=i.go(n);if(l?(s=new _e,Object.assign(s.j,l.j),s.jr.push.apply(s.jr,l.jr),s.jd=l.jd,s.t=l.t):s=new _e,o){if(r)if(s.t&&typeof s.t=="string"){const a=Object.assign(zA(s.t,r),t);bn(o,a,r)}else t&&bn(o,t,r);s.t=o}return i.j[n]=s,s}};const U=(n,e,t,r,i)=>n.ta(e,t,r,i),ue=(n,e,t,r,i)=>n.tr(e,t,r,i),Od=(n,e,t,r,i)=>n.ts(e,t,r,i),R=(n,e,t,r,i)=>n.tt(e,t,r,i),Dt="WORD",ba="UWORD",km="ASCIINUMERICAL",Tm="ALPHANUMERICAL",Qr="LOCALHOST",wa="TLD",xa="UTLD",Pi="SCHEME",Kn="SLASH_SCHEME",lc="NUM",Sa="WS",ac="NL",Pr="OPENBRACE",Ir="CLOSEBRACE",Zi="OPENBRACKET",eo="CLOSEBRACKET",to="OPENPAREN",no="CLOSEPAREN",ro="OPENANGLEBRACKET",io="CLOSEANGLEBRACKET",oo="FULLWIDTHLEFTPAREN",so="FULLWIDTHRIGHTPAREN",lo="LEFTCORNERBRACKET",ao="RIGHTCORNERBRACKET",co="LEFTWHITECORNERBRACKET",fo="RIGHTWHITECORNERBRACKET",uo="FULLWIDTHLESSTHAN",ho="FULLWIDTHGREATERTHAN",po="AMPERSAND",mo="APOSTROPHE",go="ASTERISK",Qt="AT",yo="BACKSLASH",bo="BACKTICK",wo="CARET",Yt="COLON",cc="COMMA",xo="DOLLAR",gt="DOT",So="EQUALS",fc="EXCLAMATION",Ye="HYPHEN",Lr="PERCENT",Oo="PIPE",vo="PLUS",Eo="POUND",Fr="QUERY",uc="QUOTE",Rm="FULLWIDTHMIDDLEDOT",dc="SEMI",yt="SLASH",$r="TILDE",Ao="UNDERSCORE",Nm="EMOJI",Co="SYM";var Mm=Object.freeze({__proto__:null,ALPHANUMERICAL:Tm,AMPERSAND:po,APOSTROPHE:mo,ASCIINUMERICAL:km,ASTERISK:go,AT:Qt,BACKSLASH:yo,BACKTICK:bo,CARET:wo,CLOSEANGLEBRACKET:io,CLOSEBRACE:Ir,CLOSEBRACKET:eo,CLOSEPAREN:no,COLON:Yt,COMMA:cc,DOLLAR:xo,DOT:gt,EMOJI:Nm,EQUALS:So,EXCLAMATION:fc,FULLWIDTHGREATERTHAN:ho,FULLWIDTHLEFTPAREN:oo,FULLWIDTHLESSTHAN:uo,FULLWIDTHMIDDLEDOT:Rm,FULLWIDTHRIGHTPAREN:so,HYPHEN:Ye,LEFTCORNERBRACKET:lo,LEFTWHITECORNERBRACKET:co,LOCALHOST:Qr,NL:ac,NUM:lc,OPENANGLEBRACKET:ro,OPENBRACE:Pr,OPENBRACKET:Zi,OPENPAREN:to,PERCENT:Lr,PIPE:Oo,PLUS:vo,POUND:Eo,QUERY:Fr,QUOTE:uc,RIGHTCORNERBRACKET:ao,RIGHTWHITECORNERBRACKET:fo,SCHEME:Pi,SEMI:dc,SLASH:yt,SLASH_SCHEME:Kn,SYM:Co,TILDE:$r,TLD:wa,UNDERSCORE:Ao,UTLD:xa,UWORD:ba,WORD:Dt,WS:Sa});const Nt=/[a-z]/,xr=new RegExp("\\p{L}","u"),Tl=new RegExp("\\p{Emoji}","u"),Mt=/\d/,Rl=/\s/,vd="\r",Nl=`
`,_A="",jA="",Ml="";let Oi=null,vi=null;function VA(n=[]){const e={};_e.groups=e;const t=new _e;Oi==null&&(Oi=Ed(IA)),vi==null&&(vi=Ed(LA)),R(t,"'",mo),R(t,"{",Pr),R(t,"}",Ir),R(t,"[",Zi),R(t,"]",eo),R(t,"(",to),R(t,")",no),R(t,"<",ro),R(t,">",io),R(t,"",oo),R(t,"",so),R(t,"",lo),R(t,"",ao),R(t,"",co),R(t,"",fo),R(t,"",uo),R(t,"",ho),R(t,"&",po),R(t,"*",go),R(t,"@",Qt),R(t,"`",bo),R(t,"^",wo),R(t,":",Yt),R(t,",",cc),R(t,"$",xo),R(t,".",gt),R(t,"=",So),R(t,"!",fc),R(t,"-",Ye),R(t,"%",Lr),R(t,"|",Oo),R(t,"+",vo),R(t,"#",Eo),R(t,"?",Fr),R(t,'"',uc),R(t,"/",yt),R(t,";",dc),R(t,"~",$r),R(t,"_",Ao),R(t,"\\",yo),R(t,"",Rm);const r=ue(t,Mt,lc,{[pa]:!0});ue(r,Mt,r);const i=ue(r,Nt,km,{[Dr]:!0}),o=ue(r,xr,Tm,{[Ar]:!0}),s=ue(t,Nt,Dt,{[ma]:!0});ue(s,Mt,i),ue(s,Nt,s),ue(i,Mt,i),ue(i,Nt,i);const l=ue(t,xr,ba,{[ga]:!0});ue(l,Nt),ue(l,Mt,o),ue(l,xr,l),ue(o,Mt,o),ue(o,Nt),ue(o,xr,o);const a=R(t,Nl,ac,{[kl]:!0}),c=R(t,vd,Sa,{[kl]:!0}),f=ue(t,Rl,Sa,{[kl]:!0});R(t,Ml,f),R(c,Nl,a),R(c,Ml,f),ue(c,Rl,f),R(f,vd),R(f,Nl),ue(f,Rl,f),R(f,Ml,f);const u=ue(t,Tl,Nm,{[Cm]:!0});R(u,"#"),ue(u,Tl,u),R(u,_A,u);const h=R(u,jA);R(h,"#"),ue(h,Tl,u);const p=[[Nt,s],[Mt,i]],d=[[Nt,null],[xr,l],[Mt,o]];for(let g=0;g<Oi.length;g++)Wt(t,Oi[g],wa,Dt,p);for(let g=0;g<vi.length;g++)Wt(t,vi[g],xa,ba,d);bn(wa,{tld:!0,ascii:!0},e),bn(xa,{utld:!0,alpha:!0},e),Wt(t,"file",Pi,Dt,p),Wt(t,"mailto",Pi,Dt,p),Wt(t,"http",Kn,Dt,p),Wt(t,"https",Kn,Dt,p),Wt(t,"ftp",Kn,Dt,p),Wt(t,"ftps",Kn,Dt,p),bn(Pi,{scheme:!0,ascii:!0},e),bn(Kn,{slashscheme:!0,ascii:!0},e),n=n.sort((g,m)=>g[0]>m[0]?1:-1);for(let g=0;g<n.length;g++){const m=n[g][0],b=n[g][1]?{[FA]:!0}:{[$A]:!0};m.indexOf("-")>=0?b[ya]=!0:Nt.test(m)?Mt.test(m)?b[Dr]=!0:b[ma]=!0:b[pa]=!0,Od(t,m,m,b)}return Od(t,"localhost",Qr,{ascii:!0}),t.jd=new _e(Co),{start:t,tokens:Object.assign({groups:e},Mm)}}function Dm(n,e){const t=UA(e.replace(/[A-Z]/g,l=>l.toLowerCase())),r=t.length,i=[];let o=0,s=0;for(;s<r;){let l=n,a=null,c=0,f=null,u=-1,h=-1;for(;s<r&&(a=l.go(t[s]));)l=a,l.accepts()?(u=0,h=0,f=l):u>=0&&(u+=t[s].length,h++),c+=t[s].length,o+=t[s].length,s++;o-=u,s-=h,c-=u,i.push({t:f.t,v:e.slice(o-c,o),s:o-c,e:o})}return i}function UA(n){const e=[],t=n.length;let r=0;for(;r<t;){let i=n.charCodeAt(r),o,s=i<55296||i>56319||r+1===t||(o=n.charCodeAt(r+1))<56320||o>57343?n[r]:n.slice(r,r+2);e.push(s),r+=s.length}return e}function Wt(n,e,t,r,i){let o;const s=e.length;for(let l=0;l<s-1;l++){const a=e[l];n.j[a]?o=n.j[a]:(o=new _e(r),o.jr=i.slice(),n.j[a]=o),n=o}return o=new _e(t),o.jr=i.slice(),n.j[e[s-1]]=o,o}function Ed(n){const e=[],t=[];let r=0,i="0123456789";for(;r<n.length;){let o=0;for(;i.indexOf(n[r+o])>=0;)o++;if(o>0){e.push(t.join(""));for(let s=parseInt(n.substring(r,r+o),10);s>0;s--)t.pop();r+=o}else t.push(n[r]),r++}return e}const Xr={defaultProtocol:"http",events:null,format:Ad,formatHref:Ad,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function hc(n,e=null){let t=Object.assign({},Xr);n&&(t=Object.assign(t,n instanceof hc?n.o:n));const r=t.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=i}hc.prototype={o:Xr,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const r=e!=null;let i=this.o[n];return i&&(typeof i=="object"?(i=t.t in i?i[t.t]:Xr[n],typeof i=="function"&&r&&(i=i(e,t))):typeof i=="function"&&r&&(i=i(e,t.t,t)),i)},getObj(n,e,t){let r=this.o[n];return typeof r=="function"&&e!=null&&(r=r(e,t.t,t)),r},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function Ad(n){return n}function Pm(n,e){this.t="token",this.v=n,this.tk=e}Pm.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),r=n.get("format",e,this);return t&&r.length>t?r.substring(0,t)+"":r},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n=Xr.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),r=n.get("formatHref",t,this),i=n.get("tagName",t,e),o=this.toFormattedString(n),s={},l=n.get("className",t,e),a=n.get("target",t,e),c=n.get("rel",t,e),f=n.getObj("attributes",t,e),u=n.getObj("events",t,e);return s.href=r,l&&(s.class=l),a&&(s.target=a),c&&(s.rel=c),f&&Object.assign(s,f),{tagName:i,attributes:s,content:o,eventListeners:u}}};function Ko(n,e){class t extends Pm{constructor(i,o){super(i,o),this.t=n}}for(const r in e)t.prototype[r]=e[r];return t.t=n,t}const Cd=Ko("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),kd=Ko("text"),qA=Ko("nl"),Ei=Ko("url",{isLink:!0,toHref(n=Xr.defaultProtocol){return this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==Qr&&n[1].t===Yt}}),Xe=n=>new _e(n);function HA({groups:n}){const e=n.domain.concat([po,go,Qt,yo,bo,wo,xo,So,Ye,lc,Lr,Oo,vo,Eo,yt,Co,$r,Ao]),t=[mo,Yt,cc,gt,fc,Lr,Fr,uc,dc,ro,io,Pr,Ir,eo,Zi,to,no,oo,so,lo,ao,co,fo,uo,ho],r=[po,mo,go,yo,bo,wo,xo,So,Ye,Pr,Ir,Lr,Oo,vo,Eo,Fr,yt,Co,$r,Ao],i=Xe(),o=R(i,$r);U(o,r,o),U(o,n.domain,o);const s=Xe(),l=Xe(),a=Xe();U(i,n.domain,s),U(i,n.scheme,l),U(i,n.slashscheme,a),U(s,r,o),U(s,n.domain,s);const c=R(s,Qt);R(o,Qt,c),R(l,Qt,c),R(a,Qt,c);const f=R(o,gt);U(f,r,o),U(f,n.domain,o);const u=Xe();U(c,n.domain,u),U(u,n.domain,u);const h=R(u,gt);U(h,n.domain,u);const p=Xe(Cd);U(h,n.tld,p),U(h,n.utld,p),R(c,Qr,p);const d=R(u,Ye);R(d,Ye,d),U(d,n.domain,u),U(p,n.domain,u),R(p,gt,h),R(p,Ye,d);const g=R(p,Yt);U(g,n.numeric,Cd);const m=R(s,Ye),y=R(s,gt);R(m,Ye,m),U(m,n.domain,s),U(y,r,o),U(y,n.domain,s);const b=Xe(Ei);U(y,n.tld,b),U(y,n.utld,b),U(b,n.domain,s),U(b,r,o),R(b,gt,y),R(b,Ye,m),R(b,Qt,c);const w=R(b,Yt),S=Xe(Ei);U(w,n.numeric,S);const E=Xe(Ei),T=Xe();U(E,e,E),U(E,t,T),U(T,e,E),U(T,t,T),R(b,yt,E),R(S,yt,E);const A=R(l,Yt),C=R(a,Yt),D=R(C,yt),P=R(D,yt);U(l,n.domain,s),R(l,gt,y),R(l,Ye,m),U(a,n.domain,s),R(a,gt,y),R(a,Ye,m),U(A,n.domain,E),R(A,yt,E),R(A,Fr,E),U(P,n.domain,E),U(P,e,E),R(P,yt,E);const $=[[Pr,Ir],[Zi,eo],[to,no],[ro,io],[oo,so],[lo,ao],[co,fo],[uo,ho]];for(let M=0;M<$.length;M++){const[V,B]=$[M],W=R(E,V);R(T,V,W),R(W,B,E);const z=Xe(Ei);U(W,e,z);const K=Xe();U(W,t),U(z,e,z),U(z,t,K),U(K,e,z),U(K,t,K),R(z,B,E),R(K,B,E)}return R(i,Qr,b),R(i,ac,qA),{start:i,tokens:Mm}}function WA(n,e,t){let r=t.length,i=0,o=[],s=[];for(;i<r;){let l=n,a=null,c=null,f=0,u=null,h=-1;for(;i<r&&!(a=l.go(t[i].t));)s.push(t[i++]);for(;i<r&&(c=a||l.go(t[i].t));)a=null,l=c,l.accepts()?(h=0,u=l):h>=0&&h++,i++,f++;if(h<0)i-=f,i<r&&(s.push(t[i]),i++);else{s.length>0&&(o.push(Dl(kd,e,s)),s=[]),i-=h,f-=h;const p=u.t,d=t.slice(i-f,i);o.push(Dl(p,e,d))}}return s.length>0&&o.push(Dl(kd,e,s)),o}function Dl(n,e,t){const r=t[0].s,i=t[t.length-1].e,o=e.slice(r,i);return new n(o,t)}const KA=typeof console<"u"&&console&&console.warn||(()=>{}),JA="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",ce={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function rk(){return _e.groups={},ce.scanner=null,ce.parser=null,ce.tokenQueue=[],ce.pluginQueue=[],ce.customSchemes=[],ce.initialized=!1,ce}function ik(n,e=!1){if(ce.initialized&&KA(`linkifyjs: already initialized - will not register custom scheme "${n}" ${JA}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);ce.customSchemes.push([n,e])}function GA(){ce.scanner=VA(ce.customSchemes);for(let n=0;n<ce.tokenQueue.length;n++)ce.tokenQueue[n][1]({scanner:ce.scanner});ce.parser=HA(ce.scanner.tokens);for(let n=0;n<ce.pluginQueue.length;n++)ce.pluginQueue[n][1]({scanner:ce.scanner,parser:ce.parser});return ce.initialized=!0,ce}function Im(n){return ce.initialized||GA(),WA(ce.parser.start,n,Dm(ce.scanner.start,n))}Im.scan=Dm;function ok(n,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const r=new hc(t),i=Im(n),o=[];for(let s=0;s<i.length;s++){const l=i[s];l.isLink&&(!e||l.t===e)&&r.check(l)&&o.push(l.toFormattedObject(r))}return o}export{I as $,VC as A,hv as B,mv as C,hr as D,Er as E,N as F,kp as G,zC as H,_C as I,UC as J,wv as K,XC as L,yv as M,_ as N,nt as O,Uo as P,pv as Q,xt as R,G as S,Y as T,gv as U,HC as V,KC as W,WC as X,GC as Y,YC as Z,Rr as _,pe as a,JC as a0,QC as a1,Ae as a2,Te as a3,tt as a4,xe as a5,ek as a6,tk as a7,nk as a8,PA as a9,DA as aa,ik as ab,Im as ac,ok as ad,rk as ae,CC as af,kC as ag,TC as ah,RC as ai,NC as aj,DC as ak,MC as al,PC as am,IC as an,FC as ao,AC as ap,jx as aq,EC as ar,SC as as,vC as at,_x as au,Kh as b,XA as c,dr as d,YA as e,$C as f,QA as g,ZA as h,eC as i,LC as j,lA as k,nC as l,vp as m,ii as n,Lp as o,ZC as p,av as q,BC as r,tC as s,On as t,Ur as u,ri as v,bv as w,Fp as x,qC as y,jC as z};
