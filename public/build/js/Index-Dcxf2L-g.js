import{y as M,r as v,aH as x,I as P,J as u,K as m,Q as o,ae as e,H as s,at as z,Z as f,R as j,aM as g,ab as l,aa as b,aU as U,aO as h,a0 as _,aV as y}from"./vendor-core-CH6ggemF.js";import{_ as $}from"./InputError.vue_vue_type_script_setup_true_lang-C_h_UtUM.js";import{_ as w,u as I}from"./app-B72AfDkS.js";import{_ as S}from"./AppLayout.vue_vue_type_script_setup_true_lang-gIuXPmXN.js";import"./vendor-CToOQyou.js";import"./vendor-editor-zpcSff2F.js";import"./vendor-ui-B9jtnHz4.js";import"./SheetContent.vue_vue_type_script_setup_true_lang-D7J6cVVy.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DjPrsa6Z.js";const N={class:"min-h-[calc(100vh-64px)] bg-background p-6 lg:p-10"},R={class:"mx-auto max-w-4xl"},T={key:0,class:"mb-8 rounded-2xl border border-border bg-card p-8 shadow-sm backdrop-blur-sm"},E={class:"flex items-start justify-between"},K={class:"flex items-start gap-4"},H={class:"flex h-12 w-12 items-center justify-center rounded-lg bg-destructive/10 text-destructive"},A={class:"text-lg font-semibold text-foreground"},J={class:"mt-1 text-sm text-muted-foreground"},L={class:"mt-1 text-xs text-muted-foreground/60"},O={class:"flex items-center gap-2"},Q=["href"],Z={class:"rounded-2xl border border-border bg-card p-8 shadow-sm backdrop-blur-sm"},q={class:"mb-6 text-xl font-semibold text-foreground"},G={class:"space-y-2"},W={key:0,class:"text-center"},X={class:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-primary"},Y={key:1,class:"relative w-full p-4"},ee={class:"flex items-center gap-3 rounded-lg bg-muted/50 p-4"},te={class:"flex-1"},se={class:"text-sm font-medium text-foreground"},oe={class:"text-xs text-muted-foreground"},ae={class:"flex items-center justify-end gap-4 border-t border-border pt-4"},ve=M({__name:"Index",props:{cv:{}},setup(r){const C=r,{success:p,error:d}=I(),i=v(null),n=v(null),a=x({cv_file:null}),V=x({}),k=c=>{const t=c.target.files?.[0];if(t){if(t.type!=="application/pdf"){d("Please upload a PDF file.");return}if(t.size>10*1024*1024){d("File size must be less than 10MB.");return}a.cv_file=t,n.value=t.name}},F=()=>{if(!a.cv_file){d("Please select a PDF file to upload.");return}a.post(route("admin.cv.store"),{onSuccess:()=>{p("CV uploaded successfully!"),a.reset(),n.value=null,i.value&&(i.value.value="")},onError:()=>{d("Failed to upload CV. Please try again.")}})},B=()=>{confirm("Are you sure you want to delete this CV?")&&V.delete(route("admin.cv.destroy",C.cv?.id),{onSuccess:()=>{p("CV deleted successfully!")},onError:()=>{d("Failed to delete CV. Please try again.")}})},D=()=>{i.value?.click()};return(c,t)=>(u(),P(S,{breadcrumbs:[{title:"CV Management",href:c.route("admin.cv.index")}]},{default:m(()=>[o(s(z),{title:"CV Management"}),e("div",N,[e("div",R,[t[5]||(t[5]=e("div",{class:"mb-10"},[e("h2",{class:"bg-gradient-to-r from-foreground to-foreground/50 bg-clip-text text-3xl font-bold tracking-tight text-transparent"}," CV Management "),e("p",{class:"mt-2 text-muted-foreground"}," Upload and manage your CV/Resume. Visitors can download it from the landing page. ")],-1)),r.cv?(u(),f("div",T,[e("div",E,[e("div",K,[e("div",H,[o(s(g),{class:"h-6 w-6"})]),e("div",null,[e("h3",A,l(r.cv.file_name),1),e("p",J,l(r.cv.file_size_human||`${(r.cv.file_size/1024).toFixed(2)} KB`),1),e("p",L," Uploaded: "+l(new Date(r.cv.created_at).toLocaleDateString()),1)])]),e("div",O,[e("a",{href:c.route("cv.download"),target:"_blank",class:"inline-flex items-center gap-2 rounded-lg border border-border bg-muted/50 px-4 py-2 text-sm font-medium text-foreground transition-colors hover:bg-muted"},[o(s(U),{class:"h-4 w-4"}),t[1]||(t[1]=b(" Download ",-1))],8,Q),o(s(w),{variant:"ghost",size:"sm",onClick:B,class:"text-destructive hover:bg-destructive/10 hover:text-destructive"},{default:m(()=>[o(s(h),{class:"h-4 w-4"})]),_:1})])])])):j("",!0),e("div",Z,[e("h3",q,l(r.cv?"Replace CV":"Upload CV"),1),e("form",{onSubmit:_(F,["prevent"]),class:"space-y-6"},[e("div",G,[t[4]||(t[4]=e("label",{class:"text-xs font-semibold tracking-wider text-muted-foreground uppercase"}," CV File (PDF only, max 10MB) ",-1)),e("div",{class:"relative flex min-h-[200px] cursor-pointer items-center justify-center rounded-2xl border-2 border-dashed border-border bg-muted/30 transition-all hover:border-primary/50",onClick:D},[e("input",{ref_key:"fileInput",ref:i,type:"file",class:"hidden",accept:"application/pdf",onChange:k},null,544),n.value?(u(),f("div",Y,[e("div",ee,[o(s(g),{class:"h-8 w-8 text-primary"}),e("div",te,[e("p",se,l(n.value),1),e("p",oe,l(s(a).cv_file?`${(s(a).cv_file.size/1024).toFixed(2)} KB`:""),1)]),e("button",{type:"button",onClick:t[0]||(t[0]=_(re=>{s(a).cv_file=null,n.value=null,i.value&&(i.value.value="")},["stop"])),class:"flex h-8 w-8 items-center justify-center rounded-full bg-destructive/10 text-destructive transition-colors hover:bg-destructive/20"},[o(s(h),{class:"h-4 w-4"})])])])):(u(),f("div",W,[e("div",X,[o(s(y),{class:"h-6 w-6"})]),t[2]||(t[2]=e("p",{class:"mt-3 text-sm text-muted-foreground"}," Click to upload PDF file ",-1)),t[3]||(t[3]=e("p",{class:"mt-1 text-xs text-muted-foreground/60"}," Maximum file size: 10MB ",-1))]))]),o($,{message:s(a).errors.cv_file},null,8,["message"])]),e("div",ae,[o(s(w),{type:"submit",disabled:s(a).processing||!s(a).cv_file,class:"rounded-xl bg-primary px-8 py-2.5 font-bold shadow-lg shadow-primary/20 transition-all active:scale-95 disabled:opacity-50"},{default:m(()=>[o(s(y),{class:"mr-2 h-4 w-4"}),b(" "+l(r.cv?"Replace CV":"Upload CV"),1)]),_:1},8,["disabled"])])],32)])])])]),_:1},8,["breadcrumbs"]))}});export{ve as default};
