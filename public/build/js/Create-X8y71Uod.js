import{y as U,r as x,aH as D,I as O,J as i,K as g,Q as l,ae as t,H as s,at as T,a0 as y,Z as n,R as v,W as u,aI as m,ab as w,aa as c,aJ as j,ai as B}from"./vendor-core-CH6ggemF.js";import{_ as d}from"./InputError.vue_vue_type_script_setup_true_lang-C_h_UtUM.js";import{_ as h}from"./RichTextEditor.vue_vue_type_style_index_0_lang-BbbVfB3A.js";import{_ as k}from"./app-B72AfDkS.js";import{u as L}from"./useAutoSave-SCHBvFsO.js";import{_ as A}from"./AppLayout.vue_vue_type_script_setup_true_lang-gIuXPmXN.js";import"./vendor-CToOQyou.js";import"./vendor-editor-zpcSff2F.js";import"./vendor-ui-B9jtnHz4.js";import"./SheetContent.vue_vue_type_script_setup_true_lang-D7J6cVVy.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DjPrsa6Z.js";const N={class:"min-h-[calc(100vh-64px)] bg-background p-4 sm:p-6 lg:p-10"},$={class:"mx-auto max-w-5xl"},M={class:"rounded-2xl border border-border bg-card p-4 shadow-sm transition-colors sm:p-6 lg:p-8"},F={class:"space-y-2"},H={class:"space-y-2"},P={class:"space-y-2"},R={class:"space-y-2"},E={class:"grid grid-cols-1 gap-8 md:grid-cols-2"},J={class:"space-y-2"},W={class:"space-y-2"},K={key:0,class:"grid grid-cols-1 gap-8 md:grid-cols-2"},Q={class:"space-y-2"},Z={class:"grid grid-cols-1 gap-8 md:grid-cols-2"},q={class:"space-y-2"},z={class:"flex items-center justify-between"},G={class:"flex items-center gap-2"},X=["min"],Y={key:0,class:"mt-2 flex items-center gap-2 rounded-lg border border-blue-500/20 bg-blue-500/10 px-3 py-2"},ee={class:"text-xs font-medium text-blue-600 dark:text-blue-400"},te={key:1,class:"text-xs text-muted-foreground/60"},se={class:"space-y-2"},re={class:"space-y-4"},oe={key:0,class:"text-center"},le={key:1,class:"relative w-full p-4"},ae=["src"],de={class:"flex items-center justify-between border-t border-border pt-8"},ie={class:"text-xs font-medium text-muted-foreground"},ne={key:0,class:"flex items-center gap-2"},ue={key:1},me={class:"flex items-center gap-6"},Ce=U({__name:"Create",setup(pe){const f=x(null),p=x(null),r=D({title:"",slug:"",excerpt:"",content:"",featured_image:null,category:"",tags:"",published_at:"",series:"",series_order:null,is_featured:!1}),{isSaving:_,lastSaved:b}=L(r,route("admin.articles.store"),{debounceMs:3e3,enabled:!1}),S=()=>{r.transform(a=>({...a,tags:a.tags.split(",").map(e=>e.trim()).filter(Boolean)})).post(route("admin.articles.store"))},C=a=>{const e=a.target.files?.[0];e&&(r.featured_image=e,p.value=URL.createObjectURL(e))},V=()=>{f.value?.click()},I=()=>{r.featured_image=null,p.value=null};return(a,e)=>(i(),O(A,{breadcrumbs:[{title:"Articles",href:a.route("admin.articles.index")},{title:"Create",href:"#"}]},{default:g(()=>[l(s(T),{title:"Create Article"}),t("div",N,[t("div",$,[e[28]||(e[28]=t("div",{class:"mb-6 sm:mb-10"},[t("h2",{class:"bg-gradient-to-r from-foreground to-foreground/50 bg-clip-text text-2xl font-bold tracking-tight text-transparent sm:text-3xl"}," New Article "),t("p",{class:"mt-1 text-sm text-muted-foreground sm:mt-2 sm:text-base"}," Create a new blog post or article. ")],-1)),t("div",M,[t("form",{onSubmit:y(S,["prevent"]),class:"space-y-6 sm:space-y-8"},[t("div",F,[e[11]||(e[11]=t("label",{class:"text-xs font-bold tracking-widest text-muted-foreground uppercase"},"Title",-1)),u(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>s(r).title=o),type:"text",placeholder:"Article Title",class:"w-full rounded-xl border-border bg-muted/50 px-4 py-3 text-foreground placeholder-muted-foreground/50 shadow-sm transition-all focus:border-primary focus:bg-background focus:ring-2 focus:ring-primary/20 sm:text-sm"},null,512),[[m,s(r).title]]),l(d,{message:s(r).errors.title},null,8,["message"])]),t("div",H,[e[12]||(e[12]=t("label",{class:"text-xs font-bold tracking-widest text-muted-foreground uppercase"},"Slug (Optional - auto-generated from title)",-1)),u(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>s(r).slug=o),type:"text",placeholder:"article-slug",class:"w-full rounded-xl border-border bg-muted/50 px-4 py-3 text-foreground placeholder-muted-foreground/50 shadow-sm transition-all focus:border-primary focus:bg-background focus:ring-2 focus:ring-primary/20 sm:text-sm"},null,512),[[m,s(r).slug]]),l(d,{message:s(r).errors.slug},null,8,["message"])]),t("div",P,[e[13]||(e[13]=t("label",{class:"text-xs font-bold tracking-widest text-muted-foreground uppercase"},"Excerpt",-1)),l(h,{modelValue:s(r).excerpt,"onUpdate:modelValue":e[2]||(e[2]=o=>s(r).excerpt=o),placeholder:"Brief summary of the article...",rows:3},null,8,["modelValue"]),l(d,{message:s(r).errors.excerpt},null,8,["message"])]),t("div",R,[e[14]||(e[14]=t("label",{class:"text-xs font-bold tracking-widest text-muted-foreground uppercase"},"Content",-1)),l(h,{modelValue:s(r).content,"onUpdate:modelValue":e[3]||(e[3]=o=>s(r).content=o),placeholder:"Write your article content here...",rows:12},null,8,["modelValue"]),l(d,{message:s(r).errors.content},null,8,["message"])]),t("div",E,[t("div",J,[e[15]||(e[15]=t("label",{class:"text-xs font-bold tracking-widest text-muted-foreground uppercase"},"Category",-1)),u(t("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>s(r).category=o),type:"text",placeholder:"e.g. Tutorial, News",class:"w-full rounded-xl border-border bg-muted/50 px-4 py-3 text-foreground placeholder-muted-foreground/50 shadow-sm transition-all focus:border-primary focus:bg-background focus:ring-2 focus:ring-primary/20 sm:text-sm"},null,512),[[m,s(r).category]]),l(d,{message:s(r).errors.category},null,8,["message"])]),t("div",W,[e[16]||(e[16]=t("label",{class:"text-xs font-bold tracking-widest text-muted-foreground uppercase"},"Series (Optional)",-1)),u(t("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>s(r).series=o),type:"text",placeholder:"e.g. Laravel Basics",class:"w-full rounded-xl border-border bg-muted/50 px-4 py-3 text-foreground placeholder-muted-foreground/50 shadow-sm transition-all focus:border-primary focus:bg-background focus:ring-2 focus:ring-primary/20 sm:text-sm"},null,512),[[m,s(r).series]]),l(d,{message:s(r).errors.series},null,8,["message"])])]),s(r).series?(i(),n("div",K,[t("div",Q,[e[17]||(e[17]=t("label",{class:"text-xs font-bold tracking-widest text-muted-foreground uppercase"},"Series Order",-1)),u(t("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>s(r).series_order=o),type:"number",min:"1",placeholder:"1, 2, 3...",class:"w-full rounded-xl border-border bg-muted/50 px-4 py-3 text-foreground placeholder-muted-foreground/50 shadow-sm transition-all focus:border-primary focus:bg-background focus:ring-2 focus:ring-primary/20 sm:text-sm"},null,512),[[m,s(r).series_order,void 0,{number:!0}]]),e[18]||(e[18]=t("p",{class:"text-xs text-muted-foreground/60"}," Order of this article in the series. ",-1)),l(d,{message:s(r).errors.series_order},null,8,["message"])])])):v("",!0),t("div",Z,[t("div",q,[t("div",z,[e[19]||(e[19]=t("label",{class:"text-xs font-bold tracking-widest text-muted-foreground uppercase"},"Publish Date",-1)),t("div",G,[t("button",{type:"button",onClick:e[7]||(e[7]=o=>s(r).published_at=new Date().toISOString().slice(0,16)),class:"text-xs font-bold text-primary transition-colors hover:text-primary/80"}," Now "),t("button",{type:"button",onClick:e[8]||(e[8]=o=>{const ge=new Date;a.tomorrow.setDate(a.tomorrow.getDate()+1),s(r).published_at=a.tomorrow.toISOString().slice(0,16)}),class:"text-xs font-bold text-muted-foreground transition-colors hover:text-foreground"}," Tomorrow ")])]),u(t("input",{"onUpdate:modelValue":e[9]||(e[9]=o=>s(r).published_at=o),type:"datetime-local",min:new Date().toISOString().slice(0,16),class:"w-full rounded-xl border-border bg-muted/50 px-4 py-3 text-foreground placeholder-muted-foreground/50 shadow-sm transition-all focus:border-primary focus:bg-background focus:ring-2 focus:ring-primary/20 sm:text-sm"},null,8,X),[[m,s(r).published_at]]),s(r).published_at?(i(),n("div",Y,[t("span",ee," Scheduled for: "+w(new Date(s(r).published_at).toLocaleString()),1)])):(i(),n("p",te," Leave empty to save as draft. Articles without a publish date won't be visible on the public site. ")),l(d,{message:s(r).errors.published_at},null,8,["message"])])]),t("div",se,[e[20]||(e[20]=t("label",{class:"text-xs font-bold tracking-widest text-muted-foreground uppercase"},"Tags",-1)),u(t("input",{"onUpdate:modelValue":e[10]||(e[10]=o=>s(r).tags=o),type:"text",placeholder:"Laravel, Vue, Tutorial",class:"w-full rounded-xl border-border bg-muted/50 px-4 py-3 text-foreground placeholder-muted-foreground/50 shadow-sm transition-all focus:border-primary focus:bg-background focus:ring-2 focus:ring-primary/20 sm:text-sm"},null,512),[[m,s(r).tags]]),e[21]||(e[21]=t("span",{class:"text-[10px] font-bold tracking-widest text-muted-foreground/60 uppercase"},"Separate with commas",-1)),l(d,{message:s(r).errors.tags},null,8,["message"])]),t("div",re,[e[24]||(e[24]=t("label",{class:"text-xs font-bold tracking-widest text-muted-foreground uppercase"},"Featured Image (Optional)",-1)),t("div",{class:"relative flex min-h-[200px] cursor-pointer items-center justify-center rounded-2xl border-2 border-dashed border-border bg-muted/30 transition-all hover:border-primary/50",onClick:V},[t("input",{ref_key:"imageInput",ref:f,type:"file",class:"hidden",accept:"image/*",onChange:C},null,544),p.value?(i(),n("div",le,[t("img",{src:p.value,class:"h-64 w-full rounded-xl border border-border object-cover shadow-lg"},null,8,ae),t("button",{type:"button",onClick:y(I,["stop"]),class:"absolute top-8 right-8 flex h-10 w-10 items-center justify-center rounded-full bg-destructive text-destructive-foreground shadow-lg transition-transform hover:scale-110"},[...e[23]||(e[23]=[t("span",{class:"text-xl"},"Ã—",-1)])])])):(i(),n("div",oe,[...e[22]||(e[22]=[t("div",{class:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-primary"},[t("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1),t("p",{class:"mt-3 text-sm font-medium text-foreground"}," Click to upload featured image ",-1)])]))]),l(d,{message:s(r).errors.featured_image},null,8,["message"])]),t("div",de,[t("div",ie,[s(_)?(i(),n("span",ne,[l(s(j),{class:"h-3 w-3 animate-pulse"}),e[25]||(e[25]=c(" Saving... ",-1))])):s(b)?(i(),n("span",ue," Last saved: "+w(s(b).toLocaleTimeString()),1)):v("",!0)]),t("div",me,[l(s(B),{href:a.route("admin.articles.index")},{default:g(()=>[l(s(k),{variant:"ghost",type:"button",class:"font-bold text-muted-foreground hover:text-foreground"},{default:g(()=>[...e[26]||(e[26]=[c(" Cancel ",-1)])]),_:1})]),_:1},8,["href"]),l(s(k),{type:"submit",disabled:s(r).processing,class:"rounded-full bg-primary px-10 py-6 font-bold text-primary-foreground shadow-lg shadow-primary/20 transition-all hover:scale-105 active:scale-95 disabled:opacity-50"},{default:g(()=>[...e[27]||(e[27]=[c(" Publish Article ",-1)])]),_:1},8,["disabled"])])])],32)])])])]),_:1},8,["breadcrumbs"]))}});export{Ce as default};
